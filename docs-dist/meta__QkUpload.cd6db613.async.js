"use strict";(self.webpackChunkreact_components=self.webpackChunkreact_components||[]).push([[873],{86054:function(W,p,e){var E;e.r(p),e.d(p,{demos:function(){return F}});var P=e(9083),Z=e.n(P),w=e(43953),o=e.n(w),C=e(91184),h=e.n(C),v=e(38497),Q=e(79542),B=e(56690),A=e(91167),F={"qkupload-demo-0":{component:v.memo(v.lazy(h()(o()().mark(function y(){var r,c,a,f,_,n,I,j,T,U,k,z,M,O;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.resolve().then(e.bind(e,56690));case 2:return r=s.sent,c=r.message,a=r.Typography,f=r.Upload,s.next=8,Promise.resolve().then(e.t.bind(e,38497,19));case 8:return _=s.sent,n=_.default,I=_.useState,s.next=13,Promise.resolve().then(e.bind(e,91167));case 13:return j=s.sent,T=j.attachmentSimpleListItemRender,U=j.QkUpload,k=function(){var V=h()(o()().mark(function g(){return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Promise.resolve());case 1:case"end":return l.stop()}},g)}));return function(){return V.apply(this,arguments)}}(),z=a.Title,M=a.Paragraph,O=function(){var g=I([{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}]),R=Z()(g,2),l=R[0],K=R[1],D=function(t){var m=t.onSuccess,i=t.file,d=t.onError,J=new FormData,L={serviceId:"16709931833741-2022-12-4693",serviceKey:"bankTransferFile",file:i};for(var b in L)L.hasOwnProperty(b)&&J.append(b,L[b]);if((i==null?void 0:i.size)/1024/1024>10){c.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M"),d==null||d(new Error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M"));return}k().then(function(S){m==null||m({a:1,data:S})})};return n.createElement("div",{className:"p-5 border-solid border-black border m-auto bg-white"},n.createElement(a,null,n.createElement(z,null,"QkUpload"),n.createElement(M,null,n.createElement("ul",null,n.createElement("li",null,"\u4E3B\u8981\u662F\u57FA\u4E8Eantd Upload \u5B9A\u5236\u7684\u6587\u4EF6\u4E0A\u4F20")))),n.createElement(U,{title:"\u8BBE\u5907\u7533\u62A5\u767B\u8BB0\u8868",placeholder:"\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6",tooltip:"What do you want others to call you?",fileList:l,attachmentListItemFooterExtendRender:function(t){return n.createElement("div",null,"abc")},customRequest:function(t){D(t)},multiple:!0,onChange:function(t){var m=t.file,i=t.fileList;K(i.filter(function(d){return d.status!=="error"}))}}),n.createElement(U,{title:"\u8FD9\u91CC\u66F4\u6362\u4E0A\u4F20\u6309\u94AE",placeholder:"\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6",fileList:[{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}],customRequest:function(t){D(t)},uploadButtonRender:function(t){var m=t.onTriggerUpload;return n.createElement("div",null,"\u91CD\u65B0\u4E0A\u4F20")}}),n.createElement(f,{itemRender:T,fileList:[{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}],customRequest:function(t){D(t)}},n.createElement("div",null,"\u91CD\u65B0\u4E0A\u4F20")))},s.abrupt("return",{default:O});case 20:case"end":return s.stop()}},y)})))),asset:{type:"BLOCK",id:"qkupload-demo-0",refAtomIds:["QkUpload"],dependencies:{"index.tsx":{type:"FILE",value:`import { message, Typography, Upload } from 'antd';
import { type UploadProps } from 'antd/es/upload';
import React, { useState } from 'react';
import { attachmentSimpleListItemRender, QkUpload } from 'react-components';
const uploadProgress = async () => {
  return Promise.resolve();
};

const { Title, Paragraph } = Typography;

const Example: React.FC = () => {
  const [defaultFileList, setDefaultFileList] = useState<
    Pick<UploadProps, 'fileList'>['fileList']
  >([
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
  ]);
  const customRequest = (options: Record<string, any>) => {
    const { onSuccess, file, onError } = options;
    const fromData = new FormData();
    const params: any = {
      serviceId: '16709931833741-2022-12-4693',
      serviceKey: 'bankTransferFile',
      file,
    };
    for (const key in params) {
      if (params.hasOwnProperty(key)) {
        fromData.append(key, params[key]);
      }
    }

    if (file?.size / 1024 / 1024 > 10) {
      message.error('\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M');
      onError?.(new Error('\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M'));
      return;
    }

    uploadProgress().then((data) => {
      onSuccess?.({ a: 1, data });
    });
  };
  return (
    <div className="p-5 border-solid border-black border m-auto bg-white">
      <Typography>
        <Title>QkUpload</Title>
        <Paragraph>
          <ul>
            <li>\u4E3B\u8981\u662F\u57FA\u4E8Eantd Upload \u5B9A\u5236\u7684\u6587\u4EF6\u4E0A\u4F20</li>
          </ul>
        </Paragraph>
      </Typography>
      <QkUpload
        title={'\u8BBE\u5907\u7533\u62A5\u767B\u8BB0\u8868'}
        placeholder="\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6"
        tooltip="What do you want others to call you?"
        fileList={defaultFileList}
        attachmentListItemFooterExtendRender={(file) => {
          return <div>abc</div>;
        }}
        customRequest={(options) => {
          customRequest(options);
        }}
        multiple={true}
        onChange={({ file, fileList }) => {
          setDefaultFileList(
            fileList.filter((item) => item.status !== 'error'),
          );
        }}
      />
      <QkUpload
        title={'\u8FD9\u91CC\u66F4\u6362\u4E0A\u4F20\u6309\u94AE'}
        placeholder="\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6"
        fileList={[
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
        ]}
        customRequest={(options) => {
          customRequest(options);
        }}
        uploadButtonRender={({ onTriggerUpload }) => {
          return <div>\u91CD\u65B0\u4E0A\u4F20</div>;
        }}
      />
      <Upload
        itemRender={attachmentSimpleListItemRender}
        fileList={[
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
        ]}
        customRequest={(options) => {
          customRequest(options);
        }}
      >
        <div>\u91CD\u65B0\u4E0A\u4F20</div>
      </Upload>
    </div>
  );
};

export default Example;`},antd:{type:"NPM",value:"5.20.2"},react:{type:"NPM",value:"18.3.1"},"react-components":{type:"NPM",value:"0.0.1"}},entry:"index.tsx"},context:{antd:B,react:E||(E=e.t(v,2)),"react-components":A},renderOpts:{compile:function(){var y=h()(o()().mark(function c(){var a,f=arguments;return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(440).then(e.bind(e,86440));case 2:return n.abrupt("return",(a=n.sent).default.apply(a,f));case 3:case"end":return n.stop()}},c)}));function r(){return y.apply(this,arguments)}return r}()}}}},6258:function(W,p,e){e.r(p),e.d(p,{texts:function(){return P}});var E=e(79542);const P=[]}}]);
