(self.webpackChunkreact_components=self.webpackChunkreact_components||[]).push([[126],{50451:function(wi,qt,R){"use strict";R.r(qt),R.d(qt,{AntdTheme:function(){return Vt},QkAreaDrawPeriodicChart:function(){return Kn},QkBtnGroupCollapsed:function(){return qn},QkCustomModal:function(){return lr},QkCustomSteps:function(){return xr},QkCustomTags:function(){return Mr},QkDrawPeriodicChartPro:function(){return kr},QkDrawerForm:function(){return Nr},QkFixedFooter:function(){return un},QkGaoDeEchartMap:function(){return Wr},QkGaoDeMap:function(){return Gr},QkGenerateMathFormula:function(){return $r},QkImagePreview:function(){return Xr},QkLoading:function(){return gn},QkModal:function(){return ra},QkModalForm:function(){return oa},QkMultideviceRender:function(){return la},QkProDescriptions:function(){return ca},QkProTable:function(){return ma},QkQRCode:function(){return ja},QkSketchMap:function(){return ba},QkStackDrawPeriodicChart:function(){return ka},QkTreeCard:function(){return za},QkUpload:function(){return oi},attachmentSimpleListItemRender:function(){return li},downloadFile:function(){return gi},equipment:function(){return pi},firstAvailableRouter:function(){return mi},flatRoutes:function(){return hi},flatTree:function(){return ui},generateBreadcrumbs:function(){return vi},rand:function(){return fi},replaceState:function(){return Qn},useQkScrollLoad:function(){return si}});var On=R(7731),Bn=R(89750),m=R(38497),n=R(96469),zn=function(e){var t=e.children;return(0,n.jsx)(On.ZP,{locale:Bn.Z,theme:{token:{borderRadius:2,colorPrimary:"#54A349",colorLink:"#54A349"},components:{Button:{primaryShadow:"0 2px 0 rgba(84, 163, 73, 0.01)",borderRadius:2}}},children:t})},Vt=zn,Fn=R(2927),Qe=R.n(Fn),Wn=R(8345),Je=R.n(Wn),Zn=R(39346),w=R.n(Zn),ue=R(84225),Hn=R(44766),Bt=R.n(Hn),Yn=function(e){return e.map(function(t){var r=0;for(var a in t.columns)if(Object.prototype.hasOwnProperty.call(t.columns,a)){var o=t.columns[a];r+=(o==null?void 0:o.list.reduce(function(l,i){return l+Number(i.value)},0))||0}return w()(w()({},t),{},{total:r})})},Gn=function(e){return e.reduce(function(t,r){return t+r.value},0)},Xt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;try{return e.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})}catch(r){return e}};function _t(c,e){var t=w()({},c);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r],o=t[r];Je()(a)!=="object"?t[r]=a:(Je()(o)!=="object"&&(t[r]=w()({},o)),t[r]=_t(o,a))}return t}var Un=function(e){var t,r,a,o,l,i,s,u,v,d,p,I,j,L,C,P=e.options,y=P===void 0?{}:P,B=e.data,O=(0,m.useRef)(null),b=(0,m.useRef)(null),A={margin:{top:10,right:10,bottom:10,left:10},yAxios:{width:50,height:60},strip:{width:28,margin:20,radius:15,minHeight:30},background:"transparent",height:390};y=_t(A,y);var Q=(t=(r=y)===null||r===void 0?void 0:r.height)!==null&&t!==void 0?t:390,M=(a=(o=y)===null||o===void 0||(o=o.strip)===null||o===void 0?void 0:o.width)!==null&&a!==void 0?a:28,$=(l=(i=y)===null||i===void 0||(i=i.strip)===null||i===void 0?void 0:i.margin)!==null&&l!==void 0?l:20,W=(s=(u=y)===null||u===void 0||(u=u.strip)===null||u===void 0?void 0:u.radius)!==null&&s!==void 0?s:15,S=(v=(d=y)===null||d===void 0||(d=d.strip)===null||d===void 0?void 0:d.minHeight)!==null&&v!==void 0?v:30,k=(p=y.background)!==null&&p!==void 0?p:"transparent",H=(I=(j=y)===null||j===void 0||(j=j.yAxios)===null||j===void 0?void 0:j.width)!==null&&I!==void 0?I:50,z=(L=(C=y)===null||C===void 0||(C=C.yAxios)===null||C===void 0?void 0:C.height)!==null&&L!==void 0?L:390,K=0,Y=0,le=0,U=0;if(typeof y.margin=="number"){var ae;K=(ae=y.margin)!==null&&ae!==void 0?ae:0,Y=y.margin,le=y.margin,U=y.margin}else if(Je()(y.margin)==="object"){var re,oe,ce,X,q,V,me,pe;K=(re=(oe=y)===null||oe===void 0||(oe=oe.margin)===null||oe===void 0?void 0:oe.left)!==null&&re!==void 0?re:0,Y=(ce=(X=y.margin)===null||X===void 0?void 0:X.top)!==null&&ce!==void 0?ce:0,le=(q=(V=y)===null||V===void 0||(V=V.margin)===null||V===void 0?void 0:V.right)!==null&&q!==void 0?q:0,U=(me=(pe=y.margin)===null||pe===void 0?void 0:pe.bottom)!==null&&me!==void 0?me:0}console.log({marginLeft:K,marginTop:Y,marginRight:le,marginBottom:U}),console.log(y),B=Yn(B);var T=Math.max.apply(Math,Qe()(B.map(function(g){var h;return(h=g==null?void 0:g.total)!==null&&h!==void 0?h:0}))),G=function(h){return new ue.fabric.Line(h,{stroke:"#E6E6E6",strokeWidth:1,selectable:!1,hoverCursor:"normal"})},N=function(h){return new ue.fabric.Line(h,{stroke:"#CCD6EB",strokeWidth:1,selectable:!1,hoverCursor:"normal"})},E=function(h,x,D){return new ue.fabric.Text(h,{left:x,top:D,fontSize:12,fontFamily:"Arial",selectable:!1,hoverCursor:"normal",fill:"#666666"})},f=function(h){var x=h.canvas,D=h.width,F=D===void 0?0:D;{var J=K+H,Z=Q-U,_=F-le,te=Z;x.add(N([J,Z,_,te]))}{var se=K+H,ie=Y,ne=K+H,ee=Q-U;x.add(N([se,ie,ne,ee]))}for(var de=Math.floor((Q-Y-U)/z),Le=[],he=Math.ceil(T/de),we=0;we<T;)Le.push(we),we+=he;Le.push(we);for(var ge=0;ge<Le.length;ge++){var Ce=K+H,Me=Q-U-ge*z,Te=F-le,_e=Me;x.add(G([Ce,Me,Te,_e]));{var Ne=String(Xt(Le[ge],1)),je=K,et=Q-Y-U-ge*z,We=E(Ne,je,et);x.add(We),We.set({top:Math.ceil(Me-We.height/2)})}}for(var be=Math.ceil((F-K-le-H)/B.length),tt=z/he,qe=[],Ge=function(){var Ee=B[Ue],De=Ee.columns;{var Ve,ye=K+H+Ue*be,He=Math.ceil(tt*((Ve=Ee==null?void 0:Ee.total)!==null&&Ve!==void 0?Ve:1));He<S&&(He=S+5);var rt=Q-U-He,Ie=new ue.fabric.Rect({left:ye,top:rt,width:be,height:He,selectable:!1,hoverCursor:"normal",opacity:.05,fill:new ue.fabric.Gradient({type:"linear",coords:{x1:0,y1:0,x2:0,y2:He},colorStops:[{offset:0,color:"#6AC1FF"},{offset:.5,color:"#A4E2FF"}]})});x.add(Ie);{var at=be-(Object.keys(De).length*M+($*Object.keys(De).length-1)),Tt=Math.floor(ye+at/2);Object.keys(De).forEach(function(it,Qt){var At,ft,wt,jt;Tt=Math.floor(ye+2+Qt*60+at/2);var Ke=M,ct=Math.ceil(Gn(((At=De[it])===null||At===void 0?void 0:At.list)||[])*tt*.9);ct=ct<S?S:ct;var Ct=Q-U-ct-2,Re=new ue.fabric.Rect({left:Tt,top:Ct,width:Ke,height:ct,fill:(ft=De[it])===null||ft===void 0?void 0:ft.background,stroke:(wt=De[it])===null||wt===void 0?void 0:wt.background,selectable:!1,hoverCursor:"normal",rx:15,ry:15});x.add(Re);var ve=it.toUpperCase()+Object.keys(De).length,xe=new ue.fabric.Text(ve,{left:Re.left,top:Re.top,fontSize:12,fontFamily:"Arial",selectable:!1,hoverCursor:"normal",fill:(jt=De[it])===null||jt===void 0?void 0:jt.color});xe.set({left:Math.ceil(Re.left+(Re.width-xe.width)/2),top:Math.ceil(Re.top+(Re.height-xe.height)/2)}),x.add(xe)})}{var dt,gt="WMh",ut="".concat(Xt(Number(Ee.total),2),"  ").concat(gt,`
 `).concat(Ee.start.substring(0,4)," ").concat(Ee.start.substring(5)," - ").concat(Ee.end.substring(5)),Kt=Ie.left,Xe=Q-U-((dt=Ie==null?void 0:Ie.height)!==null&&dt!==void 0?dt:0)-50,ot=new ue.fabric.Text(ut,{left:Kt,top:Xe,textAlign:"center",fontSize:14,fontFamily:"Arial",fill:"#000",selectable:!1,hoverCursor:"normal"}),lt=ut.indexOf(gt);ot.setSelectionStyles({fill:"#666666"},lt,lt+gt.length),x.add(ot),ot.set({left:Math.ceil(Ie.left+(Ie.width-ot.width)/2)})}{var yt,Ye=K+H+Ue*be+2,Ze=(yt=Q-U-(Ie==null?void 0:Ie.height))!==null&&yt!==void 0?yt:0,xt=be*(Ue+1)+K+H+2,vt=Ze;qe.push({x:Ye,y:Ze},{x:xt,y:vt})}}},Ue=0;Ue<B.length;Ue++)Ge();{var pt=new ue.fabric.Polyline(qe,{fill:"transparent",stroke:"#01B5D5",strokeWidth:2,selectable:!1,hoverCursor:"normal"});x.add(pt)}};return(0,m.useLayoutEffect)(function(){var g,h,x=(g=(h=b.current)===null||h===void 0?void 0:h.offsetWidth)!==null&&g!==void 0?g:0,D={selection:!1,width:x,height:Q,backgroundColor:k},F=new ue.fabric.Canvas(O.current,D);f({canvas:F,width:x});var J=Bt().debounce(function(){var Z=document.getElementById("canvas-container"),_=Z==null?void 0:Z.clientWidth,te=Z==null?void 0:Z.clientHeight;F.setWidth(_),F.setHeight(te),F.discardActiveObject(),F.requestRenderAll(),F.clear(),f({canvas:F,width:_})},500);return window.addEventListener("resize",J),function(){window.removeEventListener("resize",J)}},[]),(0,n.jsx)("div",{className:"canvas-container",id:"canvas-container",style:{height:"100%"},ref:b,children:(0,n.jsx)("canvas",{ref:O,id:"canvas"})})},Kn=Un,en=R(12299),ke=R(98823),Jn=R(59190),St=R(9064),$n=function(e){var t=e.data,r=e.onClick,a=[],o=[];return t.filter(function(l){return l.show!==!1}).forEach(function(l){l.collapsed?a.push(l):o.push(l)}),(0,n.jsxs)(n.Fragment,{children:[o.map(function(l){return(0,n.jsx)(ke.ZP,{disabled:l.disabled===!0,type:"link",onClick:function(){typeof r=="function"&&r(l.key)},children:l.label},l.key)}),a.length>0&&(0,n.jsx)(Jn.Z,{arrow:!0,menu:{items:a,onClick:function(i){typeof r=="function"&&r(i.key)}},children:(0,n.jsx)(ke.ZP,{type:"link",children:(0,n.jsxs)(St.Z,{children:["\u66F4\u591A",(0,n.jsx)(en.Z,{})]})})})]})},qn=$n,Vn=R(9083),fe=R.n(Vn),Xn=R(84054),_n=R(26869),Fe=R.n(_n),ht=R(2060),er=R(76087),zt=R(46022),tr=Object.defineProperty,tn=Object.getOwnPropertySymbols,nr=Object.prototype.hasOwnProperty,rr=Object.prototype.propertyIsEnumerable,nn=(c,e,t)=>e in c?tr(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,ar=(c,e)=>{for(var t in e||(e={}))nr.call(e,t)&&nn(c,t,e[t]);if(tn)for(var t of tn(e))rr.call(e,t)&&nn(c,t,e[t]);return c};const ji=c=>React.createElement("svg",ar({width:17,height:16,xmlns:"http://www.w3.org/2000/svg"},c),React.createElement("title",null,"\u8DEF\u5F84"),React.createElement("path",{d:"m9.662 8 6.515-6.517a.854.854 0 0 0 0-1.2L16.14.246a.853.853 0 0 0-1.2 0L8.427 6.773 1.912.247a.853.853 0 0 0-1.2 0L.677.282a.838.838 0 0 0 0 1.2L7.19 8 .677 14.517a.854.854 0 0 0 0 1.2l.035.036a.853.853 0 0 0 1.2 0l6.515-6.517 6.514 6.517a.853.853 0 0 0 1.2 0l.036-.035a.854.854 0 0 0 0-1.2L9.662 8Z",fill:"#B0BBCD",fillRule:"nonzero"}));var ir="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTkuNjYyIDggNi41MTUtNi41MTdhLjg1NC44NTQgMCAwIDAgMC0xLjJMMTYuMTQuMjQ2YS44NTMuODUzIDAgMCAwLTEuMiAwTDguNDI3IDYuNzczIDEuOTEyLjI0N2EuODUzLjg1MyAwIDAgMC0xLjIgMEwuNjc3LjI4MmEuODM4LjgzOCAwIDAgMCAwIDEuMkw3LjE5IDggLjY3NyAxNC41MTdhLjg1NC44NTQgMCAwIDAgMCAxLjJsLjAzNS4wMzZhLjg1My44NTMgMCAwIDAgMS4yIDBsNi41MTUtNi41MTcgNi41MTQgNi41MTdhLjg1My44NTMgMCAwIDAgMS4yIDBsLjAzNi0uMDM1YS44NTQuODU0IDAgMCAwIDAtMS4yTDkuNjYyIDhaIiBmaWxsPSIjQjBCQkNEIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=",or=function(e){var t=e.title,r=e.width,a=r===void 0?500:r,o=e.children,l=e.okText,i=l===void 0?"\u786E\u5B9A":l,s=e.cancelText,u=s===void 0?"\u53D6\u6D88":s,v=e.onCancel,d=e.onOk,p=e.visible,I=p===void 0?!0:p,j=e.footerRender,L=j===void 0?!0:j,C=e.theme,P=C===void 0?"PC":C,y=e.closable,B=y===void 0?!0:y,O=e.okRender,b=O===void 0?!0:O,A=e.cancelRender,Q=A===void 0?!0:A,M=e.zIndex,$=M===void 0?1005:M,W=function(){return(0,n.jsx)("div",{className:"qk-custom-modal-footer",children:(0,n.jsxs)("div",{className:"btn-group flex items-center justify-center gap-[20px]",children:[Q&&(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(ke.ZP,{type:"default",size:"large",shape:"round",block:!0,onClick:function(){typeof v=="function"&&v()},children:u})}),b&&Q&&(0,n.jsx)("div",{className:"h-full",children:(0,n.jsx)(Xn.Z,{type:"vertical",style:{height:"30px"}})}),b&&(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(ke.ZP,{block:!0,type:"primary",size:"large",shape:"round",onClick:function(){typeof d=="function"&&d()},children:i})})]})})},S=function(){return(0,n.jsx)("div",{className:"qk-custom-modal-footer",children:(0,n.jsx)("div",{className:"btn-group flex justify-end items-end",children:(0,n.jsxs)(St.Z,{children:[Q&&(0,n.jsx)(ke.ZP,{type:"default",onClick:function(){typeof v=="function"&&v()},children:u}),b&&(0,n.jsx)(ke.ZP,{type:"primary",onClick:function(){typeof d=="function"&&d()},children:i})]})})})};return(0,n.jsxs)(m.Fragment,{children:[(0,n.jsx)(zt.Z,{unmountOnExit:!0,appear:!0,in:I,timeout:200,classNames:"qk-custom-modal",children:(0,n.jsx)("div",{style:{zIndex:$-1},className:"qk-custom-modal"})}),(0,n.jsx)(zt.Z,{unmountOnExit:!0,appear:!0,in:I,timeout:200,classNames:"qk-custom-content",children:(0,n.jsx)(Vt,{children:(0,n.jsx)("div",{style:{zIndex:$},className:Fe()("qk-custom-modal-wrap flex justify-center items-center","qk-custom-modal--".concat(P.toLowerCase())),children:(0,n.jsxs)("div",{className:"qk-custom-modal-center",style:{width:a+"px"},children:[(0,n.jsxs)("div",{className:"qk-custom-modal-header flex",children:[(0,n.jsx)("div",{className:"qk-custom-modal-header__title flex-1",children:(0,n.jsx)("span",{children:t})}),B&&(0,n.jsx)("div",{className:"qk-custom-modal-header__btn-group flex justify-center items-center",children:(0,n.jsx)("div",{className:"cursor-pointer btn-close",onClick:function(){typeof v=="function"&&v()},children:(0,n.jsx)("img",{src:ir,alt:"",className:"block"})})})]}),(0,n.jsx)("div",{className:"qk-custom-modal-content",children:o}),L&&P==="PC"&&(0,n.jsx)(S,{}),L&&P==="APP"&&(0,n.jsx)(W,{})]})})})})]})},Ft=function(e){return(0,ht.createPortal)((0,n.jsx)(or,w()({},e)),document.body)},lr=Ft,rn=m.forwardRef(function(c,e){var t=(0,m.useState)(!0),r=fe()(t,2),a=r[0],o=r[1];return(0,m.useImperativeHandle)(e,function(){return{setVisible:o}}),(0,n.jsx)(Ft,w()(w()({},c),{},{visible:a}))});rn.displayName="QkCustomModalForward";var cr=function(e){var t=m.createRef(),r=document.createElement("div"),a=(0,er.createRoot)(r);return a.render((0,n.jsx)(rn,w()(w()({},e),{},{ref:t}))),document.body.append(r),{destroy:function(){var l;(l=t.current)===null||l===void 0||l.setVisible(!1),setTimeout(function(){a.unmount(),document.body.removeChild(r)},200)}}};Ft.Create=cr;var sr=R(43953),Se=R.n(sr),dr=R(91184),$e=R.n(dr),ur=R(10723),vr=Object.defineProperty,an=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,hr=Object.prototype.propertyIsEnumerable,on=(c,e,t)=>e in c?vr(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,mr=(c,e)=>{for(var t in e||(e={}))fr.call(e,t)&&on(c,t,e[t]);if(an)for(var t of an(e))hr.call(e,t)&&on(c,t,e[t]);return c};const Ci=c=>React.createElement("svg",mr({width:18,height:14,xmlns:"http://www.w3.org/2000/svg"},c),React.createElement("title",null,"\u7F16\u7EC4"),React.createElement("defs",null,React.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"50%",id:"icon-complete_svg__a"},React.createElement("stop",{stopColor:"#FFF",offset:"0%"}),React.createElement("stop",{stopColor:"#FFF",offset:"100%"}))),React.createElement("path",{d:"m0 7.713 3.761-2.852 3.224 2.917S12.963 2.787 18 0v1.88C11.015 7.778 6.65 14 6.65 14L0 7.713Z",style:{fill:"#fff"},fill:"url(#icon-complete_svg__a)",fillRule:"nonzero"}));var pr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjUwJSIgaWQ9ImEiPjxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIG9mZnNldD0iMCUiLz48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBvZmZzZXQ9IjEwMCUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSJtMCA3LjcxMyAzLjc2MS0yLjg1MiAzLjIyNCAyLjkxN1MxMi45NjMgMi43ODcgMTggMHYxLjg4QzExLjAxNSA3Ljc3OCA2LjY1IDE0IDYuNjUgMTRMMCA3LjcxM1oiIHN0eWxlPSJmaWxsOiNmZmYiIGZpbGw9InVybCgjYSkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==",gr=function(){return(0,n.jsx)("div",{className:"mt-[20%]",children:(0,n.jsx)(gn,{})})},yr=function(e){var t,r=e.items,a=e.current,o=e.loading,l=o===void 0?!1:o,i=e.record,s=e.nextText,u=e.footerRender,v=e.onChange,d=e.onValuesChange,p=(0,m.useState)(!1),I=fe()(p,2),j=I[0],L=I[1],C=(0,m.useRef)({save:function(){},back:function(){}}),P=(0,ur.Z)(i),y=fe()(P,3),B=y[0],O=y[1],b=y[2],A=(0,m.useState)(0),Q=fe()(A,2),M=Q[0],$=Q[1],W=(0,m.useState)(),S=fe()(W,2),k=S[1],H=function(){var X=$e()(Se()().mark(function q(){var V,me;return Se()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(M!==0){T.next=2;break}return T.abrupt("return");case 2:return T.prev=2,T.next=5,(V=C.current)===null||V===void 0||(me=V.back)===null||me===void 0?void 0:me.call(V);case 5:T.next=10;break;case 7:return T.prev=7,T.t0=T.catch(2),T.abrupt("return");case 10:$(M-1),setTimeout(function(){v==null||v({current:M,record:w()(w()({},i),b()),type:"prev"})});case 12:case"end":return T.stop()}},q,null,[[2,7]])}));return function(){return X.apply(this,arguments)}}(),z=function(){var X=$e()(Se()().mark(function q(){var V,me;return Se()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return L(!0),T.prev=1,T.next=4,(V=C.current)===null||V===void 0||(me=V.save)===null||me===void 0?void 0:me.call(V);case 4:T.next=10;break;case 6:return T.prev=6,T.t0=T.catch(1),T.t0==="next"&&setTimeout(function(){v==null||v({current:M,record:w()(w()({},i),b()),type:"next"})}),T.abrupt("return");case 10:return T.prev=10,L(!1),T.finish(10);case 13:if(M!==r.length-1){T.next=15;break}return T.abrupt("return");case 15:setTimeout(function(){v==null||v({current:M,record:w()(w()({},i),b()),type:"next"})}),$(M+1);case 17:case"end":return T.stop()}},q,null,[[1,6,10,13]])}));return function(){return X.apply(this,arguments)}}(),K=(0,m.useMemo)(function(){return s?typeof s=="function"?s(M):s:M<r.length-1?"\u4E0B\u4E00\u6B65":"\u5B8C\u6210"},[M]);(0,m.useEffect)(function(){$(a)},[a]),(0,m.useEffect)(function(){k(Math.random())},[M]);var Y=w()(w()({},i),b());(0,m.useEffect)(function(){d==null||d(Y)},[JSON.stringify(Y)]);var le=function(q){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};q==="next"?z():q==="prev"?H():q==="change"?setTimeout(function(){v==null||v(w()({current:M,type:"change",record:w()(w()({},b()),V)},V)),V!=null&&V.current&&$(V.current)}):q==="setRecord"?O(w()(w()({},B),V)):q==="setCurrent"&&V!=null&&V.current&&$(V.current)},U=function(){return(0,n.jsx)(un,{className:"flex justify-end",children:(0,n.jsxs)(St.Z,{children:[M>0&&(0,n.jsx)(ke.ZP,{type:"default",onClick:H,children:"\u4E0A\u4E00\u6B65"}),(0,n.jsx)(ke.ZP,{type:"primary",loading:j,onClick:z,children:K})]})})},ae=(0,m.useMemo)(function(){if(M>r.length-1||M<0)return null;var X=r[M].content;return(0,n.jsx)(X,{ref:C,record:w()(w()({},i),b()),setRecord:O,next:z,prev:H,dispatch:le})},[M,i,B]),re=(0,m.useMemo)(function(){var X=0;return r.reduce(function(q,V){return V.hideInSteps||(X=X+1),q.push(w()(w()({},V),{},{stepIndex:V.hideInSteps?0:X})),q},[])},[r.length]),oe=function(){if(typeof u=="function"){var q=u(w()(w()({next:z,prev:H,dispatch:le},C.current),{},{current:M,record:B,nextLoading:j}));return q===void 0?(0,n.jsx)(U,{}):q===null?(0,n.jsx)(n.Fragment,{}):q}else return(0,n.jsx)(U,{})},ce=((t=re.find(function(X,q){return q===M}))===null||t===void 0?void 0:t.key)||0;return(0,n.jsxs)("div",{className:"qk-custom-steps flex flex-col",children:[(0,n.jsx)("div",{className:"qk-custom-steps-header",children:(0,n.jsx)("ul",{className:"flex justify-center",children:re.map(function(X,q){return(0,n.jsxs)("li",{className:Fe()("flex items-center",{"step-item-active":q===M||X.key===ce,"step-item-complete":M>q,hidden:X.stepIndex===0}),children:[(0,n.jsx)("span",{className:"flex step-item-icon justify-center items-center ",children:M>q?(0,n.jsx)("img",{src:pr}):X.stepIndex}),(0,n.jsx)("span",{className:"step-item-title",children:X.title}),(0,n.jsx)("span",{className:"step-item-line"})]},"T-"+q)})})}),(0,n.jsx)("div",{className:"qk-custom-steps-content flex-1",children:l?(0,n.jsx)(gr,{}):ae}),(0,n.jsx)("div",{className:"qk-custom-steps-footer",children:oe()})]})},xr=yr,Ar={},wr=function(e){var t=e.rows,r=e.gap,a=(0,m.useState)([]),o=fe()(a,2),l=o[0],i=o[1],s=(0,m.useRef)([]),u=(0,m.useRef)(0),v=(0,m.useRef)(0),d=(0,m.useState)([]),p=fe()(d,2),I=p[0],j=p[1],L=function(b){return b.map(function(A){return{value:A,render:!0,width:0,key:Math.random().toString()}})},C=function(b){for(var A=s.current,Q=[],M=0;M<b;M++){Q.push([]);for(var $=0,W=Q.flat().length;W<A.length;W++)$+=A[W].width+r,$<u.current-(b-1===M?v.current:0)&&Q[M].push(A[W])}i(Q.flat())},P=function(b,A){s.current[b].width=A,l.length-1===b&&C(t)},y=function(b){u.current=b},B=function(b){v.current=b};return(0,m.useEffect)(function(){var O=L(I);s.current=O,i(O)},[I]),{formatted:l,widthBackfilling:P,setContainerWidth:y,setMoreWidth:B,setDataList:j}},jr=function(e){var t=e.value,r=e.onLoadingCompleted,a=e.itemStyle,o=(0,m.useRef)(null);return(0,m.useLayoutEffect)(function(){var l;r==null||r(((l=o.current)===null||l===void 0?void 0:l.offsetWidth)||0)},[]),(0,n.jsx)("span",{style:a,ref:o,children:t})},Cr=function(e){var t=e.data,r=t===void 0?[]:t,a=e.gap,o=a===void 0?10:a,l=e.itemStyle,i=l===void 0?{}:l,s=e.rows,u=s===void 0?1:s,v=e.moreRender,d=v===void 0?!0:v,p=e.moreText,I=p===void 0?"\u66F4\u591A":p,j=e.onLoadingCompleted,L=(0,m.useRef)(null),C=(0,m.useRef)(null),P=(0,m.useState)(!0),y=fe()(P,2),B=y[0],O=y[1],b=wr({rows:u,gap:o}),A=b.formatted,Q=b.widthBackfilling,M=b.setContainerWidth,$=b.setMoreWidth,W=b.setDataList;return(0,m.useLayoutEffect)(function(){var S,k;M(((S=L.current)===null||S===void 0?void 0:S.offsetWidth)||0),$(((k=C.current)===null||k===void 0?void 0:k.offsetWidth)||0)},[]),(0,m.useEffect)(function(){W(r)},[r]),(0,m.useEffect)(function(){j==null||j({isMore:r.length!==A.length}),O(r.length!==A.length)},[r,A]),(0,n.jsxs)("div",{className:Fe()("flex flex-auto flex-wrap",Ar["qk-custom-tags"]),ref:L,style:{gap:o+"px"},children:[A.map(function(S,k){return S.render&&(0,n.jsx)(jr,{value:S.value,itemStyle:i,onLoadingCompleted:function(z){Q(k,z)}},S.key)}),(0,n.jsx)("div",{ref:C,children:function(){if(typeof d=="function"&&B)return d((A==null?void 0:A.length)||0);if(d&&B)return(0,n.jsx)("div",{children:I})}()})]})},Mr=Cr,Sr=R(84157),Lr=function(e){return(0,n.jsx)(Sr.a,w()({},e))},Nr=Lr,br=R(5599),ln=R.n(br),Ir=function(e){var t={},r=ln()(e),a;try{for(r.s();!(a=r.n()).done;){var o,l,i=a.value;i.start=(o=i.start)===null||o===void 0?void 0:o.replace(/\//g,"-"),i.end=(l=i.end)===null||l===void 0?void 0:l.replace(/\//g,"-"),t[i.id]?t[i.id].push(i):t[i.id]=[i]}}catch(s){r.e(s)}finally{r.f()}return t},cn=function(e){var t,r,a=e.containerWidth,o=a===void 0?0:a,l=e.fabricText;if((t=o>(l==null?void 0:l.width))!==null&&t!==void 0&&t)return l==null?void 0:l.text;for(var i=(l==null?void 0:l.width)/(l==null||(r=l.text)===null||r===void 0?void 0:r.length),s=0,u="";u.length*i<o-50;)u+=l.text.substr(s,1),s++;return u+"..."},Er=function(e){var t=new Date(Math.min.apply(Math,Qe()(e.map(function(a){return new Date(a.start).getTime()})))),r=new Date(Math.max.apply(Math,Qe()(e.map(function(a){return new Date(a.end).getTime()}))));return{minDate:new Date(t),maxDate:new Date(r)}},Lt=function(e,t){for(var r=[],a=new Date(e),o=new Date(t);a<=o;)r.push(a.toISOString().slice(0,10)),a.setDate(a.getDate()+1);return r},sn=function(e,t){if(!t)return{left:0,top:0};var r=Math.ceil(e.left+e.width/2-t.offsetWidth/2),a=Math.ceil(e.top-t.offsetHeight-10);return{left:r,top:a}};function dn(c,e){var t=w()({},c);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r],o=t[r];Je()(a)!=="object"?t[r]=a:(Je()(o)!=="object"&&(t[r]=w()({},o)),t[r]=dn(o,a))}return t}var Dr=function(e){var t,r,a,o,l,i,s,u,v=e.options,d=v===void 0?{}:v,p=e.data,I=(0,m.useRef)(null),j=(0,m.useRef)(null),L=(0,m.useRef)(null),C=(0,m.useRef)(null),P=(0,m.useState)({left:0,top:0,text:"",show:!1}),y=fe()(P,2),B=y[0],O=y[1],b=(0,m.useRef)(0),A=Ir(p),Q={height:28,diyDrawXaxios:!1,margin:{top:50,right:10,bottom:10,left:10},transparent:"transparent",xAxios:{labelWidth:120,width:80,show:!0},strip:{height:28,margin:20},yAxios:{nameTextStyle:{color:"#000",fontSize:12,underline:!1},showToolTip:!0}};d=dn(Q,d);var M=0,$=(t=(r=d)===null||r===void 0||(r=r.strip)===null||r===void 0?void 0:r.height)!==null&&t!==void 0?t:28,W=(a=(o=d)===null||o===void 0||(o=o.strip)===null||o===void 0?void 0:o.margin)!==null&&a!==void 0?a:28,S=(l=(i=d)===null||i===void 0||(i=i.xAxios)===null||i===void 0?void 0:i.width)!==null&&l!==void 0?l:80,k=(s=(u=d)===null||u===void 0||(u=u.yAxios)===null||u===void 0?void 0:u.width)!==null&&s!==void 0?s:120,H=0,z=0,K=0,Y=0;if(typeof d.margin=="number")H=d.margin,z=d.margin,K=d.margin,Y=d.margin;else if(Je()(d.margin)==="object"){var le,U,ae,re,oe,ce,X,q;H=(le=(U=d)===null||U===void 0||(U=U.margin)===null||U===void 0?void 0:U.left)!==null&&le!==void 0?le:0,z=(ae=(re=d.margin)===null||re===void 0?void 0:re.top)!==null&&ae!==void 0?ae:0,K=(oe=(ce=d)===null||ce===void 0||(ce=ce.margin)===null||ce===void 0?void 0:ce.right)!==null&&oe!==void 0?oe:0,Y=(X=(q=d.margin)===null||q===void 0?void 0:q.bottom)!==null&&X!==void 0?X:0}var V=Object.keys(A).length;M||(M=z+Y+V*$+V*W+W);var me=function(h,x){x.show?O(function(D){return w()(w()({},D),x)}):(b.current&&clearTimeout(b.current),b.current=setTimeout(function(){O(function(D){return w()(w()({},D),{},{show:!1})})},1e3))},pe=function(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#979797";return new ue.fabric.Line(h,{stroke:x,strokeWidth:1,opacity:.2,selectable:!1,hoverCursor:"normal",strokeDashArray:[5,5]})},T=function(h){return new ue.fabric.Line(h,{stroke:"#D7D7D7",strokeWidth:1,selectable:!1,hoverCursor:"normal"})},G=function(h){var x=h.text,D=new ue.fabric.Rect({left:0,top:0,width:100,height:30,fill:"rgba(0,0,0,0.8)",stroke:"rgba(0,0,0,0.8)",selectable:!1,hoverCursor:"normal",rx:4,ry:4}),F=new ue.fabric.Text(x,{left:0,top:0,fontSize:12,fontFamily:"Arial",selectable:!1,hoverCursor:"normal",fill:"#fff"});F.set({left:D.width/2-F.width/2,top:D.height/2-F.height/2});var J=new ue.fabric.Group([]);return J.addWithUpdate(D),J.addWithUpdate(F),J},N=function(h,x,D){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#666666",J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,Z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"normal",_=arguments.length>6&&arguments[6]!==void 0?arguments[6]:12;return new ue.fabric.Text(h,{left:x,top:D,fontSize:_,fontFamily:"Arial",selectable:!1,hoverCursor:Z,fill:F,underline:J})},E=function(h){var x,D=h.canvas,F=h.width,J=F===void 0?0:F;{var Z=H+k,_=z,te=J-K,se=_;D.add(T([Z,_,te,se]))}{var ie=J-H-K-1,ne=M-z-Y-1,ee=z+1,de=H,Le=new ue.fabric.Rect({left:de,top:ee,width:ie,height:ne,fill:"#F9F9F9",stroke:"#F9F9F9",selectable:!1,hoverCursor:"normal"});D.add(Le)}for(var he=Er(p),we=he.minDate,ge=he.maxDate,Ce=Lt(we,ge),Me=Math.floor((J-H-K-k)/S),Te=Math.ceil(Ce.length/Me),_e=[],Ne=0;Ne<Ce.length;Ne++){var je=Ce[Ne];Ne%Te===0&&_e.push(je)}for(var et=S/Te,We=0;We<_e.length;We++){var be;if((be=d)!==null&&be!==void 0&&(be=be.xAxios)!==null&&be!==void 0&&be.show){var tt=H+k+We*S,qe=z,Ge=tt,Ue=M-Y;D.add(pe([tt,qe,Ge,Ue]));var pt=String(_e[We]).replace(/-/g,"/"),nt=H+k+We*S,Ee=z,De=N(pt,nt,Ee);D.add(De),De.set({left:Math.floor(nt-De.width/2),top:qe-Math.floor(De.height+10)})}}if((x=d)!==null&&x!==void 0&&x.diyDrawXaxios)for(var Ve={left:0,width:0},ye=0;ye<Ce.length;ye++){var He=Ce[ye];if(new Date(He).getDate()===1||ye===0||ye===Ce.length-1){var rt=Math.ceil(H+k+(Lt(new Date(we),new Date(He)).length-1)*et),Ie=z,at=rt,Tt=M-Y,dt=pe([rt,Ie,at,Tt]);D.add(dt);var gt=ye===0||ye===Ce.length-1?String(He.replace(/-/g,"/")):String(He).substring(0,7).replace(/-/g,"/"),ut=rt,Kt=z,Xe=N(gt,ut,Kt);D.add(Xe);var ot=Math.floor(ut-Xe.width/2);Xe.set({left:ot,top:Ie-Math.floor(Xe.height+10)}),Ve.left+Ve.width>ut-Xe.width/2&&ye!==0&&(Xe.set("visible",!1),dt.set("visible",!1)),Ve={left:ot,width:Xe.width}}}Object.keys(A).forEach(function(lt,yt){var Ye,Ze,xt=H,vt=z+W+(W+$)*yt,it=k,Qt=$,At=new ue.fabric.Rect({left:xt,top:vt,width:it,height:Qt,fill:"transparent",stroke:"transparent",selectable:!1,hoverCursor:"normal"});D.add(At);var ft=String(A[lt][0].name),wt=xt,jt=vt,Ke=N(ft,wt,jt,(Ye=d)===null||Ye===void 0||(Ye=Ye.yAxios)===null||Ye===void 0||(Ye=Ye.nameTextStyle)===null||Ye===void 0?void 0:Ye.color,(Ze=d)===null||Ze===void 0||(Ze=Ze.yAxios)===null||Ze===void 0||(Ze=Ze.nameTextStyle)===null||Ze===void 0?void 0:Ze.underline,"pointer",15);Ke.on("mousedown",function(Re){var ve;if(typeof((ve=d)===null||ve===void 0||(ve=ve.yAxios)===null||ve===void 0?void 0:ve.onClick)=="function"){var xe;(xe=d)===null||xe===void 0||(xe=xe.yAxios)===null||xe===void 0||xe.onClick(A[lt])}}),Ke.set({text:cn({containerWidth:it,fabricText:Ke})}),Ke.on("mouseover",function(Re){var ve,xe,Pe=Re.target;if(typeof((ve=d)===null||ve===void 0||(ve=ve.yAxios)===null||ve===void 0?void 0:ve.onMouseout)=="function"){var Oe;(Oe=d)===null||Oe===void 0||(Oe=Oe.yAxios)===null||Oe===void 0||Oe.onMouseout(Pe)}if((xe=d)!==null&&xe!==void 0&&(xe=xe.yAxios)!==null&&xe!==void 0&&xe.showToolTip){var Rt=sn(Pe,L==null?void 0:L.current),Jt=Rt.left,Pt=Rt.top;me("mouseover",w()(w()({},B),{},{text:ft,left:Jt,top:Pt,show:!0}))}}),Ke.on("mouseout",function(Re){var ve,xe=Re.target;if(typeof((ve=d)===null||ve===void 0||(ve=ve.yAxios)===null||ve===void 0?void 0:ve.onMouseout)=="function"){var Pe;(Pe=d)===null||Pe===void 0||(Pe=Pe.yAxios)===null||Pe===void 0||Pe.onMouseout(xe)}me("mouseout",{show:!1})}),D.add(Ke),Ke.set({left:xt,top:Math.floor(vt+(Qt-Ke.height)/2)});for(var ct=function(){var ve=A[lt][Ct],xe=Math.ceil(H+k+(Lt(new Date(we),new Date(ve.start)).length-1)*et),Pe=vt,Oe=et*(Lt(new Date(ve.start),new Date(ve.end)).length-1),Rt=$,Jt=new ue.fabric.Rect({left:xe,top:Pe,width:Oe,height:Rt,fill:ve.background,stroke:ve.background,selectable:!1,hoverCursor:"normal"}),Pt="".concat(String(ve.start).replace(/-/g,"/")," - ").concat(String(ve.end).replace(/-/g,"/")),Rn=xe,yi=Pe,st=N(Pt,Rn,yi,"#fff");st.width>Oe&&st.set({text:cn({containerWidth:Oe,fabricText:st})}),st.set({left:Math.floor(Rn+((Oe!=null?Oe:0)-st.width)/2),top:Math.floor(Pe+($-st.height)/2)});var Mt=new ue.fabric.Group([],{selectable:!1,hoverCursor:"pointer"});Mt.addWithUpdate(Jt),Mt.addWithUpdate(st),D.add(Mt),D.renderAll(),Mt.on("mouseover",function($t){var Be,Ot=$t.target;if(typeof((Be=d)===null||Be===void 0||(Be=Be.strip)===null||Be===void 0?void 0:Be.onMouseover)=="function"){var ze;(ze=d)===null||ze===void 0||(ze=ze.strip)===null||ze===void 0||ze.onMouseover(Ot)}var Pn=sn(Ot,L==null?void 0:L.current),xi=Pn.left,Ai=Pn.top;me("mouseover",{text:Pt,left:xi,top:Ai,show:!0})}),Mt.on("mouseout",function($t){var Be,Ot=$t.target;if(typeof((Be=d)===null||Be===void 0||(Be=Be.strip)===null||Be===void 0?void 0:Be.onMouseout)=="function"){var ze;(ze=d)===null||ze===void 0||(ze=ze.strip)===null||ze===void 0||ze.onMouseout(Ot)}me("mouseout",{show:!1})})},Ct=0;Ct<A[lt].length;Ct++)ct()})},f=Bt().debounce(function(){var g=document.getElementById("canvas-container"),h=g==null?void 0:g.clientWidth,x=g==null?void 0:g.clientHeight;C.current.setWidth(h),C.current.setHeight(x),C.current.clear(),E({canvas:C.current,width:h})},500);return(0,m.useLayoutEffect)(function(){var g,h,x=(g=(h=j.current)===null||h===void 0?void 0:h.offsetWidth)!==null&&g!==void 0?g:0,D={selection:!1,width:x,height:M,backgroundColor:d.background};C.current=new ue.fabric.Canvas(I.current,D)},[]),(0,m.useLayoutEffect)(function(){return f(),window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}},[JSON.stringify(p)]),(0,n.jsxs)("div",{className:"canvas-container",id:"canvas-container",style:{height:"100%"},ref:j,children:[(0,n.jsx)("div",{ref:L,style:{left:B.left,top:B.top},className:"canvas-tooltip ".concat(B.show?"canvas-tooltip--show":"canvas-tooltip--hide"),children:B.text}),(0,n.jsx)("canvas",{ref:I,id:"canvas"})]})},kr=Dr,Tr={footer:"fSztNXfks0QwRi39e6r_"},Qr=function(e){var t=e.children,r=e.className,a=e.zIndex,o=a===void 0?"9":a,l=e.show,i=l===void 0?!0:l,s=(0,m.useRef)(null),u=(0,m.useState)(60),v=fe()(u,2),d=v[0],p=v[1];return(0,m.useLayoutEffect)(function(){var I,j;p((I=(j=s.current)===null||j===void 0?void 0:j.offsetHeight)!==null&&I!==void 0?I:60)},[]),(0,n.jsxs)(n.Fragment,{children:[i&&(0,n.jsx)("div",{style:{height:d+"px"}}),(0,n.jsx)("div",{style:{zIndex:o},ref:s,className:Fe()("fixed",r,Tr.footer),children:t})]})},un=Qr,Rr=R(4510),vn=R.n(Rr),Mi=R(66795),Pr=R(76691),Or=R(37240),fn=R(17165),hn=R(14822),Nt=[{citycode:[],adcode:"440000",name_cn:"\u5E7F\u4E1C",name_en:"Guangdong",center:"113.280637,23.125178",level:"province",districts:[]},{citycode:[],adcode:"410000",name_cn:"\u6CB3\u5357",name_en:"Henan",center:"113.665412,34.757975",level:"province",districts:[]},{citycode:[],adcode:"150000",name_cn:"\u5185\u8499\u53E4",name_en:"Inner Mongolia",center:"111.670801,40.818311",level:"province",districts:[],position:"top"},{citycode:[],adcode:"230000",name_cn:"\u9ED1\u9F99\u6C5F",name_en:"Heilongjiang",center:"126.642464,45.756967",level:"province",districts:[],position:"top"},{citycode:[],adcode:"650000",name_cn:"\u65B0\u7586",name_en:"Xinjiang",center:"87.617733,43.792818",level:"province",districts:[]},{citycode:[],adcode:"420000",name_cn:"\u6E56\u5317",name_en:"Hubei",center:"114.298572,30.584355",level:"province",districts:[]},{citycode:[],adcode:"210000",name_cn:"\u8FBD\u5B81",name_en:"Liaoning",center:"123.429096,41.796767",level:"province",districts:[]},{citycode:[],adcode:"370000",name_cn:"\u5C71\u4E1C",name_en:"Shandong",center:"117.000923,36.675807",level:"province",districts:[]},{citycode:[],adcode:"610000",name_cn:"\u9655\u897F",name_en:"Shaanxi",center:"108.948024,34.263161",level:"province",districts:[]},{citycode:"021",adcode:"310000",name_cn:"\u4E0A\u6D77",name_en:"Shanghai",center:"121.472644,31.231706",level:"province",districts:[],position:"right"},{citycode:[],adcode:"520000",name_cn:"\u8D35\u5DDE",name_en:"Guizhou",center:"106.713478,26.578343",level:"province",districts:[]},{citycode:"023",adcode:"500000",name_cn:"\u91CD\u5E86",name_en:"Chongqing",center:"106.504962,29.533155",level:"province",districts:[],position:"right"},{citycode:[],adcode:"540000",name_cn:"\u897F\u85CF",name_en:"Tibet",center:"91.132212,29.660361",level:"province",districts:[]},{citycode:[],adcode:"340000",name_cn:"\u5B89\u5FBD",name_en:"Anhui",center:"117.283042,31.86119",level:"province",districts:[],position:"top"},{citycode:[],adcode:"350000",name_cn:"\u798F\u5EFA",name_en:"Fujian",center:"119.306239,26.075302",level:"province",districts:[]},{citycode:[],adcode:"430000",name_cn:"\u6E56\u5357",name_en:"Hunan",center:"112.982279,28.19409",level:"province",districts:[],position:"left"},{citycode:[],adcode:"460000",name_cn:"\u6D77\u5357",name_en:"Hainan",center:"110.33119,20.031971",level:"province",districts:[]},{citycode:[],adcode:"320000",name_cn:"\u6C5F\u82CF",name_en:"Jiangsu",center:"118.767413,32.041544",level:"province",districts:[],position:"right"},{citycode:[],adcode:"630000",name_cn:"\u9752\u6D77",name_en:"Qinghai",center:"101.778916,36.623178",level:"province",districts:[],position:"left"},{citycode:[],adcode:"450000",name_cn:"\u5E7F\u897F",name_en:"Guangxi",center:"108.320004,22.82402",level:"province",districts:[]},{citycode:[],adcode:"640000",name_cn:"\u5B81\u590F",name_en:"Ningxia",center:"106.278179,38.46637",level:"province",districts:[],position:"bottom"},{citycode:[],adcode:"360000",name_cn:"\u6C5F\u897F",name_en:"Jiangxi",center:"115.892151,28.676493",level:"province",districts:[]},{citycode:[],adcode:"330000",name_cn:"\u6D59\u6C5F",name_en:"Zhejiang",center:"120.153576,30.287459",level:"province",districts:[],position:"bottom"},{citycode:[],adcode:"130000",name_cn:"\u6CB3\u5317",name_en:"Hebei",center:"114.502461,38.045474",level:"province",districts:[],position:"right"},{citycode:"1853",adcode:"820000",name_cn:"\u6FB3\u95E8",name_en:"Macau",center:"113.54909,22.198951",level:"province",districts:[],position:"bottom"},{citycode:"1886",adcode:"710000",name_cn:"\u53F0\u6E7E",name_en:"Taiwan",center:"121.509062,25.044332",level:"province",districts:[],position:"bottom"},{citycode:"1852",adcode:"810000",name_cn:"\u9999\u6E2F",name_en:"Hong Kong",center:"114.173355,22.320048",level:"province",districts:[],position:"right"},{citycode:[],adcode:"620000",name_cn:"\u7518\u8083",name_en:"Gansu",center:"103.823557,36.058039",level:"province",districts:[]},{citycode:[],adcode:"510000",name_cn:"\u56DB\u5DDD",name_en:"Sichuan",center:"104.065735,30.659462",level:"province",districts:[]},{citycode:[],adcode:"220000",name_cn:"\u5409\u6797",name_en:"Jilin",center:"125.3245,43.886841",level:"province",districts:[]},{citycode:"022",adcode:"120000",name_cn:"\u5929\u6D25",name_en:"Tianjin",center:"117.190182,39.125596",level:"province",districts:[]},{citycode:[],adcode:"530000",name_cn:"\u4E91\u5357",name_en:"Yunnan",center:"102.712251,25.040609",level:"province",districts:[]},{citycode:"010",adcode:"110000",name_cn:"\u5317\u4EAC",name_en:"Beijing",center:"116.405285,39.904989",level:"province",districts:[],position:"top"},{citycode:[],adcode:"140000",name_cn:"\u5C71\u897F",name_en:"Shanxi",center:"112.549248,37.857014",level:"province",districts:[]}],Br=R(26869),bt=function(e){return Object.prototype.toString.call(e)==="[object Object]"},zr=function(e){var t=e.data,r=e.render,a=e.options;if(typeof r=="function")return r(t);var o=a!=null?a:{},l=o.columns,i=l===void 0?[]:l,s=o.more,u=s===void 0?{}:s,v=u.text,d=v===void 0?"\u8BE6\u60C5":v;return(0,n.jsxs)("div",{className:"tip-info-panel",children:[(0,n.jsxs)("div",{className:"panel-header flex",children:[(0,n.jsx)("h2",{className:"flex-1",children:t.title}),(0,n.jsx)("a",{className:"btn-more",href:t.url,target:"_blank",rel:"noreferrer",children:d})]}),(0,n.jsx)("div",{className:"panel-body",children:(0,n.jsx)("ul",{children:i.map(function(p){return(0,n.jsx)(m.Fragment,{children:(0,n.jsxs)("li",{className:"flex",children:[(0,n.jsx)("span",{className:"text-label",children:p.title}),(0,n.jsxs)("span",{className:"text-value",children:[t[p.dataIndex]," ",p==null?void 0:p.unit]})]})},p.dataIndex)})})})]})},Fr=function(e,t){var r=e.AMapOptions,a=r===void 0?{}:r,o=e.options,l=o===void 0?{}:o,i=e.strokeOptions,s=e.tileLayerOptions,u=e.districtLayerOptions,v=e.completed,d=e.className,p=d===void 0?"":d,I=e.style,j=I===void 0?{}:I,L=e.infoWindow,C=L===void 0?null:L,P=e.mapZoomShortcut,y=P===void 0?"mousewheel":P,B=e.autoLocateScaleLevels,O=B===void 0?!1:B,b=e.isAddProvinceNamesLayer,A=b===void 0?!0:b,Q=e.language,M=Q===void 0?"cn":Q,$=(0,m.useRef)(null),W=(0,m.useRef)({AMap:null,map:null,chart:null}),S=(0,m.useRef)({province:[],china:[],loadLayer:""}),k=(0,m.useState)(!1),H=fe()(k,2),z=H[0],K=H[1],Y=w()({endPoints:[],color:{start:"#F7A61B",end:"#01FE7D"},symbolSize:10,effectSymbol:"image://data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjVweCIgaGVpZ2h0PSIyNXB4IiB2aWV3Qm94PSIwIDAgMjUgMjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+57yW57uEIDEzNDwvdGl0bGU+CiAgICA8ZyBpZD0i6aG16Z2iLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLnvJbnu4QtMTM0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjIzNzAwMCwgMC40OTg5ODcpIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbD0iI0Q4RDhEOCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48L3JlY3Q+CiAgICAgICAgICAgIDxwb2x5Z29uIGlkPSLot6/lvoQtNTblpIfku70tOCIgZmlsbD0iIzAxRkU3RCIgcG9pbnRzPSIxMi4zOTU5ODAzIDQgNyAxOS44MjYyMjI5IDExLjkzNzYxNDUgMTYuNDk1NzU5OCAxNy4zNDIyOTU1IDE5LjgyNjIyMjkiPjwvcG9seWdvbj4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},e.drawConnectLinesOptions),le={cn:{mapZoomTips:"\u6309Ctrl + \u6EDA\u8F6E\u53EF\u7F29\u653E\u5730\u56FE"},en:{mapZoomTips:"Press Ctrl + scroll wheel to zoom the map"}},U=[].concat(Qe()(e.dataSource||[]),Qe()(((Y==null?void 0:Y.endPoints)||[]).filter(function(G){return G.lngLat}))),ae=function(){var N=W.current,E=N.AMap,f=N.map;if(!(!E||!f)){for(var g=[],h=0;h<Nt.length;h++){var x={zIndex:1,opacity:1,text:{content:"",direction:"center",offset:[0,0],zooms:[3,5],style:{fontSize:13,fontWeight:"normal",fillColor:"#000",strokeColor:"#fff",strokeWidth:2}}},D=Nt[h],F=D[M==="en"?"name_en":"name_cn"];x.text.content=F,x.position=D.center.split(","),Nt[h].position&&(x.text.direction=Nt[h].position);var J=new E.LabelMarker(x);g.push(J)}var Z=new E.LabelsLayer({zooms:[3,20],zIndex:99,collision:!0,allowCollision:!0,passMouse:!0});Z.add(g),Z.setMap(f)}},re=function(){var G=$e()(Se()().mark(function N(E){var f,g,h,x,D=arguments;return Se()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(f=D.length>1&&D[1]!==void 0?D[1]:!1,g=W.current,h=g.AMap,x=g.map,!(!h||!x||!E)){J.next=4;break}return J.abrupt("return",{polygon:null,district:null,auxPolygons:null});case 4:return J.next=6,new Promise(function(Z,_){var te=new h.DistrictSearch({level:"province",extensions:"all",subdistrict:0,showbiz:!1});te.search(E,function(se,ie){if(ie.info==="OK"){var ne,ee,de,Le=[new h.LngLat(-360,90,!0),new h.LngLat(-360,-90,!0),new h.LngLat(360,-90,!0),new h.LngLat(360,90,!0)],he=ie.districtList[0].boundaries||[],we=[Le].concat(Qe()(he)),ge=new h.Polygon(w()({pathL:we,strokeColor:"#1CBAA7",strokeWeight:(ne=i==null?void 0:i.strokeWeight)!==null&&ne!==void 0?ne:1,fillColor:(ee=i==null?void 0:i.fillColor)!==null&&ee!==void 0?ee:"#000",fillOpacity:(de=i==null?void 0:i.fillOpacity)!==null&&de!==void 0?de:.8},i));ge.setPath(we);var Ce=[];if(f)for(var Me=0;Me<he.length;Me++){var Te=new h.Polygon({pathL:he[Me],strokeColor:"transparent",strokeWeight:0,fillOpacity:0});Te.setPath(he[Me]),Ce.push(Te)}Z({polygon:ge,auxPolygons:Ce,district:ie.districtList[0]})}})});case 6:return J.abrupt("return",J.sent);case 7:case"end":return J.stop()}},N)}));return function(E){return G.apply(this,arguments)}}(),oe=function(){var N,E=W.current,f=E.AMap,g=E.map;!f||!g||(y==="ctrl+mousewheel"&&setTimeout(function(){!S.current.china.length&&re("\u4E2D\u56FD").then(function(h){S.current.china=h.polygon}).catch(function(h){console.log(h)})}),!S.current.province.length&&re((N=i==null?void 0:i.name)!==null&&N!==void 0?N:"\u4E2D\u56FD",!0).then(function(h){S.current.province=h.polygon,g.add(h.polygon),O&&me({polygon:h.auxPolygons})}).catch(function(h){console.log(h)}))},ce=function(N){var E=W.current,f=E.AMap,g=E.map;if(!(!f||!g)){var h=w()({zIndex:10,SOC:"CHN",depth:1,styles:{"province-stroke-width":0,"city-stroke-width":0,"nation-stroke":"rgba(0,0,0,0)","coastline-stroke":"rgba(0,0,0,0)","province-stroke":"rgba(0,0,0,0)",fill:"rgba(0,0,0,0)"}},N||{}),x=new f.DistrictLayer.Country(h);x.setMap(g)}},X=function(){var N=W.current,E=N.AMap,f=N.map;!E||!f||f.add(new E.TileLayer.Satellite({opacity:1,detectRetina:!0}))},q=function(){var N=W.current,E=N.AMap,f=N.map;if(!(!E||!f)){for(var g={color:"red",animation:"DIFFUSION",size:8},h=[],x=Qe()(U),D=function(Z){var _,te=w()(w()({},g),x[Z]),se=(_=W.current)===null||_===void 0?void 0:_.AMap,ie=new se.Marker({position:te.lngLat,content:'<div style="--color:'.concat(te.color,";--animation:").concat(te.animation,";--size:").concat(te.size,'px" class="icon-marker"></div>'),extData:{id:te.id},anchor:"center",offset:new se.Pixel(0,0),zIndex:999});if(x[Z].address){var ne,ee,de=new se.InfoWindow({content:(ne=x[Z])===null||ne===void 0?void 0:ne.address,offset:new se.Pixel(0,-15),autoMove:!0});!((ee=x[Z])===null||ee===void 0)&&ee.address&&de.open(f,ie.getPosition())}ie.on("click",$e()(Se()().mark(function Le(){var he,we,ge,Ce,Me,Te;return Se()().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(typeof((he=x[Z])===null||he===void 0?void 0:he.onClick)=="function"&&((we=(ge=x[Z]).onClick)===null||we===void 0||we.call(ge,x[Z])),!(bt(C)&&x[Z].hasInfoWindow!==!1)){Ne.next=10;break}if(!((Ce=x[Z])!==null&&Ce!==void 0&&Ce.request)){Ne.next=6;break}return Ne.next=5,(Me=x[Z])===null||Me===void 0?void 0:Me.request(te);case 5:te.result=Ne.sent;case 6:Te=new se.InfoWindow({isCustom:!0,content:hn.renderToStaticMarkup((0,n.jsx)(zr,{data:te,render:C==null?void 0:C.render,options:C==null?void 0:C.options})),offset:new se.Pixel(0,-15),autoMove:!0,closeWhenClickMap:!0}),se.closeInfoWindow=function(){Te.close()},Te.open(f,ie.getPosition()),Te.on("close",function(){se.closeInfoWindow=void 0});case 10:case"end":return Ne.stop()}},Le)}))),h.push(ie)},F=0;F<x.length;F++)D(F);f.add(h)}},V=function(){var N=W.current,E=N.AMap,f=N.map;!E||!f||(document.addEventListener("keydown",function(g){g.stopPropagation(),W.current.map.setStatus({scrollWheel:!0}),g.keyCode===17&&K(!0)}),document.addEventListener("keyup",function(g){g.stopPropagation(),W.current.map.setStatus({scrollWheel:!1}),g.keyCode===17&&K(!1)}))},me=function(N){var E=N.polygon,f=W.current,g=f.AMap,h=f.map;!g||!h||((i==null?void 0:i.name)!=="\u4E2D\u56FD"?(S.current.loadLayer="province",E&&(h.add(E),h.setFitView(E))):S.current.loadLayer="china",setTimeout(function(){var x=h.getZoom();h.on("zoomchange",function(){var D=h.getZoom();D<x?S.current.loadLayer!=="china"&&(S.current.loadLayer="china",h==null||h.remove(S.current.province),h==null||h.add(S.current.china)):S.current.loadLayer!=="province"&&(S.current.loadLayer="province",h==null||h.remove(S.current.china),h==null||h.add(S.current.province))})},5e3))},pe=function(N){var E,f,g=[];N.forEach(function(ne){var ee=ne.from||[];ee.forEach(function(de){g.push({coords:[de,ne.lngLat]})})});var h=W.current,x=h.AMap,D=h.map,F=h.chart;if(!(!x||!D||!F)){var J=U.reduce(function(ne,ee){var de=ee.color;return ne[de]||(ne[de]=[]),ne[de].push(ee),ne},{}),Z=[];for(var _ in J){var te=J[_],se={type:"scatter",coordinateSystem:"amap",symbolSize:15,itemStyle:{normal:{color:_}},data:te.map(function(ne){return{value:ne.lngLat}})};Z.push(se)}var ie=[{type:"lines",coordinateSystem:"amap",effect:{show:!0,period:6,trailLength:0,symbol:Y.effectSymbol,symbolSize:Y.symbolSize,color:"#01FE7D"},lineStyle:{normal:{width:1,opacity:.8,curveness:.2,color:new Pr.Z(0,0,1,0,[{offset:0,color:(Y==null||(E=Y.color)===null||E===void 0?void 0:E.start)||""},{offset:1,color:(Y==null||(f=Y.color)===null||f===void 0?void 0:f.end)||""}])}},data:g}].concat(Z);console.log({series:ie}),W.current.chart.setOption({series:ie})}};(0,m.useImperativeHandle)(t,function(){return{loadMap:T,gdMap:W.current}});var T=function(){var G=$e()(Se()().mark(function N(){return Se()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,new Promise(function(g,h){var x;if((x=W.current)!==null&&x!==void 0&&x.map){var D;(D=W.current)===null||D===void 0||(D=D.map)===null||D===void 0||D.destroy()}vn().load(w()({key:"475c97e5ba9c55b5bbf684b116fe3c6e",version:"1.4.15",plugins:[]},l)).then(function(){var F=$e()(Se()().mark(function J(Z){var _,te,se,ie,ne,ee,de;return Se()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(window.AMap=Z,_=document.getElementById("echarts-amap"),_){he.next=4;break}return he.abrupt("return");case 4:if(W.current.chart&&W.current.chart.dispose(),te=Or.S1(_),se={amap:w()({lang:M,zoom:4,zooms:[2,10],center:[117.552366,41.997914],resizeEnable:!0,scrollWheel:!1},a),series:[]},te.setOption(se),ie=te.getModel().getComponent("amap"),ie.setEChartsLayerInteractive(!1),ne=ie.getAMap(),W.current={map:ne,AMap:Z,chart:te},A&&ae(),ee=[bt(i)&&"AMap.DistrictSearch",bt(s)&&"AMap.TileLayer",bt(u)&&"AMap.DistrictLayer"].filter(Boolean),Z.plugin(ee,function(){ee.includes("AMap.DistrictSearch")&&oe(),ee.includes("AMap.DistrictLayer")&&ce(u),ee.includes("AMap.TileLayer")&&X()}),y==="ctrl+mousewheel"&&V(),typeof v!="function"){he.next=22;break}return de=new Z.LabelsLayer({collision:!1,animation:!0}),ne.add(de),he.next=21,new Promise(function(we){return setTimeout(we,1500)});case 21:v(W.current);case 22:g(ne);case 23:case"end":return he.stop()}},J)}));return function(J){return F.apply(this,arguments)}}())});case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},N)}));return function(){return G.apply(this,arguments)}}();return(0,m.useEffect)(function(){T().then(function(){U!=null&&U.length&&(q(),pe(Y.endPoints))})},[]),(0,fn.Z)(function(){U!=null&&U.length&&(q(),pe(Y.endPoints))},[JSON.stringify(U)]),(0,m.useLayoutEffect)(function(){document.body.focus()},[]),(0,n.jsxs)("div",{ref:$,className:Br({"qk-pointer-events-none":z},"qk-gao-de-map h-full w-full",p),style:j,children:[y==="ctrl+mousewheel"&&(0,n.jsx)("div",{className:"map-zoom-shortcut-tip shortcut-tip--simple",children:le[M].mapZoomTips}),(0,n.jsx)("div",{id:"echarts-amap",className:" h-full w-full absolute"})]})},Wr=(0,m.forwardRef)(Fr),It=[{citycode:[],adcode:"440000",name_cn:"\u5E7F\u4E1C",name_en:"Guangdong",center:"113.280637,23.125178",level:"province",districts:[]},{citycode:[],adcode:"410000",name_cn:"\u6CB3\u5357",name_en:"Henan",center:"113.665412,34.757975",level:"province",districts:[]},{citycode:[],adcode:"150000",name_cn:"\u5185\u8499\u53E4",name_en:"Inner Mongolia",center:"111.670801,40.818311",level:"province",districts:[],position:"top"},{citycode:[],adcode:"230000",name_cn:"\u9ED1\u9F99\u6C5F",name_en:"Heilongjiang",center:"126.642464,45.756967",level:"province",districts:[],position:"top"},{citycode:[],adcode:"650000",name_cn:"\u65B0\u7586",name_en:"Xinjiang",center:"87.617733,43.792818",level:"province",districts:[]},{citycode:[],adcode:"420000",name_cn:"\u6E56\u5317",name_en:"Hubei",center:"114.298572,30.584355",level:"province",districts:[]},{citycode:[],adcode:"210000",name_cn:"\u8FBD\u5B81",name_en:"Liaoning",center:"123.429096,41.796767",level:"province",districts:[]},{citycode:[],adcode:"370000",name_cn:"\u5C71\u4E1C",name_en:"Shandong",center:"117.000923,36.675807",level:"province",districts:[]},{citycode:[],adcode:"610000",name_cn:"\u9655\u897F",name_en:"Shaanxi",center:"108.948024,34.263161",level:"province",districts:[]},{citycode:"021",adcode:"310000",name_cn:"\u4E0A\u6D77",name_en:"Shanghai",center:"121.472644,31.231706",level:"province",districts:[],position:"right"},{citycode:[],adcode:"520000",name_cn:"\u8D35\u5DDE",name_en:"Guizhou",center:"106.713478,26.578343",level:"province",districts:[]},{citycode:"023",adcode:"500000",name_cn:"\u91CD\u5E86",name_en:"Chongqing",center:"106.504962,29.533155",level:"province",districts:[],position:"right"},{citycode:[],adcode:"540000",name_cn:"\u897F\u85CF",name_en:"Tibet",center:"91.132212,29.660361",level:"province",districts:[]},{citycode:[],adcode:"340000",name_cn:"\u5B89\u5FBD",name_en:"Anhui",center:"117.283042,31.86119",level:"province",districts:[],position:"top"},{citycode:[],adcode:"350000",name_cn:"\u798F\u5EFA",name_en:"Fujian",center:"119.306239,26.075302",level:"province",districts:[]},{citycode:[],adcode:"430000",name_cn:"\u6E56\u5357",name_en:"Hunan",center:"112.982279,28.19409",level:"province",districts:[],position:"left"},{citycode:[],adcode:"460000",name_cn:"\u6D77\u5357",name_en:"Hainan",center:"110.33119,20.031971",level:"province",districts:[]},{citycode:[],adcode:"320000",name_cn:"\u6C5F\u82CF",name_en:"Jiangsu",center:"118.767413,32.041544",level:"province",districts:[],position:"right"},{citycode:[],adcode:"630000",name_cn:"\u9752\u6D77",name_en:"Qinghai",center:"101.778916,36.623178",level:"province",districts:[],position:"left"},{citycode:[],adcode:"450000",name_cn:"\u5E7F\u897F",name_en:"Guangxi",center:"108.320004,22.82402",level:"province",districts:[]},{citycode:[],adcode:"640000",name_cn:"\u5B81\u590F",name_en:"Ningxia",center:"106.278179,38.46637",level:"province",districts:[],position:"bottom"},{citycode:[],adcode:"360000",name_cn:"\u6C5F\u897F",name_en:"Jiangxi",center:"115.892151,28.676493",level:"province",districts:[]},{citycode:[],adcode:"330000",name_cn:"\u6D59\u6C5F",name_en:"Zhejiang",center:"120.153576,30.287459",level:"province",districts:[],position:"bottom"},{citycode:[],adcode:"130000",name_cn:"\u6CB3\u5317",name_en:"Hebei",center:"114.502461,38.045474",level:"province",districts:[],position:"right"},{citycode:"1853",adcode:"820000",name_cn:"\u6FB3\u95E8",name_en:"Macau",center:"113.54909,22.198951",level:"province",districts:[],position:"bottom"},{citycode:"1886",adcode:"710000",name_cn:"\u53F0\u6E7E",name_en:"Taiwan",center:"121.509062,25.044332",level:"province",districts:[],position:"bottom"},{citycode:"1852",adcode:"810000",name_cn:"\u9999\u6E2F",name_en:"Hong Kong",center:"114.173355,22.320048",level:"province",districts:[],position:"right"},{citycode:[],adcode:"620000",name_cn:"\u7518\u8083",name_en:"Gansu",center:"103.823557,36.058039",level:"province",districts:[]},{citycode:[],adcode:"510000",name_cn:"\u56DB\u5DDD",name_en:"Sichuan",center:"104.065735,30.659462",level:"province",districts:[]},{citycode:[],adcode:"220000",name_cn:"\u5409\u6797",name_en:"Jilin",center:"125.3245,43.886841",level:"province",districts:[]},{citycode:"022",adcode:"120000",name_cn:"\u5929\u6D25",name_en:"Tianjin",center:"117.190182,39.125596",level:"province",districts:[]},{citycode:[],adcode:"530000",name_cn:"\u4E91\u5357",name_en:"Yunnan",center:"102.712251,25.040609",level:"province",districts:[]},{citycode:"010",adcode:"110000",name_cn:"\u5317\u4EAC",name_en:"Beijing",center:"116.405285,39.904989",level:"province",districts:[],position:"top"},{citycode:[],adcode:"140000",name_cn:"\u5C71\u897F",name_en:"Shanxi",center:"112.549248,37.857014",level:"province",districts:[]}],Zr=R(26869),Et=function(e){return Object.prototype.toString.call(e)==="[object Object]"},Hr=function(e){var t=e.data,r=e.render,a=e.options;if(typeof r=="function")return r(t);var o=a!=null?a:{},l=o.columns,i=l===void 0?[]:l,s=o.more,u=s===void 0?{}:s,v=u.text,d=v===void 0?"\u8BE6\u60C5":v;return(0,n.jsxs)("div",{className:"tip-info-panel",children:[(0,n.jsxs)("div",{className:"panel-header flex",children:[(0,n.jsx)("h2",{className:"flex-1",children:t.title}),(0,n.jsx)("a",{className:"btn-more",href:t.url,target:"_blank",rel:"noreferrer",children:d})]}),(0,n.jsx)("div",{className:"panel-body",children:(0,n.jsx)("ul",{children:i.map(function(p){return(0,n.jsx)(m.Fragment,{children:(0,n.jsxs)("li",{className:"flex",children:[(0,n.jsx)("span",{className:"text-label",children:p.title}),(0,n.jsxs)("span",{className:"text-value",children:[t[p.dataIndex]," ",p==null?void 0:p.unit]})]})},p.dataIndex)})})})]})},Yr=function(e){var t=e.AMapOptions,r=t===void 0?{}:t,a=e.options,o=a===void 0?{}:a,l=e.dataSource,i=l===void 0?[]:l,s=e.strokeOptions,u=e.tileLayerOptions,v=e.districtLayerOptions,d=e.completed,p=e.className,I=p===void 0?"":p,j=e.style,L=j===void 0?{}:j,C=e.infoWindow,P=C===void 0?null:C,y=e.mapZoomShortcut,B=y===void 0?"mousewheel":y,O=e.autoLocateScaleLevels,b=O===void 0?!1:O,A=e.isAddProvinceNamesLayer,Q=A===void 0?!0:A,M=e.language,$=M===void 0?"cn":M,W=(0,m.useRef)(null),S=(0,m.useRef)({AMap:null,map:null}),k=(0,m.useRef)({province:[],china:[],loadLayer:""}),H=(0,m.useState)(!1),z=fe()(H,2),K=z[0],Y=z[1],le={cn:{mapZoomTips:"\u6309Ctrl + \u6EDA\u8F6E\u53EF\u7F29\u653E\u5730\u56FE"},en:{mapZoomTips:"Press Ctrl + scroll wheel to zoom the map"}},U=function(){var T=S.current,G=T.AMap,N=T.map;if(!(!G||!N)){for(var E=[],f=0;f<It.length;f++){var g={zIndex:1,opacity:1,text:{content:"",direction:"center",offset:[0,0],zooms:[3,4],style:{fontSize:13,fontWeight:"normal",fillColor:"#000",strokeColor:"#fff",strokeWidth:2}}},h=It[f],x=h[$==="en"?"name_en":"name_cn"];g.text.content=x,g.position=h.center.split(","),It[f].position&&(g.text.direction=It[f].position);var D=new G.LabelMarker(g);E.push(D)}var F=new G.LabelsLayer({zooms:[3,20],zIndex:99,collision:!0,allowCollision:!0,passMouse:!0});F.add(E),F.setMap(N)}},ae=function(){var pe=$e()(Se()().mark(function T(G){var N,E,f,g,h=arguments;return Se()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(N=h.length>1&&h[1]!==void 0?h[1]:!1,E=S.current,f=E.AMap,g=E.map,!(!f||!g||!G)){D.next=4;break}return D.abrupt("return",{polygon:null,district:null,auxPolygons:null});case 4:return D.next=6,new Promise(function(F,J){var Z=new f.DistrictSearch({level:"province",extensions:"all",subdistrict:0,showbiz:!1});Z.search(G,function(_,te){if(te.info==="OK"){var se,ie,ne,ee=[new f.LngLat(-360,90,!0),new f.LngLat(-360,-90,!0),new f.LngLat(360,-90,!0),new f.LngLat(360,90,!0)],de=te.districtList[0].boundaries||[],Le=[ee].concat(Qe()(de)),he=new f.Polygon(w()({pathL:Le,strokeColor:"#1CBAA7",strokeWeight:(se=s==null?void 0:s.strokeWeight)!==null&&se!==void 0?se:1,fillColor:(ie=s==null?void 0:s.fillColor)!==null&&ie!==void 0?ie:"#000",fillOpacity:(ne=s==null?void 0:s.fillOpacity)!==null&&ne!==void 0?ne:.8},s));he.setPath(Le);var we=[];if(N)for(var ge=0;ge<de.length;ge++){var Ce=new f.Polygon({pathL:de[ge],strokeColor:"transparent",strokeWeight:0,fillOpacity:0});Ce.setPath(de[ge]),we.push(Ce)}F({polygon:he,auxPolygons:we,district:te.districtList[0]})}})});case 6:return D.abrupt("return",D.sent);case 7:case"end":return D.stop()}},T)}));return function(G){return pe.apply(this,arguments)}}(),re=function(){var T,G=S.current,N=G.AMap,E=G.map;!N||!E||(B==="ctrl+mousewheel"&&setTimeout(function(){!k.current.china.length&&ae("\u4E2D\u56FD").then(function(f){k.current.china=f.polygon}).catch(function(f){console.log(f)})}),!k.current.province.length&&ae((T=s==null?void 0:s.name)!==null&&T!==void 0?T:"\u4E2D\u56FD",!0).then(function(f){k.current.province=f.polygon,E.add(f.polygon),b&&V({polygon:f.auxPolygons})}).catch(function(f){console.log(f)}))},oe=function(){var T=S.current,G=T.AMap,N=T.map;if(!(!G||!N)){var E=new G.DistrictLayer.Country({zIndex:10,SOC:"CHN",depth:1,styles:{"stroke-width":2,"nation-stroke":"#1CBAA7","coastline-stroke":"#1CBAA7","province-stroke":"#1CBAA7",fill:function(g){return"rgba(255,255,255,0)"}}});N==null||N.add(E)}},ce=function(){var T=S.current,G=T.AMap,N=T.map;!G||!N||N.add(new G.TileLayer.Satellite({opacity:1,detectRetina:!0}))},X=function(){var T=S.current,G=T.AMap,N=T.map;if(!(!G||!N)){for(var E={color:"red",animation:"DIFFUSION",size:8},f=[],g=Qe()(i),h=function(F){var J,Z=w()(w()({},E),g[F]),_=(J=S.current)===null||J===void 0?void 0:J.AMap,te=new _.Marker({position:Z.lngLat,content:'<div style="--color:'.concat(Z.color,";--animation:").concat(Z.animation,";--size:").concat(Z.size,'px" class="icon-marker"></div>'),extData:{id:Z.id},anchor:"center",offset:new _.Pixel(0,0),zIndex:999});if(g[F].address){var se,ie,ne=new _.InfoWindow({content:(se=g[F])===null||se===void 0?void 0:se.address,offset:new _.Pixel(0,-10),autoMove:!0});!((ie=g[F])===null||ie===void 0)&&ie.address&&ne.open(N,te.getPosition())}te.on("click",function(){if(Et(P)&&g[F].hasInfoWindow!==!1){var ee=new _.InfoWindow({isCustom:!0,content:hn.renderToStaticMarkup((0,n.jsx)(Hr,{data:Z,render:P==null?void 0:P.render,options:P==null?void 0:P.options})),offset:new _.Pixel(5,-10),autoMove:!0,closeWhenClickMap:!0});ee.open(N,te.getPosition())}}),f.push(te)},x=0;x<g.length;x++)h(x);N.add(f)}},q=function(){var T=S.current,G=T.AMap,N=T.map;!G||!N||(document.addEventListener("keydown",function(E){E.stopPropagation(),S.current.map.setStatus({scrollWheel:!0}),E.keyCode===17&&Y(!0)}),document.addEventListener("keyup",function(E){E.stopPropagation(),S.current.map.setStatus({scrollWheel:!1}),E.keyCode===17&&Y(!1)}))},V=function(T){var G=T.polygon,N=S.current,E=N.AMap,f=N.map;!E||!f||((s==null?void 0:s.name)!=="\u4E2D\u56FD"?(k.current.loadLayer="province",G&&(f.add(G),f.setFitView(G))):k.current.loadLayer="china",setTimeout(function(){var g=f.getZoom();console.log({realZoom:g,loadLayer:k.current.loadLayer}),f.on("zoomchange",function(){var h=f.getZoom();console.log({zoomLevel:h,loadLayer:k.current.loadLayer}),h<g?k.current.loadLayer!=="china"&&(k.current.loadLayer="china",f==null||f.remove(k.current.province),f==null||f.add(k.current.china)):k.current.loadLayer!=="province"&&(k.current.loadLayer="province",f==null||f.remove(k.current.china),f==null||f.add(k.current.province))})},5e3))},me=function(){var pe=$e()(Se()().mark(function T(){return Se()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,new Promise(function(E,f){vn().load(w()({key:"475c97e5ba9c55b5bbf684b116fe3c6e",version:"1.4.15",plugins:[]},o)).then(function(g){var h=new g.Map("qk-gao-de-map",w()({lang:$,zoom:4,zooms:[2,10],center:[117.552366,41.997914],resizeEnable:!0,scrollWheel:!1},r));S.current={map:h,AMap:g},Q&&U();var x=[Et(s)&&"AMap.DistrictSearch",Et(u)&&"AMap.TileLayer",Et(v)&&"AMap.DistrictLayer"].filter(Boolean);if(g.plugin(x,function(){x.includes("AMap.DistrictSearch")&&re(),x.includes("AMap.DistrictLayer")&&oe(),x.includes("AMap.TileLayer")&&ce(),i!=null&&i.length&&X()}),B==="ctrl+mousewheel"&&q(),typeof d=="function"){var D=new g.LabelsLayer({collision:!1,animation:!0});h.add(D),d(S.current),E(h)}})});case 2:return N.abrupt("return",N.sent);case 3:case"end":return N.stop()}},T)}));return function(){return pe.apply(this,arguments)}}();return(0,m.useEffect)(function(){me()},[JSON.stringify(i)]),(0,m.useLayoutEffect)(function(){document.body.focus()},[]),(0,n.jsxs)("div",{ref:W,className:Zr({"qk-pointer-events-none":K},"qk-gao-de-map h-full w-full",I),style:L,children:[B==="ctrl+mousewheel"&&(0,n.jsx)("div",{className:"map-zoom-shortcut-tip shortcut-tip--simple",children:le[$].mapZoomTips}),(0,n.jsx)("div",{id:"qk-gao-de-map",className:" h-full w-full absolute"})]})},Gr=Yr,Ur=R(63027),Kr=R.n(Ur),mn,Wt=function(c){return c._="sub",c["^"]="sup",c["\\underline"]="underline",c["\\overline"]="overline",c["\\sum"]="sum",c}(Wt||{}),Jr=function(e){var t=e.content,r=(0,m.useRef)(null),a=(0,m.useState)(),o=fe()(a,2),l=o[0],i=o[1],s=Object.keys(Wt).map(function(d){return"\\"+d+"\\{|"}).join("")+"\\}";(0,m.useLayoutEffect)(function(){var d,p,I=window.getComputedStyle((d=r.current)!==null&&d!==void 0?d:document.body).getPropertyValue("font-size"),j="12px",L=(p=r.current)===null||p===void 0?void 0:p.querySelectorAll("sum");L!=null&&L.length&&L.forEach(function(C){var P=C==null?void 0:C.childNodes,y=fe()(P,2),B=y[0],O=y[1],b=Math.max.apply(Math,Qe()([B.innerHTML,O.innerHTML].map(function(A){return A.length})));j=window.getComputedStyle(B!=null?B:document.body).fontSize,C.setAttribute("content",new Array(Math.ceil(b)).fill(1).join(""))}),i({"--font-size":"".concat(I),"--min-font-size":"".concat(j)})},[]);var u=String.raw(mn||(mn=Kr()(["",""])),t),v=[];return u=u.replace(new RegExp(s,"g"),function(d){var p="";if(!v.length&&d==="}")return d;if(d=="}")p="</".concat(v.pop(),">");else{var I=d.replace(/\{/g,""),j=Wt[I];v.push(j),p="<".concat(j,">")}return p}),(0,n.jsx)("span",{className:"qk-math-formula",style:l,ref:r,dangerouslySetInnerHTML:{__html:u}})},$r=Jr,qr=R(2070),pn=R(57889),Vr="data:image/png;base64,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",Zt=function(e){var t=(0,m.useState)(!1),r=fe()(t,2),a=r[0],o=r[1],l=e.src,i=e.onCancel;return(0,m.useEffect)(function(){l&&o(!0)},[l]),(0,n.jsx)(qr.Z,{src:a?l:Vr,onError:function(){pn.ZP.error("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25")},placeholder:"\u52A0\u8F7D\u4E2D...",style:{display:"none"},preview:{visible:a,src:l,onVisibleChange:function(u){u||(o(!1),setTimeout(function(){i==null||i()},200))}}})},Xr=Zt,_r=function(e){var t=document.createElement("div");ht.render((0,n.jsx)(Zt,w()(w()({},e),{},{onCancel:function(){ht.unmountComponentAtNode(t),document.body.removeChild(t)}})),t),document.body.append(t)};Zt.Create=_r;var ea=function(e){var t=e.type,r=t===void 0?1:t;return(0,n.jsxs)("div",{className:Fe()({"loading-1":r==1,"loading-2":r==2,"loading-3":r==3}),children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]})},gn=ea,ta=R(23446),na=function(e){return(0,n.jsx)(ta.Z,w()({},e))},ra=na,aa=R(59454),ia=function(e){return(0,n.jsx)(aa.Y,w()({},e))},oa=ia,Ht=function(e){var t=e.children;return t};Ht.Pc=function(c){var e=c.children,t=window.isMobile;if(!t)return e},Ht.Mobile=function(c){var e=c.children,t=window.isMobile;if(t)return e};var la=Ht,yn=R(65103),xn=function(e){return(0,n.jsx)(yn.vY,w()({},e))};xn.Item=yn.vY.Item;var ca=xn,sa=R(42525),Yt=R.n(sa),Dt=R(95711),da=R(60183),An=R.n(da),ua=function(e,t,r){var a={};t.forEach(function(l){a[l]=[],e.forEach(function(i){i[r]===l&&a[l].push(i)})});var o=[];return Object.keys(a).forEach(function(l){o.push(An()(An()({},r,l),"list",a[l]))}),o},va=function(e,t){if(!e.length)return[];if(!t)return e;var r=new Set;return e.forEach(function(a){r.add(a[t])}),ua(e,Qe()(r),t)},wn=function(e,t){var r=t==null?void 0:t.filter(function(i){return i.merge==="col"}),a=e;r.map(function(i){var s=i.mergeBy?i.mergeBy:i.dataIndex,u=va(e,s);return u.forEach(function(v){var d;v==null||(d=v.list)===null||d===void 0||d.forEach(function(p,I){p["rowSpan_".concat(s)]=I===0?v.list.length:0}),a.concat(v==null?void 0:v.list)}),u});var o=[],l=0;return t.forEach(function(i){var s;Object.keys(o).length||(o[l]=[]),((s=i.merge)!==null&&s!==void 0?s:[]).includes("row")?o[l].push(i.dataIndex):(l++,o[l]=[])}),o=o.filter(function(i){return i.length>1}),o.length&&a.forEach(function(i){o.forEach(function(s){var u=s.map(function(d){return i[d]}).filter(Boolean),v=new Set(u).size;v<=1&&s.forEach(function(d,p){p===0?i["colSpan_"+d]=s.length:i["colSpan_"+d]=0})})}),a},fa=function(e){return e==null||e.forEach(function(t){t.valueType==="index"&&(t.width=50),e==null||e.forEach(function(r){var a;r.valueType=="index"&&(r.width=50),((a=r.merge)!==null&&a!==void 0?a:[]).length&&(r.onCell=function(o){var l,i,s=r.mergeBy?r.mergeBy:r.dataIndex;return{rowSpan:(l=o["rowSpan_".concat(s)])!==null&&l!==void 0?l:1,colSpan:(i=o["colSpan_".concat(r.dataIndex)])!==null&&i!==void 0?i:1}})})}),e},ha=["ellipsis"],kt=function(e){var t,r,a=(0,m.useRef)(!0),o=e.ellipsis,l=o===void 0?!0:o,i=Yt()(e,ha),s=i.columns,u=s===void 0?[]:s,v=i.actionRef?i.actionRef:(0,m.useRef)();if(l){var d=0;u.forEach(function(j){var L;if(!j.width){var C,P,y=(C=String((P=j.title)!==null&&P!==void 0?P:""))===null||C===void 0?void 0:C.length;j.width=y?y*30:50}j.ellipsis===void 0&&(j.ellipsis=!0),d+=(L=Number(j.width))!==null&&L!==void 0?L:50,j.title==="\u64CD\u4F5C"&&(j.fixed="right",j.ellipsis=void 0)}),i.scroll={x:d}}"pagination"in i||(i.pagination={defaultPageSize:10,showSizeChanger:!0}),i.options===void 0&&(i.options=!1),i.postData=function(j){return wn(j,u)},(t=i.dataSource)!==null&&t!==void 0&&t.length&&(i.dataSource=wn(i.dataSource,u)),u=fa(u);var p=function(){var L={};try{L=JSON.parse(history.getUrlParams().searchParams)}catch(C){L={}}return L},I=function(L){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=L;C&&(P=w()(w()({},p()),L)),Qn({searchParams:JSON.stringify(P)},C)};return i!=null&&i.search&&i!==null&&i!==void 0&&(r=i.search)!==null&&r!==void 0&&r.storeQueryParams&&(i.search.optionRender=function(j,L){var C=v.current||{},P=C.setPageInfo,y=C.pageInfo,B=y===void 0?{}:y,O=j.resetText,b=j.searchText,A=L.form,Q=p(),M=function(){var k,H=((k=v.current)===null||k===void 0?void 0:k.pageInfo)||{},z=H.current;return{current:z}},$=function(){var k=A==null?void 0:A.getFieldsValue(),H={};for(var z in k)k[z]!==void 0&&(H[z]=k[z]);return H};if(a.current){var W;A==null||A.setFieldsValue(Q),a.current=!1,P==null||P(w()(w()({},B),{},{current:Number((W=Q==null?void 0:Q.current)!==null&&W!==void 0?W:1)}))}return[(0,n.jsx)(ke.ZP,{onClick:function(){A==null||A.resetFields(),I(M(),!1),A==null||A.submit()},children:O},"reset"),(0,n.jsx)(ke.ZP,{type:"primary",onClick:function(){A==null||A.submit(),I(w()(w()({},$()),M()),!1)},children:b},"search")]},i.pagination=w()({defaultPageSize:10,showQuickJumper:!0,size:"default",onChange:function(L){I({current:L},!0)}},i.pagination)),(0,n.jsx)(Dt.Z,w()(w()({actionRef:v},i),{},{columns:u}))},ma=kt;kt.Summary=Dt.Z.Summary,kt.Summary.Row=Dt.Z.Summary.Row,kt.Summary.Cell=Dt.Z.Summary.Cell;var pa=R(91158),ga=R(24350),ya=R.n(ga),jn=R(21464),xa=R(6112),Aa="data:image/png;base64,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",Gt=function(e){var t=e.content,r=t===void 0?"":t,a=e.width,o=a===void 0?168:a,l=e.edit,i=l===void 0?!1:l,s=e.margin,u=s===void 0?10:s,v=e.value,d=v===void 0?"":v,p=e.title,I=p===void 0?"":p,j=e.download,L=j===void 0?null:j,C=e.screenshot,P=C===void 0?!1:C,y=e.onChange,B=y===void 0?function(U){return 0}:y,O=e.success,b=O===void 0?function(U){return 0}:O,A=e.finish,Q=A===void 0?function(U){return 0}:A,M=e.titleLen,$=M===void 0?20:M,W=(0,m.useRef)(null),S=(0,m.useState)({edit:!1}),k=fe()(S,2),H=k[0],z=k[1],K=(0,m.useRef)(null),Y=Math.round(o/14),le=function(){return new Promise(function(ae,re){ya()(W.current||document.body,{ignoreElements:function(ce){return ce.classList.value.indexOf("icon-edit")!==-1}}).then(function(oe){ae(oe.toDataURL("image/png"))}).catch(function(){re()})})};return(0,m.useLayoutEffect)(function(){P&&typeof b=="function"&&setTimeout(function(){le().then(function(U){b(U)})},1e3)}),r?(0,n.jsxs)("div",{className:"qk-qr-code",style:{width:o-u+"px","--fontSize":Y+"px","--margin":u+"px"},children:[(0,n.jsxs)("div",{className:"qk-qr-code-wrap",ref:W,children:[(0,n.jsx)(xa.ZP,{value:r,size:o-u,style:{padding:u+"px",background:"#fff",borderRadius:"8px"}}),(0,n.jsxs)("p",{className:Fe()("qk-qr-code__title",{"qk-qr-code__title-margin":d||I}),children:[H.edit&&(0,n.jsx)("textarea",{ref:K,value:d||I,maxLength:$,onChange:function(ae){var re=ae.target.value;B==null||B(re)},onBlur:function(){typeof Q=="function"&&Q(d),z((0,jn.Uy)(function(ae){ae.edit=!1}))}}),!H.edit&&(0,n.jsx)("span",{children:d||I}),i&&(0,n.jsx)("i",{onClick:function(){z((0,jn.Uy)(function(ae){ae.edit=!0})),setTimeout(function(){var ae,re,oe,ce=((ae=K.current)===null||ae===void 0?void 0:ae.value.length)||0;(re=K.current)===null||re===void 0||re.focus(),(oe=K.current)===null||oe===void 0||oe.setSelectionRange(ce,ce)})},className:"icon-edit"})]})]}),L&&(0,n.jsx)("div",{className:"btn-group",children:(0,n.jsx)(ke.ZP,{type:"primary",block:!0,className:"btn-download cursor-pointer",onClick:L,disabled:!1,icon:(0,n.jsx)(pa.Z,{}),children:"\u4E0B\u8F7D\u4E8C\u7EF4\u7801"})})]}):(0,n.jsx)("div",{className:"qk-qr-code",style:{width:o+"px"},children:(0,n.jsx)("img",{src:Aa,alt:""})})},wa=function(e){var t=document.createElement("div");return ht.render((0,n.jsx)(Gt,w()({screenshot:!0},e)),t),document.body.appendChild(t),{destroy:function(){ht.unmountComponentAtNode(t),document.body.removeChild(t)}}},ja=Gt;Gt.screenshot=wa;var mt=R(26869),Ca=function(e){var t=e.filter(function(r){return r.type==="summaryTable"});return t.length?t.map(function(r){return{name:r.name,equipment:r.equipment,type:r.type}}):t},Ma=function c(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.forEach(function(r){r.type==="wattHourMeter"&&t.push({name:r.name,equipment:r.equipment,type:r.type}),r.children&&c(r.children,t)}),t},Cn=function(e){for(var t=e.data,r=e.groupNumber,a=r===void 0?4:r,o=t.length,l=o>a?Math.ceil(o/a):a,i=[],s=0;s<o;s+=l)i.push({name:"\u865A\u62DF\u7535\u8868",equipment:"wattHourMeter",type:"wattHourMeter",children:t.slice(s,s+l)});return i},Sa=function c(e){var t=e.data,r=e.type,a=e.result,o=a===void 0?[]:a,l=ln()(t),i;try{for(l.s();!(i=l.n()).done;){var s,u=i.value;if(u.type==="region"&&r===void 0){o=Cn({data:t});continue}if(u.type==="region"&&r==="summaryTable"){o=Cn({data:t});continue}if(u.type==="wattHourMeter"&&r==="summaryTable"){o=t;continue}if(u.type==="wattHourMeter"&&r===void 0){o=t;continue}(s=u.children)!==null&&s!==void 0&&s.length&&!o.length&&(o=c({data:u.children,type:u.type}))}}catch(v){l.e(v)}finally{l.f()}return o},Mn=function(e){var t=e.type,r=e.name,a=e.className,o=a===void 0?"":a,l=["summaryTable","wattHourMeter"].includes(t);return(0,n.jsxs)("div",{className:mt({"watt-hour-meter-comp":l},"flex",o),children:[(0,n.jsx)("div",{className:"equipment__icon flex justify-center items-center",children:(0,n.jsx)("i",{className:mt("icon","icon-"+t)})}),(0,n.jsx)("div",{className:"equipment__name flex-1 flex justify-center items-center",children:r})]})},La=function(e){var t,r=e.data,a=r.name,o=(t=r==null?void 0:r.children)!==null&&t!==void 0?t:[];return(0,n.jsxs)("div",{className:"regional-equipment",children:[(0,n.jsx)("div",{className:"regional-equipment__name",children:(0,n.jsx)("span",{children:a})}),(0,n.jsx)("div",{className:"regional-equipment-eq-row flex flex-row  justify-center",children:o.map(function(l,i){var s;return(0,n.jsxs)("div",{className:"regional-equipment-asse",children:[(0,n.jsxs)("div",{className:"regional-equipment-eq",children:[(0,n.jsx)("div",{className:mt("eq__icon","icon-"+l.equipment)}),(0,n.jsx)("div",{className:"eq__name",children:l.name})]}),(0,n.jsxs)("div",{className:"regional-equipment-number",children:["*",(s=l==null?void 0:l.number)!==null&&s!==void 0?s:0]})]},"r-"+i)})})]})},Na=function(e){var t=e.dataSource,r=e.options,a=r===void 0?{}:r,o=a.language,l=o===void 0?"cn":o,i=a.height,s=i===void 0?"100%":i,u=(0,m.useState)([]),v=fe()(u,2),d=v[0],p=v[1],I=(0,m.useState)([]),j=fe()(I,2),L=j[0],C=j[1],P=(0,m.useState)([]),y=fe()(P,2),B=y[0],O=y[1],b={cn:{wattHourMeter:"\u7535\u8868",region:"\u5149\u4F0F\u533A\u57DF"},en:{wattHourMeter:"Electric Meter",region:"Region of Solar"}};return(0,m.useEffect)(function(){p(Ca(t)),C(Ma(t)),O(Sa({data:t}))},[JSON.stringify(t)]),(0,n.jsx)("div",{className:"qk-sketch-map",style:{maxHeight:s},children:(0,n.jsx)("div",{className:mt("pv-diagram",{"not-project-summary":!d.length,"has-project-summary":d.length,"not-sub-meter":!L.length,"not-regional-equipment":!B.length,"sub-meter-number-1":L.length===1}),children:(0,n.jsxs)("div",{className:"pv-diagram-warp flex flex-row",children:[(0,n.jsx)("div",{className:"watt-hour-meter flex justify-center",children:(0,n.jsxs)("div",{className:"watt-hour-meter-wrap flex flex-row",children:[(0,n.jsx)("div",{className:"watt-hour-meter-wrap__name",children:b[l].wattHourMeter}),(0,n.jsx)("div",{className:"project-pummary flex items-center",children:d.map(function(A,Q){return A.type&&(0,n.jsx)(Mn,{type:A.type,name:A.name},"v-"+Q)})}),(0,n.jsxs)("div",{className:"whm-sm-connection",children:[(0,n.jsx)("div",{className:"whm-sm-connection__line-top"}),(0,n.jsx)("div",{className:"whm-sm-connection__line-bottom"}),(0,n.jsx)("div",{className:"whm-sm-connection__line-center"})]}),(0,n.jsx)("div",{className:"sub-meter flex justify-center flex-col",children:L.map(function(A,Q){return(0,n.jsxs)("div",{className:"sub-meter-wrap",children:[A.type&&(0,n.jsx)(Mn,{className:mt({"watt-hour-meter-comp__line":Q!==0&&Q!==L.length-1}),type:A.type,name:A.name}),Q<L.length-1&&(0,n.jsx)("div",{className:"seize-seat"})]},"g-"+Q)})})]})}),(0,n.jsx)("div",{className:"area flex-1",children:(0,n.jsxs)("div",{className:"area-wrap",children:[(0,n.jsx)("div",{className:"area-wrap__name",children:b[l].region}),B.map(function(A,Q){var M;return(0,n.jsx)("div",{className:"area-equipment-row flex flex-row",children:(M=A.children)===null||M===void 0?void 0:M.map(function($,W){return(0,n.jsx)(La,{data:$},"z-"+W)})},"k-"+Q)})]})})]})})})},ba=Na,Ia=function(e){var t=new Date(Math.min.apply(Math,Qe()(e.map(function(a){return new Date(a.start).getTime()})))),r=new Date(Math.max.apply(Math,Qe()(e.map(function(a){return new Date(a.end).getTime()}))));return{minDate:new Date(t),maxDate:new Date(r)}},Ut=function(e,t){for(var r=[],a=new Date(e),o=new Date(t);a<=o;)r.push(a.toISOString().slice(0,10)),a.setDate(a.getDate()+1);return r};function Ea(c){var e=c.map(function(a){var o=a.columns.reduce(function(l,i){return l+Number(i==null?void 0:i.value)},0);return w()(w()({},a),{},{total:o})}),t=e.sort(function(a,o){return o.total-a.total}),r=t.reduce(function(a,o){var l=o.total.toString();return a[l]||(a[l]=[]),a[l].push(o),a},{});return r}function Sn(c,e){var t=w()({},c);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r],o=t[r];Je()(a)!=="object"?t[r]=a:(Je()(o)!=="object"&&(t[r]=w()({},o)),t[r]=Sn(o,a))}return t}var Da=function(e){var t,r,a,o,l,i,s,u,v,d=e.options,p=d===void 0?{}:d,I=e.data,j=(0,m.useRef)(null),L=(0,m.useRef)(null),C={margin:{left:0,top:20,right:50,bottom:50},yAxios:{width:50},strip:{height:24,margin:20},background:"transparent",xAxios:{nameRender:null}};p=Sn(C,p);var P=(t=(r=p)===null||r===void 0?void 0:r.height)!==null&&t!==void 0?t:700,y=(a=p.tickLineWidth)!==null&&a!==void 0?a:65,B=(o=p.yAxios)!==null&&o!==void 0?o:{},O=B.width,b=O===void 0?50:O,A=(l=p.xAxios)!==null&&l!==void 0?l:{},Q=A.nameRender,M=(i=(s=p.strip)===null||s===void 0?void 0:s.margin)!==null&&i!==void 0?i:0,$=(u=(v=p.strip)===null||v===void 0?void 0:v.margin)!==null&&u!==void 0?u:0,W=p.background,S=0,k=0,H=0,z=0;if(typeof p.margin=="number"){var K;S=(K=p.margin)!==null&&K!==void 0?K:0,k=p.margin,H=p.margin,z=p.margin}else if(Je()(p.margin)==="object"){var Y,le,U,ae,re,oe,ce,X;S=(Y=(le=p)===null||le===void 0||(le=le.margin)===null||le===void 0?void 0:le.left)!==null&&Y!==void 0?Y:0,k=(U=(ae=p.margin)===null||ae===void 0?void 0:ae.top)!==null&&U!==void 0?U:0,H=(re=(oe=p)===null||oe===void 0||(oe=oe.margin)===null||oe===void 0?void 0:oe.right)!==null&&re!==void 0?re:0,z=(ce=(X=p.margin)===null||X===void 0?void 0:X.bottom)!==null&&ce!==void 0?ce:0}var q=Ea(I);P||(P=Object.keys(q).length*M+I.length*M+z+k+50);var V=function(f){return new ue.fabric.Line(f,{stroke:"#E6E6E6",selectable:!1,hoverCursor:"normal"})},me=function(f){return new ue.fabric.Line(f,{stroke:"#CCD6EB",strokeWidth:1,selectable:!1,hoverCursor:"normal"})},pe=function(f,g,h){return new ue.fabric.Text(f,{left:g,top:h,fontSize:12,fontFamily:"SourceHanSansCN",selectable:!1,hoverCursor:"normal",fill:"#666666",angle:-20})},T=function(f){for(var g=f.dates,h=f.height,x=f.oneDayXaxiosWidth,D=[],F=0;F<g.length;F++){var J=S+b+F*y+y,Z=k,_=J,te=h-k-z,se=String(g[F]);typeof Q=="function"&&(se=Q(g[F],F));var ie=S-30+b+F*y,ne=h-k-z+35,ee=pe(se,ie,ne);D.push(V([J,Z,_,te]),ee),ee.set({left:Math.floor(ie-ee.width/2)+y})}return D},G=function(f){var g=f.oneDayXaxiosWidth,h=f.minDate,x=f.height,D=f.width,F=-20,J=[],Z=x-k-z-M;return Object.keys(q).forEach(function(_,te,se){var ie=q[_].length,ne=M*ie;Z-=ne,te>0&&(Z-=M);var ee=new ue.fabric.Rect({left:S+b,top:Z,width:D-S+H-b,height:ne,fill:"transparent",stroke:"transparent",selectable:!1,hoverCursor:"normal"}),de=new ue.fabric.Textbox(_,{left:ee.left,top:ee.top,fontSize:14,fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1",fill:"#5B6C7E",selectable:!1,hoverCursor:"normal"}),Le=Math.ceil(ee.top+(ee.height-de.height)/2),he=Math.ceil(ee.left-de.width-20);de.set({top:Le,left:he}),J.push(ee),J.push(de);for(var we=function(){var Me=q[_][ge],Te=Z+ge*$+ge*1,_e=Math.ceil((Ut(h,new Date(Me.start)).length-1)*g+S+b+y),Ne=g*(Ut(new Date(Me.start),new Date(Me.end)).length-1)+F/2+2,je=new ue.fabric.Rect({left:_e,top:Te,width:Ne,height:$,fill:"transparent",stroke:"transparent",selectable:!1,hoverCursor:"normal"}),et=je.left,We=[],be="",tt=[],qe=be.length;Me.columns.forEach(function(ye,He){var rt=Math.floor(ye.value/Number(_)*je.width),Ie=new ue.fabric.Rect({left:et,top:je.top,width:rt,height:$,fill:ye.background,stroke:ye.background,selectable:!1,hoverCursor:"normal",skewX:F});et+=rt;var at=ye.value>0?"".concat(ye.title,"/").concat(ye.value," "):"";be+=at,Ie.width&&We.push(Ie),tt.push({startIndex:qe,endIndex:at.length+qe,color:ye.color}),qe+=at.length});var Ge=new ue.fabric.Text(be,{left:je.left,top:je.top,textAlign:"center",fontSize:14,fontFamily:"Arial",fill:"#fff",selectable:!1,hoverCursor:"normal"});tt.forEach(function(ye){Ge.setSelectionStyles({fill:ye.color},ye.startIndex,ye.endIndex)});var Ue=Math.ceil(je.left+(je.width-Ge.width)/2),pt=Math.ceil(je.top+(je.height-Ge.height)/2),nt={left:Ue,top:pt,fill:"red"},Ee=Ge.width+20,De=je.left-S-y,Ve=D-(je.left+je.width+S)-20;Ve>Ee?nt.left=Math.ceil(je.left+je.width+20):De>Ee?nt.left=Math.ceil(je.left-Ee):nt.left=Math.ceil(je.left+je.width/2-Ee/2),Ge.set(nt),J.push.apply(J,[je].concat(We,[Ge]))},ge=0;ge<q[_].length;ge++)we()}),J},N=function(f){var g=f.canvas,h=f.width,x=h===void 0?0:h,D=Ia(I),F=D.minDate,J=D.maxDate,Z=Ut(F,J),_=Math.floor((x-b-(S+H))/y)-1;console.log({xAxiosTickLen:_});for(var te=Math.ceil(Z.length/_),se=[],ie=0;ie<Z.length;ie++){var ne=Z[ie];ie%te===0&&se.push(ne)}var ee=y/te;return T({dates:se,oneDayXaxiosWidth:ee,height:P}).forEach(function(de){g.add(de)}),g.add(me([b+S,P-k-z,x-H,P-k-z])),g.add(me([b+S,k,b+S,P-k-z])),G({oneDayXaxiosWidth:ee,minDate:F,height:P,width:x}).forEach(function(de){g.add(de)}),g};return(0,m.useLayoutEffect)(function(){var E,f,g=(E=(f=L.current)===null||f===void 0?void 0:f.offsetWidth)!==null&&E!==void 0?E:0,h={selection:!1,width:g,height:P,backgroundColor:W},x=new ue.fabric.Canvas(j.current,h);N({canvas:x,width:g});var D=Bt().debounce(function(){var F=document.getElementById("canvas-container"),J=F==null?void 0:F.clientWidth,Z=F==null?void 0:F.clientHeight;x.setWidth(J),x.setHeight(Z),x.discardActiveObject(),x.requestRenderAll(),x.clear(),N({canvas:x,width:J})},500);return window.addEventListener("resize",D),function(){window.removeEventListener("resize",D)}},[]),(0,n.jsx)("div",{className:"canvas-container",id:"canvas-container",style:{height:"100%"},ref:L,children:(0,n.jsx)("canvas",{ref:j,id:"canvas"})})},ka=Da;function Ta(c){var e=c.open;return(0,n.jsx)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{id:"ESG\u76D8\u67E5\u76F8\u5173",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,n.jsx)("g",{id:"\u5207\u56FE\u53CA\u5361\u7247\u89E3\u6790",transform:"translate(-658.000000, -797.000000)",children:(0,n.jsxs)("g",{id:"\u7F16\u7EC4-35\u5907\u4EFD-7",transform:"translate(658.000000, 797.000000)",children:[(0,n.jsx)("circle",{id:"\u692D\u5706\u5F62",fill:"currentColor",cx:"12",cy:"12",r:"12"}),(0,n.jsxs)("g",{id:"\u7F16\u7EC4-38",transform:"translate(5.000000, 5.000000)",fill:"#FFFFFF",children:[(0,n.jsx)("rect",{id:"\u77E9\u5F62",x:"0",y:"6",width:"14",height:"2",rx:"1"}),e&&(0,n.jsx)("rect",{id:"\u77E9\u5F62\u5907\u4EFD",transform:"translate(7.000000, 7.000000) rotate(-270.000000) translate(-7.000000, -7.000000) ",x:"-7.27595761e-12",y:"6",width:"14",height:"2",rx:"1"})]})]})})})})}var Qa=function(e){var t=e.data,r=e.filter,a=function(i,s){return s.every(function(u){var v=u.dataIndex,d=u.value;return v.some(function(p){var I=i[p]||"";return typeof I=="string"||Array.isArray(I)&&typeof d=="string"?I.includes(d):Array.isArray(I)&&Array.isArray(d)?I.some(function(j){return d.includes(j)}):I==d})})},o=function l(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.map(function(u){var v=u.children?l(u.children,!1):[];if(s)return w()(w()({},u),{},{children:v.length?v:void 0});var d=a(u,r);return w()(w()({},u),{},{isFilter:!d,children:v.length?v:void 0})})};return o(t)},Ra=function c(e){var t=e.key,r=e.treeKey,a=r===void 0?"key":r,o=e.dataSource,l=e.updateRecord,i=l===void 0?{}:l;return o.map(function(s){var u;return s[a]==t?w()(w()({},s),i):s!=null&&(u=s.children)!==null&&u!==void 0&&u.length?w()(w()({},s),{},{children:c({key:t,treeKey:a,dataSource:s.children,updateRecord:i})}):s})},Ln=function c(e){var t=e.tree,r=t===void 0?[]:t,a=e.key,o=a===void 0?"key":a,l=e.reset,i=l===void 0?!1:l;return!r||!Array.isArray(r)?[]:r.map(function(s){var u=s.children,v=u===void 0?[]:u,d=s.isOpen,p=d===void 0?!1:d,I=w()(w()({},s),{},{key:s[o],isOpen:i?!1:p,opened:!0});return Array.isArray(v)&&v.length>0&&(I.children=c({tree:v,key:o,reset:i})),I})},Ae=function(c){return c[c.LOADING=0]="LOADING",c[c.OPEN=1]="OPEN",c[c.CLOSE=2]="CLOSE",c[c.HIDE=3]="HIDE",c}(Ae||{}),Pa=function(e){var t=e.isLoadNextChildren,r=t===void 0?!1:t,a=e.data,o=e.request,l=e.completedLoading,i=e.setTree,s=e.extraRender,u=e.cardStyle,v=e.updateTree,d=e.onTreeChange,p=e.treeKey,I=p===void 0?"key":p,j=(0,m.useState)(r?Ae.LOADING:Ae.CLOSE),L=fe()(j,2),C=L[0],P=L[1],y=(0,m.useRef)(null);(0,m.useLayoutEffect)(function(){var b,A,Q,M,$=(b=(A=y.current)===null||A===void 0?void 0:A.offsetWidth)!==null&&b!==void 0?b:0,W=(Q=(M=y.current)===null||M===void 0?void 0:M.offsetHeight)!==null&&Q!==void 0?Q:0;l==null||l({width:$,height:W}),!a.isNextLevel&&r&&P(Ae.HIDE)},[]);var B={setRecord:function(A,Q){O({key:A,record:Q})}},O=function(){var b=$e()(Se()().mark(function A(Q){var M,$,W,S,k,H,z,K,Y,le,U;return Se()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(S=Q.key,k=Q.record,H=k===void 0?{}:k,z=Q.opened,K=z===void 0?!0:z,Y=Ae.HIDE,le=a.children,!(a!=null&&(M=a.children)!==null&&M!==void 0&&M.length)){re.next=7;break}C===Ae.OPEN?Y=Ae.CLOSE:Y=Ae.OPEN,re.next=13;break;case 7:if(typeof o!="function"){re.next=13;break}return Y=Ae.LOADING,P(Y),re.next=12,new Promise(function(oe){o(a).then(function(ce){ce!=null&&ce.length?Y=Ae.OPEN:Y=Ae.HIDE,oe(ce)}).catch(function(){Y=Ae.CLOSE,oe(null)})});case 12:le=re.sent;case 13:v.current=Ra({treeKey:I,key:S,dataSource:v.current,updateRecord:w()({isOpen:K?Y===Ae.OPEN:!1,opened:K,children:le},H)}),i(v.current),(($=v.current)===null||$===void 0?void 0:$.length)===1&&(d==null||d(v.current)),U=Y,K||(U=Ae.CLOSE),(W=le)!==null&&W!==void 0&&W.length||(U=Ae.HIDE),P(U);case 20:case"end":return re.stop()}},A)}));return function(Q){return b.apply(this,arguments)}}();return(0,m.useEffect)(function(){r&&a.opened&&!a.isOpen&&O({key:a[I],opened:!1})},[]),(0,n.jsxs)("div",{ref:y,className:Fe()("qk-card","qk-tree-card-child-node"),style:u,children:[s==null?void 0:s(a,B),(0,n.jsx)("div",{className:Fe()("btn-close-and-open text-[#54A349] hover:text-[#54C245]",{"btn-open":C==Ae.CLOSE,"btn-close":C==Ae.OPEN,"btn-loading":C==Ae.LOADING,invisible:C===Ae.HIDE}),onClick:function(){O({key:a[I],opened:!0})},children:C!==Ae.HIDE&&C!==Ae.LOADING&&(0,n.jsx)(Ta,{open:C==Ae.CLOSE})})]})},Oa=function c(e){var t=e.request,r=e.className,a=e.treeKey,o=a===void 0?"key":a,l=e.params,i=e.cardStyle,s=i===void 0?{}:i,u=e.extraRender,v=e.isLoadNextChildren,d=v===void 0?!1:v,p=e.onTreeChange,I=e.filter,j=e.tree,L=e.setTree,C=e.updateTree;if(!(!C||!L)){var P=function(B){return I!=null&&I.length?!B.isFilter:!0};return(0,n.jsx)("div",{className:"qk-tree-card",children:j==null?void 0:j.filter(P).map(function(y){var B;return(0,n.jsxs)("div",{className:Fe()("qk-tree-card-column flex","qk-tree-card-column-"+j.filter(P).length),children:[(0,n.jsx)(Pa,{onTreeChange:p,updateTree:C,setTree:L,data:w()(w()({},y),{},{params:l}),cardStyle:s,request:t,className:r,tree:j,extraRender:u,isLoadNextChildren:d,filter:I,treeKey:o}),(0,n.jsx)(zt.Z,{mountOnEnter:!0,unmountOnExit:!1,appear:!0,in:y.isOpen&&(y==null||(B=y.children)===null||B===void 0?void 0:B.length),timeout:500,classNames:"qk-tree-card",children:(0,n.jsx)(c,{treeKey:o,request:t,cardStyle:s,isLoadNextChildren:d,filter:I,onTreeChange:p,updateTree:C,data:w()(w()({},y),{},{params:l}),params:l,className:r,tree:y.children,setTree:L,extraRender:u})})]},y[o])})})}},Ba=function(e){var t=e.width,r=t===void 0?400:t,a=e.height,o=a===void 0?200:a,l=e.className,i=l===void 0?"":l,s=e.lineColor,u=s===void 0?"#545C5C":s,v=e.treeData,d=v===void 0?[]:v,p=e.request,I=e.treeKey,j=I===void 0?"key":I,L=e.params,C=e.cardStyle,P=C===void 0?{}:C,y=e.children,B=e.isLoadNextChildren,O=B===void 0?!1:B,b=e.emptyRender,A=e.onTreeChange,Q=e.filter,M=(0,m.useRef)([]),$=(0,m.useState)([]),W=fe()($,2),S=W[0],k=W[1];(0,m.useEffect)(function(){var z=Ln({tree:d,key:j});M.current=z,k(z)},[JSON.stringify(d)]);var H=function(K){return Q!=null&&Q.length?!K.isFilter:!0};return(0,fn.Z)(function(){if(Q){var z,K=Qa({data:M.current,filter:Q}),Y=(z=K[0])===null||z===void 0?void 0:z.children.filter(H);Y.length||pn.ZP.error("\u6CA1\u6709\u67E5\u5230\u60A8\u60F3\u8981\u7684\u6570\u636E"),k(K)}},[Q]),(0,m.useEffect)(function(){!(d!=null&&d.length)&&p({params:L,isRootTree:!0}).then(function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],K=Ln({tree:z,key:j,reset:!0});M.current=K,A==null||A(z),k(K)})},[JSON.stringify(L)]),S.filter(H).length===0?b||(0,n.jsx)("div",{className:"text-[#ccc]",children:"\u6682\u65E0\u6570\u636E"}):(0,n.jsx)("div",{style:{"--w":r+"px","--h":o+"px","--line-color":u},className:Fe()(i),children:(0,n.jsx)(Oa,{treeKey:j,request:p,treeData:d,cardStyle:P,isLoadNextChildren:O,filter:Q,onTreeChange:A,updateTree:M,data:{params:L},className:i,tree:S,setTree:k,extraRender:y},Object.values(L||"key").join(""))})},za=m.memo(Ba),Fa=R(6873),Wa=R(20222),Za=R(68665),Ha=R(89693),Ya=R(25085),Ga=R(99713),Ua=R.n(Ga),Ka=Object.defineProperty,Nn=Object.getOwnPropertySymbols,Ja=Object.prototype.hasOwnProperty,$a=Object.prototype.propertyIsEnumerable,bn=(c,e,t)=>e in c?Ka(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,qa=(c,e)=>{for(var t in e||(e={}))Ja.call(e,t)&&bn(c,t,e[t]);if(Nn)for(var t of Nn(e))$a.call(e,t)&&bn(c,t,e[t]);return c};const Si=c=>React.createElement("svg",qa({width:18,height:18,xmlns:"http://www.w3.org/2000/svg"},c),React.createElement("title",null,"\u5220\u9664"),React.createElement("path",{d:"M17.438 3.375h-2.813v-2.25C14.625.506 14.119 0 13.5 0H4.594c-.619 0-1.125.506-1.125 1.125v2.25H.562A.564.564 0 0 0 0 3.938c0 .309.253.562.562.562h16.876c.309 0 .562-.253.562-.563a.564.564 0 0 0-.563-.562Zm-12.842 0-.002-.002V1.127l.002-.002h8.902l.002.002v2.246l-.002.002H4.596Zm10.591 2.25a.562.562 0 0 0-.562.563v10.124c0 .31-.253.563-.563.563H3.938a.564.564 0 0 1-.563-.563V6.188a.562.562 0 1 0-1.125 0v10.124c0 .93.757 1.688 1.688 1.688h10.124a1.69 1.69 0 0 0 1.688-1.688V6.188a.562.562 0 0 0-.563-.563Zm-7.874 8.438V6.188a.564.564 0 0 0-.563-.563.564.564 0 0 0-.562.563v7.875c0 .309.253.562.562.562.31 0 .563-.253.563-.563Zm4.5 0V6.188a.564.564 0 0 0-.563-.563.564.564 0 0 0-.563.563v7.875c0 .309.254.562.563.562.31 0 .563-.253.563-.563Z",className:"icon-delete_svg__iconfill",fill:"#9CA8BA",fillRule:"nonzero"}));var In="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE3LjQzOCAzLjM3NWgtMi44MTN2LTIuMjVDMTQuNjI1LjUwNiAxNC4xMTkgMCAxMy41IDBINC41OTRjLS42MTkgMC0xLjEyNS41MDYtMS4xMjUgMS4xMjV2Mi4yNUguNTYyQS41NjQuNTY0IDAgMCAwIDAgMy45MzhjMCAuMzA5LjI1My41NjIuNTYyLjU2MmgxNi44NzZjLjMwOSAwIC41NjItLjI1My41NjItLjU2M2EuNTY0LjU2NCAwIDAgMC0uNTYzLS41NjJabS0xMi44NDIgMC0uMDAyLS4wMDJWMS4xMjdsLjAwMi0uMDAyaDguOTAybC4wMDIuMDAydjIuMjQ2bC0uMDAyLjAwMkg0LjU5NlptMTAuNTkxIDIuMjVhLjU2Mi41NjIgMCAwIDAtLjU2Mi41NjN2MTAuMTI0YzAgLjMxLS4yNTMuNTYzLS41NjMuNTYzSDMuOTM4YS41NjQuNTY0IDAgMCAxLS41NjMtLjU2M1Y2LjE4OGEuNTYyLjU2MiAwIDEgMC0xLjEyNSAwdjEwLjEyNGMwIC45My43NTcgMS42ODggMS42ODggMS42ODhoMTAuMTI0YTEuNjkgMS42OSAwIDAgMCAxLjY4OC0xLjY4OFY2LjE4OGEuNTYyLjU2MiAwIDAgMC0uNTYzLS41NjNabS03Ljg3NCA4LjQzOFY2LjE4OGEuNTY0LjU2NCAwIDAgMC0uNTYzLS41NjMuNTY0LjU2NCAwIDAgMC0uNTYyLjU2M3Y3Ljg3NWMwIC4zMDkuMjUzLjU2Mi41NjIuNTYyLjMxIDAgLjU2My0uMjUzLjU2My0uNTYzWm00LjUgMFY2LjE4OGEuNTY0LjU2NCAwIDAgMC0uNTYzLS41NjMuNTY0LjU2NCAwIDAgMC0uNTYzLjU2M3Y3Ljg3NWMwIC4zMDkuMjU0LjU2Mi41NjMuNTYyLjMxIDAgLjU2My0uMjUzLjU2My0uNTYzWiIgY2xhc3M9Imljb25maWxsIiBmaWxsPSIjOUNBOEJBIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=",Va=Object.defineProperty,En=Object.getOwnPropertySymbols,Xa=Object.prototype.hasOwnProperty,_a=Object.prototype.propertyIsEnumerable,Dn=(c,e,t)=>e in c?Va(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,ei=(c,e)=>{for(var t in e||(e={}))Xa.call(e,t)&&Dn(c,t,e[t]);if(En)for(var t of En(e))_a.call(e,t)&&Dn(c,t,e[t]);return c};const Li=c=>React.createElement("svg",ei({width:18,height:18,xmlns:"http://www.w3.org/2000/svg"},c),React.createElement("title",null,"\u4E0B\u8F7D"),React.createElement("path",{d:"M17.308 13.154a.692.692 0 0 0-.693.692v2.77H1.385v-2.77a.692.692 0 1 0-1.385 0v3.462c0 .382.31.692.692.692h16.616c.383 0 .692-.31.692-.692v-3.462a.692.692 0 0 0-.692-.692ZM2.847 9.404l5.605 5.61a.69.69 0 0 0 .498.203c.024.002.045.014.069.014a.685.685 0 0 0 .282-.063.683.683 0 0 0 .24-.154l5.61-5.606a.692.692 0 1 0-.978-.98l-4.462 4.46V.692a.692.692 0 1 0-1.385 0v12.23L3.828 8.428a.692.692 0 1 0-.981.976Z",className:"icon-download_svg__iconfill",fill:"#9CA8BA",fillRule:"nonzero"}));var ti="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE3LjMwOCAxMy4xNTRhLjY5Mi42OTIgMCAwIDAtLjY5My42OTJ2Mi43N0gxLjM4NXYtMi43N2EuNjkyLjY5MiAwIDEgMC0xLjM4NSAwdjMuNDYyYzAgLjM4Mi4zMS42OTIuNjkyLjY5MmgxNi42MTZjLjM4MyAwIC42OTItLjMxLjY5Mi0uNjkydi0zLjQ2MmEuNjkyLjY5MiAwIDAgMC0uNjkyLS42OTJaTTIuODQ3IDkuNDA0bDUuNjA1IDUuNjFhLjY5LjY5IDAgMCAwIC40OTguMjAzYy4wMjQuMDAyLjA0NS4wMTQuMDY5LjAxNGEuNjg1LjY4NSAwIDAgMCAuMjgyLS4wNjMuNjgzLjY4MyAwIDAgMCAuMjQtLjE1NGw1LjYxLTUuNjA2YS42OTIuNjkyIDAgMSAwLS45NzgtLjk4bC00LjQ2MiA0LjQ2Vi42OTJhLjY5Mi42OTIgMCAxIDAtMS4zODUgMHYxMi4yM0wzLjgyOCA4LjQyOGEuNjkyLjY5MiAwIDEgMC0uOTgxLjk3NloiIGNsYXNzPSJpY29uZmlsbCIgZmlsbD0iIzlDQThCQSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+",kn=function(e){if(!e)return"other";var t=e.lastIndexOf("."),r=e.substr(t+1).toLowerCase(),a={image:["png","jpg","jpeg","gif","webp","bmp","svg","tiff"],pdf:["pdf"],excel:["xlsx","xls"],word:["docx","doc"],ppt:["ppt","pptx"]};for(var o in a)if(a[o].includes(r))return o;return"other"},ni=function(e,t,r,a,o,l){var i,s=(0,m.useRef)(null);(0,m.useLayoutEffect)(function(){var v;l(((v=s.current)===null||v===void 0?void 0:v.offsetHeight)||0)},[r.length]);var u=t.time?t.time:Ua()(new Date((t==null?void 0:t.lastModified)||new Date)).format("YYYY-MM-DD HH:mm:ss");return(0,n.jsxs)("div",{className:"upload-list-item","data-h":(i=s.current)===null||i===void 0?void 0:i.offsetHeight,ref:s,children:[(0,n.jsxs)("div",{className:"upload-list-item-wrap flex relative",children:[(0,n.jsx)("div",{className:"file-preview icon-".concat(kn(t.name))}),(0,n.jsxs)("div",{className:"file-info flex-1 flex flex-col justify-center items-start overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex w-full overflow-hidden",children:[(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,n.jsx)("span",{className:"file-name",title:t.name,children:t.name})}),(0,n.jsx)("div",{className:"btn-group flex justify-center",children:(0,n.jsxs)(St.Z,{size:"large",children:[t.deleteRender!==null&&(0,n.jsx)(Ya.Z,{placement:"top",title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onConfirm:a.remove,okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsx)("img",{className:"cursor-pointer",src:In})}),t.downloadRender!==null&&(0,n.jsx)("span",{className:"cursor-pointer",onClick:a.download,children:(0,n.jsx)("img",{src:ti})})]})})]}),(0,n.jsx)("div",{style:{height:"10px"}}),(0,n.jsxs)("div",{className:"flex  w-full",children:[t.size&&(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{children:t.size/1024<1024?(t.size/1024).toFixed(2)+"K":(t.size/1024/1024).toFixed(2)+"M"})}),(0,n.jsx)("div",{children:(0,n.jsx)("span",{children:u})})]})]}),t.status==="uploading"&&(0,n.jsx)("div",{className:"absolute upload-percent justify-center items-center flex w-full h-full left-0 top-0",style:{"--percent":(t.percent||0)+"%"},children:(0,n.jsx)("p",{className:"text-white",children:(t.percent||0)<100?"\u6587\u4EF6\u4E0A\u4F20\u4E2D\uFF0C\u5DF2\u4E0A\u4F20 ".concat(t.percent,"%"):"\u4E0A\u4F20\u5B8C\u6210 !"})})]}),typeof o=="function"?o(t):o]})},ri=ni,Tn={expand:{cn:"\u5C55\u5F00",en:"Expand"},collapse:{cn:"\u6536\u8D77",en:"Collapse"}},ai=["title","theme","uploadButtonRender","placeholder","uploadButtonText","retractionEnable","attachmentListItemFooterExtendRender","tooltip","defaultFileList","fileList","layout","required","uploadClassName","language"],ii=function(e,t){var r=(0,m.useRef)(null),a=(0,m.useRef)(0),o=ri,l=e.title,i=e.theme,s=i===void 0?"fund":i,u=e.uploadButtonRender,v=e.placeholder,d=e.uploadButtonText,p=d===void 0?"\u6587\u4EF6\u4E0A\u4F20":d,I=e.retractionEnable,j=I===void 0?!0:I,L=e.attachmentListItemFooterExtendRender,C=L===void 0?null:L,P=e.tooltip,y=P===void 0?"":P,B=e.defaultFileList,O=e.fileList,b=e.layout,A=b===void 0?"vertical":b,Q=e.required,M=e.uploadClassName,$=M===void 0?"":M,W=e.language,S=W===void 0?"cn":W,k=Yt()(e,ai),H=(0,m.useState)(j?"stow":"open"),z=fe()(H,2),K=z[0],Y=z[1],le=(0,m.useState)({singleHeight:0,multiHeight:0,actualRows:0,rows:3}),U=fe()(le,2),ae=U[0],re=U[1],oe=w()({defaultFileList:B,fileList:O,showUploadList:!0,itemRender:function(G,N,E,f){return o(G,N,E,f,C,function(g){a.current=g})}},k),ce=(0,m.useRef)(null),X=function(){var G;(G=ce.current)===null||G===void 0||G.click(),Y("open")},q=function(){return B!=null&&B.length?(0,n.jsx)(n.Fragment,{}):O!=null&&O.length?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)("p",{className:"upload-placeholder",children:v})},V=l||u?104:40,me=(0,m.useCallback)(function(){var T,G,N=(T=(G=r.current)===null||G===void 0?void 0:G.offsetWidth)!==null&&T!==void 0?T:1920,E=0;N<992&&(E=1),N>992&&N<1600&&(E=2),N>1600&&(E=3),((O==null?void 0:O.length)||0)<1&&(E=1);var f=Math.ceil(((O==null?void 0:O.length)||0)/E);re({singleHeight:(a.current+24)*2+V,multiHeight:(a.current+24)*f+V,actualRows:f,rows:E})},[O==null?void 0:O.length]);(0,m.useLayoutEffect)(function(){me(),window.addEventListener("resize",me)},[O==null?void 0:O.length]),(0,m.useImperativeHandle)(t,function(){return{setRetraction:Y,onTriggerUpload:X}});var pe={collection:"#F6FFFA",operation:"#F6FFFA",certified:"#F6F6FF",fund:"#F6F6FF"};return(0,n.jsxs)("div",{ref:r,className:Fe()("upload-panel",$,"layout-"+A,{"upload-panel--stow":K==="stow","upload-panel--open":K==="open","upload-panel--auto":ae.actualRows<3,"not-upload-file":!(O!=null&&O.length)}),style:{height:K==="stow"?ae.singleHeight+"px":ae.multiHeight+"px","--theme-color":pe[s],"--rows":ae.rows},children:[l&&(0,n.jsxs)("div",{className:"upload-panel-header flex",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("span",{className:Fe()("font-bold",{"upload-required":Q}),children:l}),y&&(0,n.jsx)(Za.Z,{placement:"topLeft",title:y,children:(0,n.jsx)("span",{className:"tool-tip",children:(0,n.jsx)(Fa.Z,{style:{color:"#5EC385"}})})})]}),u!==null&&(0,n.jsx)("div",{children:u?typeof u=="function"?u({onTriggerUpload:X}):u:(0,n.jsx)(ke.ZP,{onClick:X,icon:(0,n.jsx)(Wa.Z,{}),children:p})})]}),(0,n.jsxs)("div",{className:"upload-panel-body upload-list",children:[(0,n.jsx)(Ha.Z,w()(w()({},oe),{},{children:(0,n.jsx)(ke.ZP,{style:{display:"none"},ref:ce})})),(0,n.jsx)(q,{})]}),j&&ae.actualRows>2&&(0,n.jsx)("div",{className:"".concat(C!==null?"retraction retraction-extra-footer":"retraction"," "),children:(0,n.jsxs)(ke.ZP,{className:"btn-retraction",type:"link",size:"small",onClick:function(){Y(function(G){return G==="stow"?"open":"stow"})},children:[(0,n.jsx)("span",{children:K==="stow"?Tn.expand[S]:Tn.collapse[S]}),(0,n.jsx)(en.Z,{})]})})]})},oi=(0,m.forwardRef)(ii),li=function(e,t,r,a){return(0,n.jsx)("div",{className:"upload-list-item upload-simple-list-item",children:(0,n.jsxs)("div",{className:"upload-list-item-wrap flex relative",children:[(0,n.jsx)("div",{className:"file-preview icon-".concat(kn(t.name))}),(0,n.jsxs)("div",{className:"file-info flex-1 flex flex-col justify-center items-start overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex w-full overflow-hidden",children:[(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,n.jsx)("span",{className:"file-name",title:t.name,children:t.name})}),(0,n.jsx)("div",{className:"btn-group flex justify-center items-center",onClick:a.remove,children:t.downloadRender!==null&&(0,n.jsx)("img",{src:In,title:"\u5220\u9664",alt:"\u5220\u9664"})})]}),(0,n.jsx)("div",{style:{height:"10px"}})]})]})})},Ni=function(e){return new Promise(function(t){return setTimeout(t,e)})},ci=function(e){var t=0,r={},a=new IntersectionObserver(function(l){l.forEach(function(i){var s=i.target.getAttribute("uuid"),u=r[s],v=u.render,d=u.delay,p=u.SetVisible;i.isIntersecting&&setTimeout(function(){v(!0)},d),p(i.isIntersecting)})},e),o=function(i){var s=i.delay,u=s===void 0?0:s,v=i.children,d=i.placeholder;u=u||(e==null?void 0:e.delay)||0,d=d||(e==null?void 0:e.placeholder)||"\u52A0\u8F7D\u4E2D...",typeof d=="function"&&(d=d());var p=(0,m.useRef)(null),I=(0,m.useState)(!1),j=fe()(I,2),L=j[0],C=j[1],P=(0,m.useState)(!1),y=fe()(P,2),B=y[0],O=y[1];(0,m.useEffect)(function(){t++;var A=p.current;A.setAttribute("uuid",String(t)),A&&a.observe(A),r[t]={render:C,delay:u,SetVisible:O,visible:B}},[]);var b=v;return typeof v=="function"&&(b=v(B)),(0,n.jsx)("div",{ref:p,children:L?b:d})};return o},si=ci,di=["children"],ui=function c(e){for(var t=e.data,r=t===void 0?[]:t,a=e.flatData,o=a===void 0?[]:a,l=e.childrenKey,i=l===void 0?"routes":l,s=e.filter,u=0;u<r.length;u++)if(!(typeof s=="function"&&!s(r[u]))){var v=r[u][i];v!=null&&v.length?(o.push(r[u]),c({data:v,flatData:o,filter:s})):o.push(r[u])}return o},vi=function(e){var t={},r=function a(o){o.forEach(function(l){var i;t[l.path]={path:l.path,name:l.name},l!=null&&(i=l.children)!==null&&i!==void 0&&i.length&&a(l.children)})};return r(e),t},fi=function(e,t){return Math.round(Math.random()*(t-e))+e},hi=function c(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.forEach(function(r){var a=r.children,o=Yt()(r,di);t[r.path]=o,a!=null&&a.length&&c(a,t)}),t},mi=function c(e){var t,r=e.routes,a=e.childrenKye,o=a===void 0?"children":a,l=fe()(r,1),i=l[0],s=i===void 0?{}:i;return!(s!=null&&s.component)&&(t=s[o])!==null&&t!==void 0&&t.length&&!s.redirect?c({routes:s[o],childrenKye:o}):s},pi=function(){var e=window.navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/)||e.indexOf("Samsung")>-1,ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1,weixin:e.indexOf("MicroMessenger")>-1,userAgent:e}},Qn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r={},a=window.location,o=a.origin,l=a.pathname,i=a.hash,s=a.href,u=s.split("#")[1].split("?");u.length===2&&(u=u[1],u=u.split("&"),u.map(function(C){var P=C.split("="),y=P[0];r[y]=P[1]})),t&&(e=Object.assign({},r,e));var v="";for(var d in e)v+="".concat(d,"=").concat(e[d],"&");v=v.substring(0,v.length-1);var p=i.split("?"),I=fe()(p,1),j=I[0],L="".concat(o).concat(l).concat(j,"?").concat(v);window.history.replaceState(null,"",L)},gi=function(e){var t=e.url,r=e.name,a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",decodeURIComponent(r)),document.body.appendChild(a),a.click()}},9443:function(){},58113:function(){},80051:function(){}}]);
