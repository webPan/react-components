(self.webpackChunkreact_components=self.webpackChunkreact_components||[]).push([[126],{50451:function(Ci,Xt,O){"use strict";O.r(Xt),O.d(Xt,{AntdTheme:function(){return _t},QkAreaDrawPeriodicChart:function(){return Jn},QkBtnGroupCollapsed:function(){return Vn},QkCustomModal:function(){return dr},QkCustomSteps:function(){return wr},QkCustomTags:function(){return Nr},QkDrawPeriodicChartPro:function(){return Rr},QkDrawerForm:function(){return Ir},QkFixedFooter:function(){return hn},QkGaoDeEchartMap:function(){return Zr},QkGaoDeMap:function(){return Kr},QkGenerateMathFormula:function(){return Vr},QkImagePreview:function(){return ea},QkLoading:function(){return An},QkModal:function(){return ia},QkModalForm:function(){return ca},QkMultideviceRender:function(){return sa},QkProDescriptions:function(){return da},QkProTable:function(){return ga},QkQRCode:function(){return Ma},QkSketchMap:function(){return Ea},QkStackDrawPeriodicChart:function(){return Ra},QkTreeCard:function(){return Wa},QkUpload:function(){return ci},attachmentSimpleListItemRender:function(){return si},downloadFile:function(){return xi},equipment:function(){return yi},firstAvailableRouter:function(){return gi},flatRoutes:function(){return pi},flatTree:function(){return fi},generateBreadcrumbs:function(){return hi},rand:function(){return mi},replaceState:function(){return Qn},useQkScrollLoad:function(){return ui}});var Bn=O(7731),zn=O(89750),p=O(38497),n=O(96469),Fn=function(e){var t=e.children;return(0,n.jsx)(Bn.ZP,{locale:zn.Z,theme:{token:{borderRadius:2,colorPrimary:"#54A349",colorLink:"#54A349"},components:{Button:{primaryShadow:"0 2px 0 rgba(84, 163, 73, 0.01)",borderRadius:2}}},children:t})},_t=Fn,Wn=O(2927),Re=O.n(Wn),Hn=O(8345),Je=O.n(Hn),Zn=O(39346),x=O.n(Zn),ve=O(84225),Yn=O(44766),zt=O.n(Yn),Gn=function(e){return e.map(function(t){var r=0;for(var i in t.columns)if(Object.prototype.hasOwnProperty.call(t.columns,i)){var l=t.columns[i];r+=(l==null?void 0:l.list.reduce(function(c,a){return c+Number(a.value)},0))||0}return x()(x()({},t),{},{total:r})})},Un=function(e){return e.reduce(function(t,r){return t+r.value},0)},en=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;try{return e.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})}catch(r){return e}};function tn(o,e){var t=x()({},o);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r],l=t[r];Je()(i)!=="object"?t[r]=i:(Je()(l)!=="object"&&(t[r]=x()({},l)),t[r]=tn(l,i))}return t}var Kn=function(e){var t,r,i,l,c,a,s,v,f,d,m,D,A,N,L,b=e.options,S=b===void 0?{}:b,F=e.data,P=(0,p.useRef)(null),T=(0,p.useRef)(null),y={margin:{top:10,right:10,bottom:10,left:10},yAxios:{width:50,height:60},strip:{width:28,margin:20,radius:15,minHeight:30},background:"transparent",height:390};S=tn(y,S);var R=(t=(r=S)===null||r===void 0?void 0:r.height)!==null&&t!==void 0?t:390,j=(i=(l=S)===null||l===void 0||(l=l.strip)===null||l===void 0?void 0:l.width)!==null&&i!==void 0?i:28,U=(c=(a=S)===null||a===void 0||(a=a.strip)===null||a===void 0?void 0:a.margin)!==null&&c!==void 0?c:20,W=(s=(v=S)===null||v===void 0||(v=v.strip)===null||v===void 0?void 0:v.radius)!==null&&s!==void 0?s:15,E=(f=(d=S)===null||d===void 0||(d=d.strip)===null||d===void 0?void 0:d.minHeight)!==null&&f!==void 0?f:30,z=(m=S.background)!==null&&m!==void 0?m:"transparent",Q=(D=(A=S)===null||A===void 0||(A=A.yAxios)===null||A===void 0?void 0:A.width)!==null&&D!==void 0?D:50,G=(N=(L=S)===null||L===void 0||(L=L.yAxios)===null||L===void 0?void 0:L.height)!==null&&N!==void 0?N:390,V=0,Z=0,J=0,H=0;if(typeof S.margin=="number"){var re;V=(re=S.margin)!==null&&re!==void 0?re:0,Z=S.margin,J=S.margin,H=S.margin}else if(Je()(S.margin)==="object"){var ce,ne,ae,ee,X,_,se,Se;V=(ce=(ne=S)===null||ne===void 0||(ne=ne.margin)===null||ne===void 0?void 0:ne.left)!==null&&ce!==void 0?ce:0,Z=(ae=(ee=S.margin)===null||ee===void 0?void 0:ee.top)!==null&&ae!==void 0?ae:0,J=(X=(_=S)===null||_===void 0||(_=_.margin)===null||_===void 0?void 0:_.right)!==null&&X!==void 0?X:0,H=(se=(Se=S.margin)===null||Se===void 0?void 0:Se.bottom)!==null&&se!==void 0?se:0}console.log({marginLeft:V,marginTop:Z,marginRight:J,marginBottom:H}),console.log(S),F=Gn(F);var k=Math.max.apply(Math,Re()(F.map(function(u){var g;return(g=u==null?void 0:u.total)!==null&&g!==void 0?g:0}))),B=function(g){return new ve.fabric.Line(g,{stroke:"#E6E6E6",strokeWidth:1,selectable:!1,hoverCursor:"normal"})},Y=function(g){return new ve.fabric.Line(g,{stroke:"#CCD6EB",strokeWidth:1,selectable:!1,hoverCursor:"normal"})},C=function(g,h,M){return new ve.fabric.Text(g,{left:h,top:M,fontSize:12,fontFamily:"Arial",selectable:!1,hoverCursor:"normal",fill:"#666666"})},w=function(g){var h=g.canvas,M=g.width,I=M===void 0?0:M;{var $=V+Q,q=R-H,K=I-J,de=q;h.add(Y([$,q,K,de]))}{var oe=V+Q,ie=Z,le=V+Q,te=R-H;h.add(Y([oe,ie,le,te]))}for(var ue=Math.floor((R-Z-H)/G),pe=[],je=Math.ceil(k/ue),ye=0;ye<k;)pe.push(ye),ye+=je;pe.push(ye);for(var Ae=0;Ae<pe.length;Ae++){var Ce=V+Q,Me=R-H-Ae*G,Ie=I-J,Ee=Me;h.add(B([Ce,Me,Ie,Ee]));{var qe=String(en(pe[Ae],1)),he=V,et=R-Z-H-Ae*G,We=C(qe,he,et);h.add(We),We.set({top:Math.ceil(Me-We.height/2)})}}for(var Le=Math.ceil((I-V-J-Q)/F.length),tt=G/je,Ve=[],Ge=function(){var ke=F[Ue],De=ke.columns;{var Xe,xe=V+Q+Ue*Le,Ze=Math.ceil(tt*((Xe=ke==null?void 0:ke.total)!==null&&Xe!==void 0?Xe:1));Ze<E&&(Ze=E+5);var rt=R-H-Ze,be=new ve.fabric.Rect({left:xe,top:rt,width:Le,height:Ze,selectable:!1,hoverCursor:"normal",opacity:.05,fill:new ve.fabric.Gradient({type:"linear",coords:{x1:0,y1:0,x2:0,y2:Ze},colorStops:[{offset:0,color:"#6AC1FF"},{offset:.5,color:"#A4E2FF"}]})});h.add(be);{var at=Le-(Object.keys(De).length*j+(U*Object.keys(De).length-1)),Rt=Math.floor(xe+at/2);Object.keys(De).forEach(function(it,Qt){var At,ft,wt,jt;Rt=Math.floor(xe+2+Qt*60+at/2);var Ke=j,ct=Math.ceil(Un(((At=De[it])===null||At===void 0?void 0:At.list)||[])*tt*.9);ct=ct<E?E:ct;var Ct=R-H-ct-2,Qe=new ve.fabric.Rect({left:Rt,top:Ct,width:Ke,height:ct,fill:(ft=De[it])===null||ft===void 0?void 0:ft.background,stroke:(wt=De[it])===null||wt===void 0?void 0:wt.background,selectable:!1,hoverCursor:"normal",rx:15,ry:15});h.add(Qe);var me=it.toUpperCase()+Object.keys(De).length,we=new ve.fabric.Text(me,{left:Qe.left,top:Qe.top,fontSize:12,fontFamily:"Arial",selectable:!1,hoverCursor:"normal",fill:(jt=De[it])===null||jt===void 0?void 0:jt.color});we.set({left:Math.ceil(Qe.left+(Qe.width-we.width)/2),top:Math.ceil(Qe.top+(Qe.height-we.height)/2)}),h.add(we)})}{var dt,gt="WMh",ut="".concat(en(Number(ke.total),2),"  ").concat(gt,`
 `).concat(ke.start.substring(0,4)," ").concat(ke.start.substring(5)," - ").concat(ke.end.substring(5)),$t=be.left,_e=R-H-((dt=be==null?void 0:be.height)!==null&&dt!==void 0?dt:0)-50,ot=new ve.fabric.Text(ut,{left:$t,top:_e,textAlign:"center",fontSize:14,fontFamily:"Arial",fill:"#000",selectable:!1,hoverCursor:"normal"}),lt=ut.indexOf(gt);ot.setSelectionStyles({fill:"#666666"},lt,lt+gt.length),h.add(ot),ot.set({left:Math.ceil(be.left+(be.width-ot.width)/2)})}{var yt,Ye=V+Q+Ue*Le+2,He=(yt=R-H-(be==null?void 0:be.height))!==null&&yt!==void 0?yt:0,xt=Le*(Ue+1)+V+Q+2,vt=He;Ve.push({x:Ye,y:He},{x:xt,y:vt})}}},Ue=0;Ue<F.length;Ue++)Ge();{var pt=new ve.fabric.Polyline(Ve,{fill:"transparent",stroke:"#01B5D5",strokeWidth:2,selectable:!1,hoverCursor:"normal"});h.add(pt)}};return(0,p.useLayoutEffect)(function(){var u,g,h=(u=(g=T.current)===null||g===void 0?void 0:g.offsetWidth)!==null&&u!==void 0?u:0,M={selection:!1,width:h,height:R,backgroundColor:z},I=new ve.fabric.Canvas(P.current,M);w({canvas:I,width:h});var $=zt().debounce(function(){var q=document.getElementById("canvas-container"),K=q==null?void 0:q.clientWidth,de=q==null?void 0:q.clientHeight;I.setWidth(K),I.setHeight(de),I.discardActiveObject(),I.requestRenderAll(),I.clear(),w({canvas:I,width:K})},500);return window.addEventListener("resize",$),function(){window.removeEventListener("resize",$)}},[]),(0,n.jsx)("div",{className:"canvas-container",id:"canvas-container",style:{height:"100%"},ref:T,children:(0,n.jsx)("canvas",{ref:P,id:"canvas"})})},Jn=Kn,nn=O(12299),Te=O(98823),$n=O(59190),St=O(9064),qn=function(e){var t=e.data,r=e.onClick,i=[],l=[];return t.filter(function(c){return c.show!==!1}).forEach(function(c){c.collapsed?i.push(c):l.push(c)}),(0,n.jsxs)(n.Fragment,{children:[l.map(function(c){return(0,n.jsx)(Te.ZP,{disabled:c.disabled===!0,type:"link",onClick:function(){typeof r=="function"&&r(c.key)},children:c.label},c.key)}),i.length>0&&(0,n.jsx)($n.Z,{arrow:!0,menu:{items:i,onClick:function(a){typeof r=="function"&&r(a.key)}},children:(0,n.jsx)(Te.ZP,{type:"link",children:(0,n.jsxs)(St.Z,{children:["\u66F4\u591A",(0,n.jsx)(nn.Z,{})]})})})]})},Vn=qn,Xn=O(9083),fe=O.n(Xn),_n=O(84054),er=O(26869),Fe=O.n(er),ht=O(2060),tr=O(76087),Ft=O(46022),nr=Object.defineProperty,rn=Object.getOwnPropertySymbols,rr=Object.prototype.hasOwnProperty,ar=Object.prototype.propertyIsEnumerable,an=(o,e,t)=>e in o?nr(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,ir=(o,e)=>{for(var t in e||(e={}))rr.call(e,t)&&an(o,t,e[t]);if(rn)for(var t of rn(e))ar.call(e,t)&&an(o,t,e[t]);return o};const Mi=o=>React.createElement("svg",ir({width:17,height:16,xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("title",null,"\u8DEF\u5F84"),React.createElement("path",{d:"m9.662 8 6.515-6.517a.854.854 0 0 0 0-1.2L16.14.246a.853.853 0 0 0-1.2 0L8.427 6.773 1.912.247a.853.853 0 0 0-1.2 0L.677.282a.838.838 0 0 0 0 1.2L7.19 8 .677 14.517a.854.854 0 0 0 0 1.2l.035.036a.853.853 0 0 0 1.2 0l6.515-6.517 6.514 6.517a.853.853 0 0 0 1.2 0l.036-.035a.854.854 0 0 0 0-1.2L9.662 8Z",fill:"#B0BBCD",fillRule:"nonzero"}));var or="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTkuNjYyIDggNi41MTUtNi41MTdhLjg1NC44NTQgMCAwIDAgMC0xLjJMMTYuMTQuMjQ2YS44NTMuODUzIDAgMCAwLTEuMiAwTDguNDI3IDYuNzczIDEuOTEyLjI0N2EuODUzLjg1MyAwIDAgMC0xLjIgMEwuNjc3LjI4MmEuODM4LjgzOCAwIDAgMCAwIDEuMkw3LjE5IDggLjY3NyAxNC41MTdhLjg1NC44NTQgMCAwIDAgMCAxLjJsLjAzNS4wMzZhLjg1My44NTMgMCAwIDAgMS4yIDBsNi41MTUtNi41MTcgNi41MTQgNi41MTdhLjg1My44NTMgMCAwIDAgMS4yIDBsLjAzNi0uMDM1YS44NTQuODU0IDAgMCAwIDAtMS4yTDkuNjYyIDhaIiBmaWxsPSIjQjBCQkNEIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=",lr=function(e){var t=e.cancelRender,r=e.onCancel,i=e.cancelText,l=e.okRender,c=e.okText,a=e.onOk;return(0,n.jsx)("div",{className:"qk-custom-modal-footer",children:(0,n.jsxs)("div",{className:"btn-group flex items-center justify-center gap-[20px]",children:[typeof t=="function"?t():(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(Te.ZP,{type:"default",size:"large",shape:"round",block:!0,onClick:function(){typeof r=="function"&&r()},children:i})}),l&&t&&(0,n.jsx)("div",{className:"h-full",children:(0,n.jsx)(_n.Z,{type:"vertical",style:{height:"30px"}})}),typeof l=="function"?l():(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(Te.ZP,{block:!0,type:"primary",size:"large",shape:"round",onClick:function(){typeof a=="function"&&a()},children:c})})]})})},cr=function(e){var t=e.cancelRender,r=e.onCancel,i=e.cancelText,l=e.okRender,c=e.okText,a=e.onOk;return(0,n.jsx)("div",{className:"qk-custom-modal-footer",children:(0,n.jsx)("div",{className:"btn-group flex justify-end items-end",children:(0,n.jsxs)(St.Z,{children:[typeof t=="function"?t():(0,n.jsx)(Te.ZP,{type:"default",onClick:function(){typeof r=="function"&&r()},children:i}),typeof l=="function"?l():(0,n.jsx)(Te.ZP,{type:"primary",onClick:function(){typeof a=="function"&&a()},children:c})]})})})},sr=function(e){var t=e.title,r=e.width,i=r===void 0?500:r,l=e.children,c=e.okText,a=c===void 0?"\u786E\u5B9A":c,s=e.cancelText,v=s===void 0?"\u53D6\u6D88":s,f=e.onCancel,d=e.onOk,m=e.visible,D=m===void 0?!0:m,A=e.footerRender,N=A===void 0?!0:A,L=e.theme,b=L===void 0?"PC":L,S=e.closable,F=S===void 0?!0:S,P=e.okRender,T=P===void 0?!0:P,y=e.cancelRender,R=y===void 0?!0:y,j=e.zIndex,U=j===void 0?1005:j;return(0,n.jsxs)(p.Fragment,{children:[(0,n.jsx)(Ft.Z,{unmountOnExit:!0,appear:!0,in:D,timeout:200,classNames:"qk-custom-modal",children:(0,n.jsx)("div",{style:{zIndex:U-1},className:"qk-custom-modal"})}),(0,n.jsx)(Ft.Z,{unmountOnExit:!0,appear:!0,in:D,timeout:200,classNames:"qk-custom-content",children:(0,n.jsx)(_t,{children:(0,n.jsx)("div",{style:{zIndex:U},className:Fe()("qk-custom-modal-wrap flex justify-center items-center","qk-custom-modal--".concat(b.toLowerCase())),children:(0,n.jsxs)("div",{className:"qk-custom-modal-center",style:{width:i+"px"},children:[(0,n.jsxs)("div",{className:"qk-custom-modal-header flex",children:[(0,n.jsx)("div",{className:"qk-custom-modal-header__title flex-1",children:(0,n.jsx)("span",{children:t})}),F&&(0,n.jsx)("div",{className:"qk-custom-modal-header__btn-group flex justify-center items-center",children:(0,n.jsx)("div",{className:"cursor-pointer btn-close",onClick:function(){typeof f=="function"&&f()},children:(0,n.jsx)("img",{src:or,alt:"",className:"block"})})})]}),(0,n.jsx)("div",{className:"qk-custom-modal-content",children:l}),N&&b==="PC"&&(0,n.jsx)(cr,{okText:a,cancelRender:R,onCancel:f,onOk:d,cancelText:v,okRender:T}),N&&b==="APP"&&(0,n.jsx)(lr,{okText:a,cancelRender:R,onCancel:f,onOk:d,cancelText:v,okRender:T})]})})})})]})},Wt=function(e){return(0,ht.createPortal)((0,n.jsx)(sr,x()({},e)),document.body)},dr=Wt,on=p.forwardRef(function(o,e){var t=(0,p.useState)(!0),r=fe()(t,2),i=r[0],l=r[1];return(0,p.useImperativeHandle)(e,function(){return{setVisible:l}}),(0,n.jsx)(Wt,x()(x()({},o),{},{visible:i}))});on.displayName="QkCustomModalForward";var ur=function(e){var t=p.createRef(),r=document.createElement("div"),i=(0,tr.createRoot)(r);return i.render((0,n.jsx)(on,x()(x()({},e),{},{ref:t}))),document.body.append(r),{destroy:function(){var c;(c=t.current)===null||c===void 0||c.setVisible(!1),setTimeout(function(){i.unmount(),document.body.removeChild(r)},200)}}};Wt.Create=ur;var vr=O(43953),Ne=O.n(vr),fr=O(91184),$e=O.n(fr),ln=O(10723),hr=Object.defineProperty,cn=Object.getOwnPropertySymbols,mr=Object.prototype.hasOwnProperty,pr=Object.prototype.propertyIsEnumerable,sn=(o,e,t)=>e in o?hr(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,gr=(o,e)=>{for(var t in e||(e={}))mr.call(e,t)&&sn(o,t,e[t]);if(cn)for(var t of cn(e))pr.call(e,t)&&sn(o,t,e[t]);return o};const Si=o=>React.createElement("svg",gr({width:18,height:14,xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("title",null,"\u7F16\u7EC4"),React.createElement("defs",null,React.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"50%",id:"icon-complete_svg__a"},React.createElement("stop",{stopColor:"#FFF",offset:"0%"}),React.createElement("stop",{stopColor:"#FFF",offset:"100%"}))),React.createElement("path",{d:"m0 7.713 3.761-2.852 3.224 2.917S12.963 2.787 18 0v1.88C11.015 7.778 6.65 14 6.65 14L0 7.713Z",style:{fill:"#fff"},fill:"url(#icon-complete_svg__a)",fillRule:"nonzero"}));var yr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjUwJSIgaWQ9ImEiPjxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIG9mZnNldD0iMCUiLz48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBvZmZzZXQ9IjEwMCUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSJtMCA3LjcxMyAzLjc2MS0yLjg1MiAzLjIyNCAyLjkxN1MxMi45NjMgMi43ODcgMTggMHYxLjg4QzExLjAxNSA3Ljc3OCA2LjY1IDE0IDYuNjUgMTRMMCA3LjcxM1oiIHN0eWxlPSJmaWxsOiNmZmYiIGZpbGw9InVybCgjYSkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==",xr=function(){return(0,n.jsx)("div",{className:"mt-[20%]",children:(0,n.jsx)(An,{})})},Ar=function(e){var t,r=e.items,i=e.current,l=e.loading,c=l===void 0?!1:l,a=e.record,s=e.nextText,v=e.footerRender,f=e.onChange,d=e.onValuesChange,m=(0,p.useState)(!1),D=fe()(m,2),A=D[0],N=D[1],L=(0,p.useRef)({save:function(){},back:function(){}}),b=(0,ln.Z)(a),S=fe()(b,3),F=S[0],P=S[1],T=S[2],y=(0,p.useState)(0),R=fe()(y,2),j=R[0],U=R[1],W=(0,p.useState)(),E=fe()(W,2),z=E[1],Q=function(){var ee=$e()(Ne()().mark(function X(){var _,se;return Ne()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(j!==0){k.next=2;break}return k.abrupt("return");case 2:return k.prev=2,k.next=5,(_=L.current)===null||_===void 0||(se=_.back)===null||se===void 0?void 0:se.call(_);case 5:k.next=10;break;case 7:return k.prev=7,k.t0=k.catch(2),k.abrupt("return");case 10:U(j-1),setTimeout(function(){f==null||f({current:j,record:x()(x()({},a),T()),type:"prev"})});case 12:case"end":return k.stop()}},X,null,[[2,7]])}));return function(){return ee.apply(this,arguments)}}(),G=function(){var ee=$e()(Ne()().mark(function X(){var _,se;return Ne()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return N(!0),k.prev=1,k.next=4,(_=L.current)===null||_===void 0||(se=_.save)===null||se===void 0?void 0:se.call(_);case 4:k.next=10;break;case 6:return k.prev=6,k.t0=k.catch(1),k.t0==="next"&&setTimeout(function(){f==null||f({current:j,record:x()(x()({},a),T()),type:"next"})}),k.abrupt("return");case 10:return k.prev=10,N(!1),k.finish(10);case 13:if(j!==r.length-1){k.next=15;break}return k.abrupt("return");case 15:setTimeout(function(){f==null||f({current:j,record:x()(x()({},a),T()),type:"next"})}),U(j+1);case 17:case"end":return k.stop()}},X,null,[[1,6,10,13]])}));return function(){return ee.apply(this,arguments)}}(),V=(0,p.useMemo)(function(){return s?typeof s=="function"?s(j):s:j<r.length-1?"\u4E0B\u4E00\u6B65":"\u5B8C\u6210"},[j]);(0,p.useEffect)(function(){U(i)},[i]),(0,p.useEffect)(function(){z(Math.random())},[j]);var Z=x()(x()({},a),T());(0,p.useEffect)(function(){d==null||d(Z)},[JSON.stringify(Z)]);var J=function(X){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X==="next"?G():X==="prev"?Q():X==="change"?setTimeout(function(){f==null||f(x()({current:j,type:"change",record:x()(x()({},T()),_)},_)),_!=null&&_.current&&U(_.current)}):X==="setRecord"?P(x()(x()({},F),_)):X==="setCurrent"&&_!=null&&_.current&&U(_.current)},H=function(){return(0,n.jsx)(hn,{className:"flex justify-end",children:(0,n.jsxs)(St.Z,{children:[j>0&&(0,n.jsx)(Te.ZP,{type:"default",onClick:Q,children:"\u4E0A\u4E00\u6B65"}),(0,n.jsx)(Te.ZP,{type:"primary",loading:A,onClick:G,children:V})]})})},re=(0,p.useMemo)(function(){if(j>r.length-1||j<0)return null;var ee=r[j].content;return(0,n.jsx)(ee,{ref:L,record:x()(x()({},a),T()),setRecord:P,next:G,prev:Q,dispatch:J})},[j,a,F]),ce=(0,p.useMemo)(function(){var ee=0;return r.reduce(function(X,_){return _.hideInSteps||(ee=ee+1),X.push(x()(x()({},_),{},{stepIndex:_.hideInSteps?0:ee})),X},[])},[r.length]),ne=function(){if(typeof v=="function"){var X=v(x()(x()({next:G,prev:Q,dispatch:J},L.current),{},{current:j,record:F,nextLoading:A}));return X===void 0?(0,n.jsx)(H,{}):X===null?(0,n.jsx)(n.Fragment,{}):X}else return(0,n.jsx)(H,{})},ae=((t=ce.find(function(ee,X){return X===j}))===null||t===void 0?void 0:t.key)||0;return(0,n.jsxs)("div",{className:"qk-custom-steps flex flex-col",children:[(0,n.jsx)("div",{className:"qk-custom-steps-header",children:(0,n.jsx)("ul",{className:"flex justify-center",children:ce.map(function(ee,X){return(0,n.jsxs)("li",{className:Fe()("flex items-center",{"step-item-active":X===j||ee.key===ae,"step-item-complete":j>X,hidden:ee.stepIndex===0}),children:[(0,n.jsx)("span",{className:"flex step-item-icon justify-center items-center ",children:j>X?(0,n.jsx)("img",{src:yr}):ee.stepIndex}),(0,n.jsx)("span",{className:"step-item-title",children:ee.title}),(0,n.jsx)("span",{className:"step-item-line"})]},"T-"+X)})})}),(0,n.jsx)("div",{className:"qk-custom-steps-content flex-1",children:c?(0,n.jsx)(xr,{}):re}),(0,n.jsx)("div",{className:"qk-custom-steps-footer",children:ne()})]})},wr=Ar,jr={},Cr=function(e){var t=e.rows,r=e.gap,i=(0,p.useState)([]),l=fe()(i,2),c=l[0],a=l[1],s=(0,p.useRef)([]),v=(0,p.useRef)(0),f=(0,p.useRef)(0),d=(0,p.useState)([]),m=fe()(d,2),D=m[0],A=m[1],N=function(T){return T.map(function(y){return{value:y,render:!0,width:0,key:Math.random().toString()}})},L=function(T){for(var y=s.current,R=[],j=0;j<T;j++){R.push([]);for(var U=0,W=R.flat().length;W<y.length;W++)U+=y[W].width+r,U<v.current-(T-1===j?f.current:0)&&R[j].push(y[W])}a(R.flat()),console.log(R)},b=function(T,y){s.current[T].width=y,c.length-1===T&&L(t)},S=function(T){v.current=T},F=function(T){f.current=T};return(0,p.useEffect)(function(){var P=N(D);s.current=P,a(P)},[D]),{formatted:c,widthBackfilling:b,setContainerWidth:S,setMoreWidth:F,setDataList:A}},Mr=function(e){var t=e.value,r=e.onLoadingCompleted,i=e.itemStyle,l=(0,p.useRef)(null);return(0,p.useLayoutEffect)(function(){var c;r==null||r(((c=l.current)===null||c===void 0?void 0:c.offsetWidth)||0)},[]),(0,n.jsx)("span",{style:i,ref:l,children:t})},Sr=function(e){var t=e.data,r=t===void 0?[]:t,i=e.gap,l=i===void 0?10:i,c=e.itemStyle,a=c===void 0?{}:c,s=e.rows,v=s===void 0?1:s,f=e.moreRender,d=f===void 0?!0:f,m=e.moreText,D=m===void 0?"\u66F4\u591A":m,A=e.onLoadingCompleted,N=(0,p.useRef)(null),L=(0,p.useRef)(null),b=(0,p.useState)(!0),S=fe()(b,2),F=S[0],P=S[1],T=Cr({rows:v,gap:l}),y=T.formatted,R=T.widthBackfilling,j=T.setContainerWidth,U=T.setMoreWidth,W=T.setDataList;return(0,p.useLayoutEffect)(function(){var E,z;j(((E=N.current)===null||E===void 0?void 0:E.offsetWidth)||0),U(((z=L.current)===null||z===void 0?void 0:z.offsetWidth)||0)},[]),(0,p.useEffect)(function(){W(r)},[r]),(0,p.useEffect)(function(){A==null||A({isMore:r.length!==y.length}),P(r.length!==y.length)},[r,y]),(0,n.jsxs)("div",{className:Fe()("flex flex-auto flex-wrap",jr["qk-custom-tags"]),ref:N,style:{gap:l+"px"},children:[y.map(function(E,z){return E.render&&(0,n.jsx)(Mr,{value:E.value,itemStyle:a,onLoadingCompleted:function(G){R(z,G)}},E.key)}),(0,n.jsx)("div",{ref:L,children:function(){if(typeof d=="function"&&F)return d((y==null?void 0:y.length)||0);if(d&&F)return(0,n.jsx)("div",{children:D})}()})]})},Nr=Sr,Lr=O(84157),br=function(e){return(0,n.jsx)(Lr.a,x()({},e))},Ir=br,Er=O(5599),dn=O.n(Er),kr=function(e){var t={},r=dn()(e),i;try{for(r.s();!(i=r.n()).done;){var l,c,a=i.value;a.start=(l=a.start)===null||l===void 0?void 0:l.replace(/\//g,"-"),a.end=(c=a.end)===null||c===void 0?void 0:c.replace(/\//g,"-"),t[a.id]?t[a.id].push(a):t[a.id]=[a]}}catch(s){r.e(s)}finally{r.f()}return t},un=function(e){var t,r,i=e.containerWidth,l=i===void 0?0:i,c=e.fabricText;if((t=l>(c==null?void 0:c.width))!==null&&t!==void 0&&t)return c==null?void 0:c.text;for(var a=(c==null?void 0:c.width)/(c==null||(r=c.text)===null||r===void 0?void 0:r.length),s=0,v="";v.length*a<l-50;)v+=c.text.substr(s,1),s++;return v+"..."},Dr=function(e){var t=new Date(Math.min.apply(Math,Re()(e.map(function(i){return new Date(i.start).getTime()})))),r=new Date(Math.max.apply(Math,Re()(e.map(function(i){return new Date(i.end).getTime()}))));return{minDate:new Date(t),maxDate:new Date(r)}},Nt=function(e,t){for(var r=[],i=new Date(e),l=new Date(t);i<=l;)r.push(i.toISOString().slice(0,10)),i.setDate(i.getDate()+1);return r},vn=function(e,t){if(!t)return{left:0,top:0};var r=Math.ceil(e.left+e.width/2-t.offsetWidth/2),i=Math.ceil(e.top-t.offsetHeight-10);return{left:r,top:i}};function fn(o,e){var t=x()({},o);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r],l=t[r];Je()(i)!=="object"?t[r]=i:(Je()(l)!=="object"&&(t[r]=x()({},l)),t[r]=fn(l,i))}return t}var Tr=function(e){var t,r,i,l,c,a,s,v,f=e.options,d=f===void 0?{}:f,m=e.data,D=(0,p.useRef)(null),A=(0,p.useRef)(null),N=(0,p.useRef)(null),L=(0,p.useRef)(null),b=(0,p.useState)({left:0,top:0,text:"",show:!1}),S=fe()(b,2),F=S[0],P=S[1],T=(0,p.useRef)(0),y=kr(m),R={height:28,diyDrawXaxios:!1,margin:{top:50,right:10,bottom:10,left:10},transparent:"transparent",xAxios:{labelWidth:120,width:80,show:!0},strip:{height:28,margin:20},yAxios:{nameTextStyle:{color:"#000",fontSize:12,underline:!1},showToolTip:!0}};d=fn(R,d);var j=0,U=(t=(r=d)===null||r===void 0||(r=r.strip)===null||r===void 0?void 0:r.height)!==null&&t!==void 0?t:28,W=(i=(l=d)===null||l===void 0||(l=l.strip)===null||l===void 0?void 0:l.margin)!==null&&i!==void 0?i:28,E=(c=(a=d)===null||a===void 0||(a=a.xAxios)===null||a===void 0?void 0:a.width)!==null&&c!==void 0?c:80,z=(s=(v=d)===null||v===void 0||(v=v.yAxios)===null||v===void 0?void 0:v.width)!==null&&s!==void 0?s:120,Q=0,G=0,V=0,Z=0;if(typeof d.margin=="number")Q=d.margin,G=d.margin,V=d.margin,Z=d.margin;else if(Je()(d.margin)==="object"){var J,H,re,ce,ne,ae,ee,X;Q=(J=(H=d)===null||H===void 0||(H=H.margin)===null||H===void 0?void 0:H.left)!==null&&J!==void 0?J:0,G=(re=(ce=d.margin)===null||ce===void 0?void 0:ce.top)!==null&&re!==void 0?re:0,V=(ne=(ae=d)===null||ae===void 0||(ae=ae.margin)===null||ae===void 0?void 0:ae.right)!==null&&ne!==void 0?ne:0,Z=(ee=(X=d.margin)===null||X===void 0?void 0:X.bottom)!==null&&ee!==void 0?ee:0}var _=Object.keys(y).length;j||(j=G+Z+_*U+_*W+W);var se=function(g,h){h.show?P(function(M){return x()(x()({},M),h)}):(T.current&&clearTimeout(T.current),T.current=setTimeout(function(){P(function(M){return x()(x()({},M),{},{show:!1})})},1e3))},Se=function(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#979797";return new ve.fabric.Line(g,{stroke:h,strokeWidth:1,opacity:.2,selectable:!1,hoverCursor:"normal",strokeDashArray:[5,5]})},k=function(g){return new ve.fabric.Line(g,{stroke:"#D7D7D7",strokeWidth:1,selectable:!1,hoverCursor:"normal"})},B=function(g){var h=g.text,M=new ve.fabric.Rect({left:0,top:0,width:100,height:30,fill:"rgba(0,0,0,0.8)",stroke:"rgba(0,0,0,0.8)",selectable:!1,hoverCursor:"normal",rx:4,ry:4}),I=new ve.fabric.Text(h,{left:0,top:0,fontSize:12,fontFamily:"Arial",selectable:!1,hoverCursor:"normal",fill:"#fff"});I.set({left:M.width/2-I.width/2,top:M.height/2-I.height/2});var $=new ve.fabric.Group([]);return $.addWithUpdate(M),$.addWithUpdate(I),$},Y=function(g,h,M){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#666666",$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"normal",K=arguments.length>6&&arguments[6]!==void 0?arguments[6]:12;return new ve.fabric.Text(g,{left:h,top:M,fontSize:K,fontFamily:"Arial",selectable:!1,hoverCursor:q,fill:I,underline:$})},C=function(g){var h,M=g.canvas,I=g.width,$=I===void 0?0:I;{var q=Q+z,K=G,de=$-V,oe=K;M.add(k([q,K,de,oe]))}{var ie=$-Q-V-1,le=j-G-Z-1,te=G+1,ue=Q,pe=new ve.fabric.Rect({left:ue,top:te,width:ie,height:le,fill:"#F9F9F9",stroke:"#F9F9F9",selectable:!1,hoverCursor:"normal"});M.add(pe)}for(var je=Dr(m),ye=je.minDate,Ae=je.maxDate,Ce=Nt(ye,Ae),Me=Math.floor(($-Q-V-z)/E),Ie=Math.ceil(Ce.length/Me),Ee=[],qe=0;qe<Ce.length;qe++){var he=Ce[qe];qe%Ie===0&&Ee.push(he)}for(var et=E/Ie,We=0;We<Ee.length;We++){var Le;if((Le=d)!==null&&Le!==void 0&&(Le=Le.xAxios)!==null&&Le!==void 0&&Le.show){var tt=Q+z+We*E,Ve=G,Ge=tt,Ue=j-Z;M.add(Se([tt,Ve,Ge,Ue]));var pt=String(Ee[We]).replace(/-/g,"/"),nt=Q+z+We*E,ke=G,De=Y(pt,nt,ke);M.add(De),De.set({left:Math.floor(nt-De.width/2),top:Ve-Math.floor(De.height+10)})}}if((h=d)!==null&&h!==void 0&&h.diyDrawXaxios)for(var Xe={left:0,width:0},xe=0;xe<Ce.length;xe++){var Ze=Ce[xe];if(new Date(Ze).getDate()===1||xe===0||xe===Ce.length-1){var rt=Math.ceil(Q+z+(Nt(new Date(ye),new Date(Ze)).length-1)*et),be=G,at=rt,Rt=j-Z,dt=Se([rt,be,at,Rt]);M.add(dt);var gt=xe===0||xe===Ce.length-1?String(Ze.replace(/-/g,"/")):String(Ze).substring(0,7).replace(/-/g,"/"),ut=rt,$t=G,_e=Y(gt,ut,$t);M.add(_e);var ot=Math.floor(ut-_e.width/2);_e.set({left:ot,top:be-Math.floor(_e.height+10)}),Xe.left+Xe.width>ut-_e.width/2&&xe!==0&&(_e.set("visible",!1),dt.set("visible",!1)),Xe={left:ot,width:_e.width}}}Object.keys(y).forEach(function(lt,yt){var Ye,He,xt=Q,vt=G+W+(W+U)*yt,it=z,Qt=U,At=new ve.fabric.Rect({left:xt,top:vt,width:it,height:Qt,fill:"transparent",stroke:"transparent",selectable:!1,hoverCursor:"normal"});M.add(At);var ft=String(y[lt][0].name),wt=xt,jt=vt,Ke=Y(ft,wt,jt,(Ye=d)===null||Ye===void 0||(Ye=Ye.yAxios)===null||Ye===void 0||(Ye=Ye.nameTextStyle)===null||Ye===void 0?void 0:Ye.color,(He=d)===null||He===void 0||(He=He.yAxios)===null||He===void 0||(He=He.nameTextStyle)===null||He===void 0?void 0:He.underline,"pointer",15);Ke.on("mousedown",function(Qe){var me;if(typeof((me=d)===null||me===void 0||(me=me.yAxios)===null||me===void 0?void 0:me.onClick)=="function"){var we;(we=d)===null||we===void 0||(we=we.yAxios)===null||we===void 0||we.onClick(y[lt])}}),Ke.set({text:un({containerWidth:it,fabricText:Ke})}),Ke.on("mouseover",function(Qe){var me,we,Oe=Qe.target;if(typeof((me=d)===null||me===void 0||(me=me.yAxios)===null||me===void 0?void 0:me.onMouseout)=="function"){var Pe;(Pe=d)===null||Pe===void 0||(Pe=Pe.yAxios)===null||Pe===void 0||Pe.onMouseout(Oe)}if((we=d)!==null&&we!==void 0&&(we=we.yAxios)!==null&&we!==void 0&&we.showToolTip){var Ot=vn(Oe,N==null?void 0:N.current),qt=Ot.left,Pt=Ot.top;se("mouseover",x()(x()({},F),{},{text:ft,left:qt,top:Pt,show:!0}))}}),Ke.on("mouseout",function(Qe){var me,we=Qe.target;if(typeof((me=d)===null||me===void 0||(me=me.yAxios)===null||me===void 0?void 0:me.onMouseout)=="function"){var Oe;(Oe=d)===null||Oe===void 0||(Oe=Oe.yAxios)===null||Oe===void 0||Oe.onMouseout(we)}se("mouseout",{show:!1})}),M.add(Ke),Ke.set({left:xt,top:Math.floor(vt+(Qt-Ke.height)/2)});for(var ct=function(){var me=y[lt][Ct],we=Math.ceil(Q+z+(Nt(new Date(ye),new Date(me.start)).length-1)*et),Oe=vt,Pe=et*(Nt(new Date(me.start),new Date(me.end)).length-1),Ot=U,qt=new ve.fabric.Rect({left:we,top:Oe,width:Pe,height:Ot,fill:me.background,stroke:me.background,selectable:!1,hoverCursor:"normal"}),Pt="".concat(String(me.start).replace(/-/g,"/")," - ").concat(String(me.end).replace(/-/g,"/")),On=we,Ai=Oe,st=Y(Pt,On,Ai,"#fff");st.width>Pe&&st.set({text:un({containerWidth:Pe,fabricText:st})}),st.set({left:Math.floor(On+((Pe!=null?Pe:0)-st.width)/2),top:Math.floor(Oe+(U-st.height)/2)});var Mt=new ve.fabric.Group([],{selectable:!1,hoverCursor:"pointer"});Mt.addWithUpdate(qt),Mt.addWithUpdate(st),M.add(Mt),M.renderAll(),Mt.on("mouseover",function(Vt){var Be,Bt=Vt.target;if(typeof((Be=d)===null||Be===void 0||(Be=Be.strip)===null||Be===void 0?void 0:Be.onMouseover)=="function"){var ze;(ze=d)===null||ze===void 0||(ze=ze.strip)===null||ze===void 0||ze.onMouseover(Bt)}var Pn=vn(Bt,N==null?void 0:N.current),wi=Pn.left,ji=Pn.top;se("mouseover",{text:Pt,left:wi,top:ji,show:!0})}),Mt.on("mouseout",function(Vt){var Be,Bt=Vt.target;if(typeof((Be=d)===null||Be===void 0||(Be=Be.strip)===null||Be===void 0?void 0:Be.onMouseout)=="function"){var ze;(ze=d)===null||ze===void 0||(ze=ze.strip)===null||ze===void 0||ze.onMouseout(Bt)}se("mouseout",{show:!1})})},Ct=0;Ct<y[lt].length;Ct++)ct()})},w=zt().debounce(function(){var u=document.getElementById("canvas-container"),g=u==null?void 0:u.clientWidth,h=u==null?void 0:u.clientHeight;L.current.setWidth(g),L.current.setHeight(h),L.current.clear(),C({canvas:L.current,width:g})},500);return(0,p.useLayoutEffect)(function(){var u,g,h=(u=(g=A.current)===null||g===void 0?void 0:g.offsetWidth)!==null&&u!==void 0?u:0,M={selection:!1,width:h,height:j,backgroundColor:d.background};L.current=new ve.fabric.Canvas(D.current,M)},[]),(0,p.useLayoutEffect)(function(){return w(),window.addEventListener("resize",w),function(){window.removeEventListener("resize",w)}},[JSON.stringify(m)]),(0,n.jsxs)("div",{className:"canvas-container",id:"canvas-container",style:{height:"100%"},ref:A,children:[(0,n.jsx)("div",{ref:N,style:{left:F.left,top:F.top},className:"canvas-tooltip ".concat(F.show?"canvas-tooltip--show":"canvas-tooltip--hide"),children:F.text}),(0,n.jsx)("canvas",{ref:D,id:"canvas"})]})},Rr=Tr,Qr={footer:"fSztNXfks0QwRi39e6r_"},Or=function(e){var t=e.children,r=e.className,i=e.zIndex,l=i===void 0?"9":i,c=e.show,a=c===void 0?!0:c,s=(0,p.useRef)(null),v=(0,p.useState)(60),f=fe()(v,2),d=f[0],m=f[1];return(0,p.useLayoutEffect)(function(){var D,A;m((D=(A=s.current)===null||A===void 0?void 0:A.offsetHeight)!==null&&D!==void 0?D:60)},[]),(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsx)("div",{style:{height:d+"px"}}),(0,n.jsx)("div",{style:{zIndex:l},ref:s,className:Fe()("fixed",r,Qr.footer),children:t})]})},hn=Or,Pr=O(4510),mn=O.n(Pr),Ni=O(66795),Br=O(76691),zr=O(37240),pn=O(17165),gn=O(14822),Lt=[{citycode:[],adcode:"440000",name_cn:"\u5E7F\u4E1C",name_en:"Guangdong",center:"113.280637,23.125178",level:"province",districts:[]},{citycode:[],adcode:"410000",name_cn:"\u6CB3\u5357",name_en:"Henan",center:"113.665412,34.757975",level:"province",districts:[]},{citycode:[],adcode:"150000",name_cn:"\u5185\u8499\u53E4",name_en:"Inner Mongolia",center:"111.670801,40.818311",level:"province",districts:[],position:"top"},{citycode:[],adcode:"230000",name_cn:"\u9ED1\u9F99\u6C5F",name_en:"Heilongjiang",center:"126.642464,45.756967",level:"province",districts:[],position:"top"},{citycode:[],adcode:"650000",name_cn:"\u65B0\u7586",name_en:"Xinjiang",center:"87.617733,43.792818",level:"province",districts:[]},{citycode:[],adcode:"420000",name_cn:"\u6E56\u5317",name_en:"Hubei",center:"114.298572,30.584355",level:"province",districts:[]},{citycode:[],adcode:"210000",name_cn:"\u8FBD\u5B81",name_en:"Liaoning",center:"123.429096,41.796767",level:"province",districts:[]},{citycode:[],adcode:"370000",name_cn:"\u5C71\u4E1C",name_en:"Shandong",center:"117.000923,36.675807",level:"province",districts:[]},{citycode:[],adcode:"610000",name_cn:"\u9655\u897F",name_en:"Shaanxi",center:"108.948024,34.263161",level:"province",districts:[]},{citycode:"021",adcode:"310000",name_cn:"\u4E0A\u6D77",name_en:"Shanghai",center:"121.472644,31.231706",level:"province",districts:[],position:"right"},{citycode:[],adcode:"520000",name_cn:"\u8D35\u5DDE",name_en:"Guizhou",center:"106.713478,26.578343",level:"province",districts:[]},{citycode:"023",adcode:"500000",name_cn:"\u91CD\u5E86",name_en:"Chongqing",center:"106.504962,29.533155",level:"province",districts:[],position:"right"},{citycode:[],adcode:"540000",name_cn:"\u897F\u85CF",name_en:"Tibet",center:"91.132212,29.660361",level:"province",districts:[]},{citycode:[],adcode:"340000",name_cn:"\u5B89\u5FBD",name_en:"Anhui",center:"117.283042,31.86119",level:"province",districts:[],position:"top"},{citycode:[],adcode:"350000",name_cn:"\u798F\u5EFA",name_en:"Fujian",center:"119.306239,26.075302",level:"province",districts:[]},{citycode:[],adcode:"430000",name_cn:"\u6E56\u5357",name_en:"Hunan",center:"112.982279,28.19409",level:"province",districts:[],position:"left"},{citycode:[],adcode:"460000",name_cn:"\u6D77\u5357",name_en:"Hainan",center:"110.33119,20.031971",level:"province",districts:[]},{citycode:[],adcode:"320000",name_cn:"\u6C5F\u82CF",name_en:"Jiangsu",center:"118.767413,32.041544",level:"province",districts:[],position:"right"},{citycode:[],adcode:"630000",name_cn:"\u9752\u6D77",name_en:"Qinghai",center:"101.778916,36.623178",level:"province",districts:[],position:"left"},{citycode:[],adcode:"450000",name_cn:"\u5E7F\u897F",name_en:"Guangxi",center:"108.320004,22.82402",level:"province",districts:[]},{citycode:[],adcode:"640000",name_cn:"\u5B81\u590F",name_en:"Ningxia",center:"106.278179,38.46637",level:"province",districts:[],position:"bottom"},{citycode:[],adcode:"360000",name_cn:"\u6C5F\u897F",name_en:"Jiangxi",center:"115.892151,28.676493",level:"province",districts:[]},{citycode:[],adcode:"330000",name_cn:"\u6D59\u6C5F",name_en:"Zhejiang",center:"120.153576,30.287459",level:"province",districts:[],position:"bottom"},{citycode:[],adcode:"130000",name_cn:"\u6CB3\u5317",name_en:"Hebei",center:"114.502461,38.045474",level:"province",districts:[],position:"right"},{citycode:"1853",adcode:"820000",name_cn:"\u6FB3\u95E8",name_en:"Macau",center:"113.54909,22.198951",level:"province",districts:[],position:"bottom"},{citycode:"1886",adcode:"710000",name_cn:"\u53F0\u6E7E",name_en:"Taiwan",center:"121.509062,25.044332",level:"province",districts:[],position:"bottom"},{citycode:"1852",adcode:"810000",name_cn:"\u9999\u6E2F",name_en:"Hong Kong",center:"114.173355,22.320048",level:"province",districts:[],position:"right"},{citycode:[],adcode:"620000",name_cn:"\u7518\u8083",name_en:"Gansu",center:"103.823557,36.058039",level:"province",districts:[]},{citycode:[],adcode:"510000",name_cn:"\u56DB\u5DDD",name_en:"Sichuan",center:"104.065735,30.659462",level:"province",districts:[]},{citycode:[],adcode:"220000",name_cn:"\u5409\u6797",name_en:"Jilin",center:"125.3245,43.886841",level:"province",districts:[]},{citycode:"022",adcode:"120000",name_cn:"\u5929\u6D25",name_en:"Tianjin",center:"117.190182,39.125596",level:"province",districts:[]},{citycode:[],adcode:"530000",name_cn:"\u4E91\u5357",name_en:"Yunnan",center:"102.712251,25.040609",level:"province",districts:[]},{citycode:"010",adcode:"110000",name_cn:"\u5317\u4EAC",name_en:"Beijing",center:"116.405285,39.904989",level:"province",districts:[],position:"top"},{citycode:[],adcode:"140000",name_cn:"\u5C71\u897F",name_en:"Shanxi",center:"112.549248,37.857014",level:"province",districts:[]}],Fr=O(26869),bt=function(e){return Object.prototype.toString.call(e)==="[object Object]"},Wr=function(e){var t=e.data,r=e.render,i=e.options;if(typeof r=="function")return r(t);var l=i!=null?i:{},c=l.columns,a=c===void 0?[]:c,s=l.more,v=s===void 0?{}:s,f=v.text,d=f===void 0?"\u8BE6\u60C5":f;return(0,n.jsxs)("div",{className:"tip-info-panel",children:[(0,n.jsxs)("div",{className:"panel-header flex",children:[(0,n.jsx)("h2",{className:"flex-1",children:t.title}),(0,n.jsx)("a",{className:"btn-more",href:t.url,target:"_blank",rel:"noreferrer",children:d})]}),(0,n.jsx)("div",{className:"panel-body",children:(0,n.jsx)("ul",{children:a.map(function(m){return(0,n.jsx)(p.Fragment,{children:(0,n.jsxs)("li",{className:"flex",children:[(0,n.jsx)("span",{className:"text-label",children:m.title}),(0,n.jsxs)("span",{className:"text-value",children:[t[m.dataIndex]," ",m==null?void 0:m.unit]})]})},m.dataIndex)})})})]})},Hr=function(e,t){var r=e.AMapOptions,i=r===void 0?{}:r,l=e.options,c=l===void 0?{}:l,a=e.strokeOptions,s=e.tileLayerOptions,v=e.districtLayerOptions,f=e.completed,d=e.className,m=d===void 0?"":d,D=e.style,A=D===void 0?{}:D,N=e.infoWindow,L=N===void 0?null:N,b=e.mapZoomShortcut,S=b===void 0?"mousewheel":b,F=e.autoLocateScaleLevels,P=F===void 0?!1:F,T=e.isAddProvinceNamesLayer,y=T===void 0?!0:T,R=e.language,j=R===void 0?"cn":R,U=(0,p.useRef)(null),W=(0,p.useRef)({AMap:null,map:null,chart:null}),E=(0,p.useRef)({province:[],china:[],loadLayer:""}),z=(0,p.useState)(!1),Q=fe()(z,2),G=Q[0],V=Q[1],Z=x()({endPoints:[],color:{start:"#F7A61B",end:"#01FE7D"},symbolSize:10,effectSymbol:"image://data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjVweCIgaGVpZ2h0PSIyNXB4IiB2aWV3Qm94PSIwIDAgMjUgMjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+57yW57uEIDEzNDwvdGl0bGU+CiAgICA8ZyBpZD0i6aG16Z2iLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLnvJbnu4QtMTM0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjIzNzAwMCwgMC40OTg5ODcpIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbD0iI0Q4RDhEOCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48L3JlY3Q+CiAgICAgICAgICAgIDxwb2x5Z29uIGlkPSLot6/lvoQtNTblpIfku70tOCIgZmlsbD0iIzAxRkU3RCIgcG9pbnRzPSIxMi4zOTU5ODAzIDQgNyAxOS44MjYyMjI5IDExLjkzNzYxNDUgMTYuNDk1NzU5OCAxNy4zNDIyOTU1IDE5LjgyNjIyMjkiPjwvcG9seWdvbj4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},e.drawConnectLinesOptions),J={cn:{mapZoomTips:"\u6309Ctrl + \u6EDA\u8F6E\u53EF\u7F29\u653E\u5730\u56FE"},en:{mapZoomTips:"Press Ctrl + scroll wheel to zoom the map"}},H=[].concat(Re()(e.dataSource||[]),Re()(((Z==null?void 0:Z.endPoints)||[]).filter(function(Y){return Y.lngLat}))),re=(0,p.useRef)(null),ce=function(){var C=W.current,w=C.AMap,u=C.map;if(!(!w||!u)){for(var g=[],h=0;h<Lt.length;h++){var M={zIndex:1,opacity:1,text:{content:"",direction:"center",offset:[0,0],zooms:[3,5],style:{fontSize:13,fontWeight:"normal",fillColor:"#000",strokeColor:"#fff",strokeWidth:2}}},I=Lt[h],$=I[j==="en"?"name_en":"name_cn"];M.text.content=$,M.position=I.center.split(","),Lt[h].position&&(M.text.direction=Lt[h].position);var q=new w.LabelMarker(M);g.push(q)}var K=new w.LabelsLayer({zooms:[3,20],zIndex:99,collision:!0,allowCollision:!0,passMouse:!0});K.add(g),K.setMap(u)}},ne=function(){var Y=$e()(Ne()().mark(function C(w){var u,g,h,M,I=arguments;return Ne()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(u=I.length>1&&I[1]!==void 0?I[1]:!1,g=W.current,h=g.AMap,M=g.map,!(!h||!M||!w)){q.next=4;break}return q.abrupt("return",{polygon:null,district:null,auxPolygons:null});case 4:return q.next=6,new Promise(function(K,de){var oe=new h.DistrictSearch({level:"province",extensions:"all",subdistrict:0,showbiz:!1});oe.search(w,function(ie,le){if(le.info==="OK"){var te,ue,pe,je=[new h.LngLat(-360,90,!0),new h.LngLat(-360,-90,!0),new h.LngLat(360,-90,!0),new h.LngLat(360,90,!0)],ye=le.districtList[0].boundaries||[],Ae=[je].concat(Re()(ye)),Ce=new h.Polygon(x()({pathL:Ae,strokeColor:"#1CBAA7",strokeWeight:(te=a==null?void 0:a.strokeWeight)!==null&&te!==void 0?te:1,fillColor:(ue=a==null?void 0:a.fillColor)!==null&&ue!==void 0?ue:"#000",fillOpacity:(pe=a==null?void 0:a.fillOpacity)!==null&&pe!==void 0?pe:.8},a));Ce.setPath(Ae);var Me=[];if(u)for(var Ie=0;Ie<ye.length;Ie++){var Ee=new h.Polygon({pathL:ye[Ie],strokeColor:"transparent",strokeWeight:0,fillOpacity:0});Ee.setPath(ye[Ie]),Me.push(Ee)}K({polygon:Ce,auxPolygons:Me,district:le.districtList[0]})}})});case 6:return q.abrupt("return",q.sent);case 7:case"end":return q.stop()}},C)}));return function(w){return Y.apply(this,arguments)}}(),ae=function(){var C,w=W.current,u=w.AMap,g=w.map;!u||!g||(S==="ctrl+mousewheel"&&setTimeout(function(){!E.current.china.length&&ne("\u4E2D\u56FD").then(function(h){E.current.china=h.polygon}).catch(function(h){console.log(h)})}),!E.current.province.length&&ne((C=a==null?void 0:a.name)!==null&&C!==void 0?C:"\u4E2D\u56FD",!0).then(function(h){E.current.province=h.polygon,g.add(h.polygon),P&&Se({polygon:h.auxPolygons})}).catch(function(h){console.log(h)}))},ee=function(C){var w=W.current,u=w.AMap,g=w.map;if(!(!u||!g)){var h=x()({zIndex:10,SOC:"CHN",depth:1,styles:{"province-stroke-width":0,"city-stroke-width":0,"nation-stroke":"rgba(0,0,0,0)","coastline-stroke":"rgba(0,0,0,0)","province-stroke":"rgba(0,0,0,0)",fill:"rgba(0,0,0,0)"}},C||{}),M=new u.DistrictLayer.Country(h);M.setMap(g)}},X=function(){var C=W.current,w=C.AMap,u=C.map;!w||!u||u.add(new w.TileLayer.Satellite({opacity:1,detectRetina:!0}))},_=function(){var C=W.current,w=C.AMap,u=C.map;if(!(!w||!u)){for(var g={color:"red",animation:"DIFFUSION",size:8},h=[],M=Re()(H),I=function(K){var de,oe=x()(x()({},g),M[K]),ie=(de=W.current)===null||de===void 0?void 0:de.AMap,le=new ie.Marker({position:oe.lngLat,content:'<div style="--color:'.concat(oe.color,";--animation:").concat(oe.animation,";--size:").concat(oe.size,'px" class="icon-marker"></div>'),extData:{id:oe.id},anchor:"center",offset:new ie.Pixel(0,0),zIndex:999});if(M[K].address){var te,ue,pe=new ie.InfoWindow({content:(te=M[K])===null||te===void 0?void 0:te.address,offset:new ie.Pixel(0,-15),autoMove:!0});!((ue=M[K])===null||ue===void 0)&&ue.address&&pe.open(u,le.getPosition())}le.on("click",$e()(Ne()().mark(function je(){var ye,Ae,Ce,Me,Ie,Ee;return Ne()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(typeof((ye=M[K])===null||ye===void 0?void 0:ye.onClick)=="function"&&((Ae=(Ce=M[K]).onClick)===null||Ae===void 0||Ae.call(Ce,M[K])),!(bt(L)&&M[K].hasInfoWindow!==!1)){he.next=10;break}if(!((Me=M[K])!==null&&Me!==void 0&&Me.request)){he.next=6;break}return he.next=5,(Ie=M[K])===null||Ie===void 0?void 0:Ie.request(oe);case 5:oe.result=he.sent;case 6:Ee=new ie.InfoWindow({isCustom:!0,content:gn.renderToStaticMarkup((0,n.jsx)(Wr,{data:oe,render:L==null?void 0:L.render,options:L==null?void 0:L.options})),offset:new ie.Pixel(0,-15),autoMove:!0,closeWhenClickMap:!0}),ie.closeInfoWindow=function(){Ee.close()},Ee.open(u,le.getPosition()),Ee.on("close",function(){ie.closeInfoWindow=void 0});case 10:case"end":return he.stop()}},je)}))),h.push(le)},$=0;$<M.length;$++)I($);u.add(h)}},se=function(){var C=W.current,w=C.AMap,u=C.map;!w||!u||(document.addEventListener("keydown",function(g){g.stopPropagation(),W.current.map.setStatus({scrollWheel:!0}),g.keyCode===17&&V(!0)}),document.addEventListener("keyup",function(g){g.stopPropagation(),W.current.map.setStatus({scrollWheel:!1}),g.keyCode===17&&V(!1)}))},Se=function(C){var w=C.polygon,u=W.current,g=u.AMap,h=u.map;!g||!h||((a==null?void 0:a.name)!=="\u4E2D\u56FD"?(E.current.loadLayer="province",w&&(h.add(w),h.setFitView(w))):E.current.loadLayer="china",setTimeout(function(){var M=h.getZoom();h.on("zoomchange",function(){var I=h.getZoom();I<M?E.current.loadLayer!=="china"&&(E.current.loadLayer="china",h==null||h.remove(E.current.province),h==null||h.add(E.current.china)):E.current.loadLayer!=="province"&&(E.current.loadLayer="province",h==null||h.remove(E.current.china),h==null||h.add(E.current.province))})},5e3))},k=function(C){var w,u,g=[];C.forEach(function(te){var ue=te.from||[];ue.forEach(function(pe){g.push({coords:[pe,te.lngLat]})})});var h=W.current,M=h.AMap,I=h.map,$=h.chart;if(!(!M||!I||!$)){var q=H.reduce(function(te,ue){var pe=ue.color;return te[pe]||(te[pe]=[]),te[pe].push(ue),te},{}),K=[];for(var de in q){var oe=q[de],ie={type:"scatter",coordinateSystem:"amap",symbolSize:15,itemStyle:{normal:{color:de}},data:oe.map(function(te){return{value:te.lngLat}})};K.push(ie)}var le=[{type:"lines",coordinateSystem:"amap",effect:{show:!0,period:6,trailLength:0,symbol:Z.effectSymbol,symbolSize:Z.symbolSize,color:"#01FE7D"},lineStyle:{normal:{width:1,opacity:.8,curveness:.2,color:new Br.Z(0,0,1,0,[{offset:0,color:(Z==null||(w=Z.color)===null||w===void 0?void 0:w.start)||""},{offset:1,color:(Z==null||(u=Z.color)===null||u===void 0?void 0:u.end)||""}])}},data:g}].concat(K);console.log({series:le}),W.current.chart.setOption({series:le})}};(0,p.useImperativeHandle)(t,function(){return{loadMap:B,gdMap:W.current}});var B=function(){var Y=$e()(Ne()().mark(function C(){return Ne()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,new Promise(function(g,h){var M;if((M=W.current)!==null&&M!==void 0&&M.map){var I;(I=W.current)===null||I===void 0||(I=I.map)===null||I===void 0||I.destroy()}mn().load(x()({key:"475c97e5ba9c55b5bbf684b116fe3c6e",version:"1.4.15",plugins:[]},c)).then(function(){var $=$e()(Ne()().mark(function q(K){var de,oe,ie,le,te,ue;return Ne()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(window.AMap=K,re.current){je.next=3;break}return je.abrupt("return");case 3:if(W.current.chart&&W.current.chart.dispose(),de=zr.S1(re.current),oe={amap:x()({lang:j,zoom:4,zooms:[2,10],center:[117.552366,41.997914],resizeEnable:!0,scrollWheel:!1},i),series:[]},de.setOption(oe),ie=de.getModel().getComponent("amap"),ie.setEChartsLayerInteractive(!1),le=ie.getAMap(),W.current={map:le,AMap:K,chart:de},y&&ce(),te=[bt(a)&&"AMap.DistrictSearch",bt(s)&&"AMap.TileLayer",bt(v)&&"AMap.DistrictLayer"].filter(Boolean),K.plugin(te,function(){te.includes("AMap.DistrictSearch")&&ae(),te.includes("AMap.DistrictLayer")&&ee(v),te.includes("AMap.TileLayer")&&X()}),S==="ctrl+mousewheel"&&se(),typeof f!="function"){je.next=21;break}return ue=new K.LabelsLayer({collision:!1,animation:!0}),le.add(ue),je.next=20,new Promise(function(ye){return setTimeout(ye,1500)});case 20:f(W.current);case 21:g(le);case 22:case"end":return je.stop()}},q)}));return function(q){return $.apply(this,arguments)}}())});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},C)}));return function(){return Y.apply(this,arguments)}}();return(0,p.useEffect)(function(){B().then(function(){H!=null&&H.length&&(_(),k(Z.endPoints))})},[]),(0,pn.Z)(function(){H!=null&&H.length&&(_(),k(Z.endPoints))},[JSON.stringify(H)]),(0,p.useLayoutEffect)(function(){document.body.focus()},[]),(0,n.jsxs)("div",{ref:U,className:Fr({"qk-pointer-events-none":G},"qk-gao-de-map h-full w-full",m),style:A,children:[S==="ctrl+mousewheel"&&(0,n.jsx)("div",{className:"map-zoom-shortcut-tip shortcut-tip--simple",children:J[j].mapZoomTips}),(0,n.jsx)("div",{ref:re,className:"h-full w-full absolute"})]})},Zr=(0,p.forwardRef)(Hr),It=[{citycode:[],adcode:"440000",name_cn:"\u5E7F\u4E1C",name_en:"Guangdong",center:"113.280637,23.125178",level:"province",districts:[]},{citycode:[],adcode:"410000",name_cn:"\u6CB3\u5357",name_en:"Henan",center:"113.665412,34.757975",level:"province",districts:[]},{citycode:[],adcode:"150000",name_cn:"\u5185\u8499\u53E4",name_en:"Inner Mongolia",center:"111.670801,40.818311",level:"province",districts:[],position:"top"},{citycode:[],adcode:"230000",name_cn:"\u9ED1\u9F99\u6C5F",name_en:"Heilongjiang",center:"126.642464,45.756967",level:"province",districts:[],position:"top"},{citycode:[],adcode:"650000",name_cn:"\u65B0\u7586",name_en:"Xinjiang",center:"87.617733,43.792818",level:"province",districts:[]},{citycode:[],adcode:"420000",name_cn:"\u6E56\u5317",name_en:"Hubei",center:"114.298572,30.584355",level:"province",districts:[]},{citycode:[],adcode:"210000",name_cn:"\u8FBD\u5B81",name_en:"Liaoning",center:"123.429096,41.796767",level:"province",districts:[]},{citycode:[],adcode:"370000",name_cn:"\u5C71\u4E1C",name_en:"Shandong",center:"117.000923,36.675807",level:"province",districts:[]},{citycode:[],adcode:"610000",name_cn:"\u9655\u897F",name_en:"Shaanxi",center:"108.948024,34.263161",level:"province",districts:[]},{citycode:"021",adcode:"310000",name_cn:"\u4E0A\u6D77",name_en:"Shanghai",center:"121.472644,31.231706",level:"province",districts:[],position:"right"},{citycode:[],adcode:"520000",name_cn:"\u8D35\u5DDE",name_en:"Guizhou",center:"106.713478,26.578343",level:"province",districts:[]},{citycode:"023",adcode:"500000",name_cn:"\u91CD\u5E86",name_en:"Chongqing",center:"106.504962,29.533155",level:"province",districts:[],position:"right"},{citycode:[],adcode:"540000",name_cn:"\u897F\u85CF",name_en:"Tibet",center:"91.132212,29.660361",level:"province",districts:[]},{citycode:[],adcode:"340000",name_cn:"\u5B89\u5FBD",name_en:"Anhui",center:"117.283042,31.86119",level:"province",districts:[],position:"top"},{citycode:[],adcode:"350000",name_cn:"\u798F\u5EFA",name_en:"Fujian",center:"119.306239,26.075302",level:"province",districts:[]},{citycode:[],adcode:"430000",name_cn:"\u6E56\u5357",name_en:"Hunan",center:"112.982279,28.19409",level:"province",districts:[],position:"left"},{citycode:[],adcode:"460000",name_cn:"\u6D77\u5357",name_en:"Hainan",center:"110.33119,20.031971",level:"province",districts:[]},{citycode:[],adcode:"320000",name_cn:"\u6C5F\u82CF",name_en:"Jiangsu",center:"118.767413,32.041544",level:"province",districts:[],position:"right"},{citycode:[],adcode:"630000",name_cn:"\u9752\u6D77",name_en:"Qinghai",center:"101.778916,36.623178",level:"province",districts:[],position:"left"},{citycode:[],adcode:"450000",name_cn:"\u5E7F\u897F",name_en:"Guangxi",center:"108.320004,22.82402",level:"province",districts:[]},{citycode:[],adcode:"640000",name_cn:"\u5B81\u590F",name_en:"Ningxia",center:"106.278179,38.46637",level:"province",districts:[],position:"bottom"},{citycode:[],adcode:"360000",name_cn:"\u6C5F\u897F",name_en:"Jiangxi",center:"115.892151,28.676493",level:"province",districts:[]},{citycode:[],adcode:"330000",name_cn:"\u6D59\u6C5F",name_en:"Zhejiang",center:"120.153576,30.287459",level:"province",districts:[],position:"bottom"},{citycode:[],adcode:"130000",name_cn:"\u6CB3\u5317",name_en:"Hebei",center:"114.502461,38.045474",level:"province",districts:[],position:"right"},{citycode:"1853",adcode:"820000",name_cn:"\u6FB3\u95E8",name_en:"Macau",center:"113.54909,22.198951",level:"province",districts:[],position:"bottom"},{citycode:"1886",adcode:"710000",name_cn:"\u53F0\u6E7E",name_en:"Taiwan",center:"121.509062,25.044332",level:"province",districts:[],position:"bottom"},{citycode:"1852",adcode:"810000",name_cn:"\u9999\u6E2F",name_en:"Hong Kong",center:"114.173355,22.320048",level:"province",districts:[],position:"right"},{citycode:[],adcode:"620000",name_cn:"\u7518\u8083",name_en:"Gansu",center:"103.823557,36.058039",level:"province",districts:[]},{citycode:[],adcode:"510000",name_cn:"\u56DB\u5DDD",name_en:"Sichuan",center:"104.065735,30.659462",level:"province",districts:[]},{citycode:[],adcode:"220000",name_cn:"\u5409\u6797",name_en:"Jilin",center:"125.3245,43.886841",level:"province",districts:[]},{citycode:"022",adcode:"120000",name_cn:"\u5929\u6D25",name_en:"Tianjin",center:"117.190182,39.125596",level:"province",districts:[]},{citycode:[],adcode:"530000",name_cn:"\u4E91\u5357",name_en:"Yunnan",center:"102.712251,25.040609",level:"province",districts:[]},{citycode:"010",adcode:"110000",name_cn:"\u5317\u4EAC",name_en:"Beijing",center:"116.405285,39.904989",level:"province",districts:[],position:"top"},{citycode:[],adcode:"140000",name_cn:"\u5C71\u897F",name_en:"Shanxi",center:"112.549248,37.857014",level:"province",districts:[]}],Yr=O(26869),Et=function(e){return Object.prototype.toString.call(e)==="[object Object]"},Gr=function(e){var t=e.data,r=e.render,i=e.options;if(typeof r=="function")return r(t);var l=i!=null?i:{},c=l.columns,a=c===void 0?[]:c,s=l.more,v=s===void 0?{}:s,f=v.text,d=f===void 0?"\u8BE6\u60C5":f;return(0,n.jsxs)("div",{className:"tip-info-panel",children:[(0,n.jsxs)("div",{className:"panel-header flex",children:[(0,n.jsx)("h2",{className:"flex-1",children:t.title}),(0,n.jsx)("a",{className:"btn-more",href:t.url,target:"_blank",rel:"noreferrer",children:d})]}),(0,n.jsx)("div",{className:"panel-body",children:(0,n.jsx)("ul",{children:a.map(function(m){return(0,n.jsx)(p.Fragment,{children:(0,n.jsxs)("li",{className:"flex",children:[(0,n.jsx)("span",{className:"text-label",children:m.title}),(0,n.jsxs)("span",{className:"text-value",children:[t[m.dataIndex]," ",m==null?void 0:m.unit]})]})},m.dataIndex)})})})]})},Ur=function(e){var t=e.AMapOptions,r=t===void 0?{}:t,i=e.options,l=i===void 0?{}:i,c=e.dataSource,a=c===void 0?[]:c,s=e.strokeOptions,v=e.tileLayerOptions,f=e.districtLayerOptions,d=e.completed,m=e.className,D=m===void 0?"":m,A=e.style,N=A===void 0?{}:A,L=e.infoWindow,b=L===void 0?null:L,S=e.mapZoomShortcut,F=S===void 0?"mousewheel":S,P=e.autoLocateScaleLevels,T=P===void 0?!1:P,y=e.isAddProvinceNamesLayer,R=y===void 0?!0:y,j=e.language,U=j===void 0?"cn":j,W=(0,p.useRef)(null),E=(0,p.useRef)(null),z=(0,p.useRef)({AMap:null,map:null}),Q=(0,p.useRef)({province:[],china:[],loadLayer:""}),G=(0,p.useState)(!1),V=fe()(G,2),Z=V[0],J=V[1],H={cn:{mapZoomTips:"\u6309Ctrl + \u6EDA\u8F6E\u53EF\u7F29\u653E\u5730\u56FE"},en:{mapZoomTips:"Press Ctrl + scroll wheel to zoom the map"}},re=function(){var B=z.current,Y=B.AMap,C=B.map;if(!(!Y||!C)){for(var w=[],u=0;u<It.length;u++){var g={zIndex:1,opacity:1,text:{content:"",direction:"center",offset:[0,0],zooms:[3,4],style:{fontSize:13,fontWeight:"normal",fillColor:"#000",strokeColor:"#fff",strokeWidth:2}}},h=It[u],M=h[U==="en"?"name_en":"name_cn"];g.text.content=M,g.position=h.center.split(","),It[u].position&&(g.text.direction=It[u].position);var I=new Y.LabelMarker(g);w.push(I)}var $=new Y.LabelsLayer({zooms:[3,20],zIndex:99,collision:!0,allowCollision:!0,passMouse:!0});$.add(w),$.setMap(C)}},ce=function(){var k=$e()(Ne()().mark(function B(Y){var C,w,u,g,h=arguments;return Ne()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(C=h.length>1&&h[1]!==void 0?h[1]:!1,w=z.current,u=w.AMap,g=w.map,!(!u||!g||!Y)){I.next=4;break}return I.abrupt("return",{polygon:null,district:null,auxPolygons:null});case 4:return I.next=6,new Promise(function($,q){var K=new u.DistrictSearch({level:"province",extensions:"all",subdistrict:0,showbiz:!1});K.search(Y,function(de,oe){if(oe.info==="OK"){var ie,le,te,ue=[new u.LngLat(-360,90,!0),new u.LngLat(-360,-90,!0),new u.LngLat(360,-90,!0),new u.LngLat(360,90,!0)],pe=oe.districtList[0].boundaries||[],je=[ue].concat(Re()(pe)),ye=new u.Polygon(x()({pathL:je,strokeColor:"#1CBAA7",strokeWeight:(ie=s==null?void 0:s.strokeWeight)!==null&&ie!==void 0?ie:1,fillColor:(le=s==null?void 0:s.fillColor)!==null&&le!==void 0?le:"#000",fillOpacity:(te=s==null?void 0:s.fillOpacity)!==null&&te!==void 0?te:.8},s));ye.setPath(je);var Ae=[];if(C)for(var Ce=0;Ce<pe.length;Ce++){var Me=new u.Polygon({pathL:pe[Ce],strokeColor:"transparent",strokeWeight:0,fillOpacity:0});Me.setPath(pe[Ce]),Ae.push(Me)}$({polygon:ye,auxPolygons:Ae,district:oe.districtList[0]})}})});case 6:return I.abrupt("return",I.sent);case 7:case"end":return I.stop()}},B)}));return function(Y){return k.apply(this,arguments)}}(),ne=function(){var B,Y=z.current,C=Y.AMap,w=Y.map;!C||!w||(F==="ctrl+mousewheel"&&setTimeout(function(){!Q.current.china.length&&ce("\u4E2D\u56FD").then(function(u){Q.current.china=u.polygon}).catch(function(u){console.log(u)})}),!Q.current.province.length&&ce((B=s==null?void 0:s.name)!==null&&B!==void 0?B:"\u4E2D\u56FD",!0).then(function(u){Q.current.province=u.polygon,w.add(u.polygon),T&&se({polygon:u.auxPolygons})}).catch(function(u){console.log(u)}))},ae=function(){var B=z.current,Y=B.AMap,C=B.map;if(!(!Y||!C)){var w=new Y.DistrictLayer.Country({zIndex:10,SOC:"CHN",depth:1,styles:{"stroke-width":2,"nation-stroke":"#1CBAA7","coastline-stroke":"#1CBAA7","province-stroke":"#1CBAA7",fill:function(g){return"rgba(255,255,255,0)"}}});C==null||C.add(w)}},ee=function(){var B=z.current,Y=B.AMap,C=B.map;!Y||!C||C.add(new Y.TileLayer.Satellite({opacity:1,detectRetina:!0}))},X=function(){var B=z.current,Y=B.AMap,C=B.map;if(!(!Y||!C)){for(var w={color:"red",animation:"DIFFUSION",size:8},u=[],g=Re()(a),h=function($){var q,K=x()(x()({},w),g[$]),de=(q=z.current)===null||q===void 0?void 0:q.AMap,oe=new de.Marker({position:K.lngLat,content:'<div style="--color:'.concat(K.color,";--animation:").concat(K.animation,";--size:").concat(K.size,'px" class="icon-marker"></div>'),extData:{id:K.id},anchor:"center",offset:new de.Pixel(0,0),zIndex:999});if(g[$].address){var ie,le,te=new de.InfoWindow({content:(ie=g[$])===null||ie===void 0?void 0:ie.address,offset:new de.Pixel(0,-10),autoMove:!0});!((le=g[$])===null||le===void 0)&&le.address&&te.open(C,oe.getPosition())}oe.on("click",function(){if(Et(b)&&g[$].hasInfoWindow!==!1){var ue=new de.InfoWindow({isCustom:!0,content:gn.renderToStaticMarkup((0,n.jsx)(Gr,{data:K,render:b==null?void 0:b.render,options:b==null?void 0:b.options})),offset:new de.Pixel(5,-10),autoMove:!0,closeWhenClickMap:!0});ue.open(C,oe.getPosition())}}),u.push(oe)},M=0;M<g.length;M++)h(M);C.add(u)}},_=function(){var B=z.current,Y=B.AMap,C=B.map;!Y||!C||(document.addEventListener("keydown",function(w){w.stopPropagation(),z.current.map.setStatus({scrollWheel:!0}),w.keyCode===17&&J(!0)}),document.addEventListener("keyup",function(w){w.stopPropagation(),z.current.map.setStatus({scrollWheel:!1}),w.keyCode===17&&J(!1)}))},se=function(B){var Y=B.polygon,C=z.current,w=C.AMap,u=C.map;!w||!u||((s==null?void 0:s.name)!=="\u4E2D\u56FD"?(Q.current.loadLayer="province",Y&&(u.add(Y),u.setFitView(Y))):Q.current.loadLayer="china",setTimeout(function(){var g=u.getZoom();console.log({realZoom:g,loadLayer:Q.current.loadLayer}),u.on("zoomchange",function(){var h=u.getZoom();console.log({zoomLevel:h,loadLayer:Q.current.loadLayer}),h<g?Q.current.loadLayer!=="china"&&(Q.current.loadLayer="china",u==null||u.remove(Q.current.province),u==null||u.add(Q.current.china)):Q.current.loadLayer!=="province"&&(Q.current.loadLayer="province",u==null||u.remove(Q.current.china),u==null||u.add(Q.current.province))})},5e3))},Se=function(){var k=$e()(Ne()().mark(function B(){return Ne()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,new Promise(function(w,u){mn().load(x()({key:"475c97e5ba9c55b5bbf684b116fe3c6e",version:"1.4.15",plugins:[]},l)).then(function(g){var h=new g.Map(E.current,x()({lang:U,zoom:4,zooms:[2,10],center:[117.552366,41.997914],resizeEnable:!0,scrollWheel:!1},r));z.current={map:h,AMap:g},R&&re();var M=[Et(s)&&"AMap.DistrictSearch",Et(v)&&"AMap.TileLayer",Et(f)&&"AMap.DistrictLayer"].filter(Boolean);if(g.plugin(M,function(){M.includes("AMap.DistrictSearch")&&ne(),M.includes("AMap.DistrictLayer")&&ae(),M.includes("AMap.TileLayer")&&ee(),a!=null&&a.length&&X()}),F==="ctrl+mousewheel"&&_(),typeof d=="function"){var I=new g.LabelsLayer({collision:!1,animation:!0});h.add(I),d(z.current),w(h)}})});case 2:return C.abrupt("return",C.sent);case 3:case"end":return C.stop()}},B)}));return function(){return k.apply(this,arguments)}}();return(0,p.useEffect)(function(){Se()},[JSON.stringify(a)]),(0,p.useLayoutEffect)(function(){document.body.focus()},[]),(0,n.jsxs)("div",{ref:W,className:Yr({"qk-pointer-events-none":Z},"qk-gao-de-map h-full w-full",D),style:N,children:[F==="ctrl+mousewheel"&&(0,n.jsx)("div",{className:"map-zoom-shortcut-tip shortcut-tip--simple",children:H[U].mapZoomTips}),(0,n.jsx)("div",{ref:E,className:"h-full w-full absolute"})]})},Kr=Ur,Jr=O(63027),$r=O.n(Jr),yn,Ht=function(o){return o._="sub",o["^"]="sup",o["\\underline"]="underline",o["\\overline"]="overline",o["\\sum"]="sum",o}(Ht||{}),qr=function(e){var t=e.content,r=(0,p.useRef)(null),i=(0,p.useState)(),l=fe()(i,2),c=l[0],a=l[1],s=Object.keys(Ht).map(function(d){return"\\"+d+"\\{|"}).join("")+"\\}";(0,p.useLayoutEffect)(function(){var d,m,D=window.getComputedStyle((d=r.current)!==null&&d!==void 0?d:document.body).getPropertyValue("font-size"),A="12px",N=(m=r.current)===null||m===void 0?void 0:m.querySelectorAll("sum");N!=null&&N.length&&N.forEach(function(L){var b=L==null?void 0:L.childNodes,S=fe()(b,2),F=S[0],P=S[1],T=Math.max.apply(Math,Re()([F.innerHTML,P.innerHTML].map(function(y){return y.length})));A=window.getComputedStyle(F!=null?F:document.body).fontSize,L.setAttribute("content",new Array(Math.ceil(T)).fill(1).join(""))}),a({"--font-size":"".concat(D),"--min-font-size":"".concat(A)})},[]);var v=String.raw(yn||(yn=$r()(["",""])),t),f=[];return v=v.replace(new RegExp(s,"g"),function(d){var m="";if(!f.length&&d==="}")return d;if(d=="}")m="</".concat(f.pop(),">");else{var D=d.replace(/\{/g,""),A=Ht[D];f.push(A),m="<".concat(A,">")}return m}),(0,n.jsx)("span",{className:"qk-math-formula",style:c,ref:r,dangerouslySetInnerHTML:{__html:v}})},Vr=qr,Xr=O(63280),xn=O(57889),_r="data:image/png;base64,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",Zt=function(e){var t=(0,p.useState)(!1),r=fe()(t,2),i=r[0],l=r[1],c=e.src,a=e.onCancel;return(0,p.useEffect)(function(){c&&l(!0)},[c]),(0,n.jsx)(Xr.Z,{src:i?c:_r,onError:function(){xn.ZP.error("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25")},placeholder:"\u52A0\u8F7D\u4E2D...",style:{display:"none"},preview:{visible:i,src:c,onVisibleChange:function(v){v||(l(!1),setTimeout(function(){a==null||a()},200))}}})},ea=Zt,ta=function(e){var t=document.createElement("div");ht.render((0,n.jsx)(Zt,x()(x()({},e),{},{onCancel:function(){ht.unmountComponentAtNode(t),document.body.removeChild(t)}})),t),document.body.append(t)};Zt.Create=ta;var na=function(e){var t=e.type,r=t===void 0?1:t;return(0,n.jsxs)("div",{className:Fe()({"loading-1":r==1,"loading-2":r==2,"loading-3":r==3}),children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]})},An=na,ra=O(23446),aa=function(e){return(0,n.jsx)(ra.Z,x()({},e))},ia=aa,oa=O(59454),la=function(e){return(0,n.jsx)(oa.Y,x()({},e))},ca=la,Yt=function(e){var t=e.children;return t};Yt.Pc=function(o){var e=o.children,t=window.isMobile;if(!t)return e},Yt.Mobile=function(o){var e=o.children,t=window.isMobile;if(t)return e};var sa=Yt,wn=O(65103),jn=function(e){return(0,n.jsx)(wn.vY,x()({},e))};jn.Item=wn.vY.Item;var da=jn,ua=O(42525),Gt=O.n(ua),kt=O(68673),va=O(60183),Cn=O.n(va),fa=function(e,t,r){var i={};t.forEach(function(c){i[c]=[],e.forEach(function(a){a[r]===c&&i[c].push(a)})});var l=[];return Object.keys(i).forEach(function(c){l.push(Cn()(Cn()({},r,c),"list",i[c]))}),l},ha=function(e,t){if(!e.length)return[];if(!t)return e;var r=new Set;return e.forEach(function(i){r.add(i[t])}),fa(e,Re()(r),t)},Mn=function(e,t){var r=t==null?void 0:t.filter(function(a){return a.merge==="col"}),i=e;r.map(function(a){var s=a.mergeBy?a.mergeBy:a.dataIndex,v=ha(e,s);return v.forEach(function(f){var d;f==null||(d=f.list)===null||d===void 0||d.forEach(function(m,D){m["rowSpan_".concat(s)]=D===0?f.list.length:0}),i.concat(f==null?void 0:f.list)}),v});var l=[],c=0;return t.forEach(function(a){var s;Object.keys(l).length||(l[c]=[]),((s=a.merge)!==null&&s!==void 0?s:[]).includes("row")?l[c].push(a.dataIndex):(c++,l[c]=[])}),l=l.filter(function(a){return a.length>1}),l.length&&i.forEach(function(a){l.forEach(function(s){var v=s.map(function(d){return a[d]}).filter(Boolean),f=new Set(v).size;f<=1&&s.forEach(function(d,m){m===0?a["colSpan_"+d]=s.length:a["colSpan_"+d]=0})})}),i},ma=function(e){return e==null||e.forEach(function(t){t.valueType==="index"&&(t.width=50),e==null||e.forEach(function(r){var i;r.valueType=="index"&&(r.width=50),((i=r.merge)!==null&&i!==void 0?i:[]).length&&(r.onCell=function(l){var c,a,s=r.mergeBy?r.mergeBy:r.dataIndex;return{rowSpan:(c=l["rowSpan_".concat(s)])!==null&&c!==void 0?c:1,colSpan:(a=l["colSpan_".concat(r.dataIndex)])!==null&&a!==void 0?a:1}})})}),e},pa=["ellipsis"],Dt=function(e){var t,r,i=(0,p.useRef)(!0),l=e.ellipsis,c=l===void 0?!0:l,a=Gt()(e,pa),s=a.columns,v=s===void 0?[]:s,f=a.actionRef?a.actionRef:(0,p.useRef)();if(c){var d=0;v.forEach(function(A){var N;if(!A.width){var L,b,S=(L=String((b=A.title)!==null&&b!==void 0?b:""))===null||L===void 0?void 0:L.length;A.width=S?S*30:50}A.ellipsis===void 0&&(A.ellipsis=!0),d+=(N=Number(A.width))!==null&&N!==void 0?N:50,A.title==="\u64CD\u4F5C"&&(A.fixed="right",A.ellipsis=void 0)}),a.scroll={x:d}}"pagination"in a||(a.pagination={defaultPageSize:10,showSizeChanger:!0}),a.options===void 0&&(a.options=!1),a.postData=function(A){return Mn(A,v)},(t=a.dataSource)!==null&&t!==void 0&&t.length&&(a.dataSource=Mn(a.dataSource,v)),v=ma(v);var m=function(){var N={};try{N=JSON.parse(history.getUrlParams().searchParams)}catch(L){N={}}return N},D=function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=N;L&&(b=x()(x()({},m()),N)),Qn({searchParams:JSON.stringify(b)},L)};return a!=null&&a.search&&a!==null&&a!==void 0&&(r=a.search)!==null&&r!==void 0&&r.storeQueryParams&&(a.search.optionRender=function(A,N){var L=f.current||{},b=L.setPageInfo,S=L.pageInfo,F=S===void 0?{}:S,P=A.resetText,T=A.searchText,y=N.form,R=m(),j=function(){var z,Q=((z=f.current)===null||z===void 0?void 0:z.pageInfo)||{},G=Q.current;return{current:G}},U=function(){var z=y==null?void 0:y.getFieldsValue(),Q={};for(var G in z)z[G]!==void 0&&(Q[G]=z[G]);return Q};if(i.current){var W;y==null||y.setFieldsValue(R),i.current=!1,b==null||b(x()(x()({},F),{},{current:Number((W=R==null?void 0:R.current)!==null&&W!==void 0?W:1)}))}return[(0,n.jsx)(Te.ZP,{onClick:function(){y==null||y.resetFields(),D(j(),!1),y==null||y.submit()},children:P},"reset"),(0,n.jsx)(Te.ZP,{type:"primary",onClick:function(){y==null||y.submit(),D(x()(x()({},U()),j()),!1)},children:T},"search")]},a.pagination=x()({defaultPageSize:10,showQuickJumper:!0,size:"default",onChange:function(N){D({current:N},!0)}},a.pagination)),(0,n.jsx)(kt.Z,x()(x()({actionRef:f},a),{},{columns:v}))},ga=Dt;Dt.Summary=kt.Z.Summary,Dt.Summary.Row=kt.Z.Summary.Row,Dt.Summary.Cell=kt.Z.Summary.Cell;var ya=O(91158),xa=O(24350),Aa=O.n(xa),Ut=O(21464),wa=O(6112),ja="data:image/png;base64,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",Kt=function(e){var t=e.content,r=t===void 0?"":t,i=e.width,l=i===void 0?168:i,c=e.edit,a=c===void 0?!1:c,s=e.margin,v=s===void 0?10:s,f=e.value,d=f===void 0?"":f,m=e.title,D=m===void 0?"":m,A=e.download,N=A===void 0?null:A,L=e.screenshot,b=L===void 0?!1:L,S=e.onChange,F=S===void 0?function(H){return 0}:S,P=e.success,T=P===void 0?function(H){return 0}:P,y=e.finish,R=y===void 0?function(H){return 0}:y,j=e.titleLen,U=j===void 0?20:j,W=(0,p.useRef)(null),E=(0,p.useState)({edit:!1}),z=fe()(E,2),Q=z[0],G=z[1],V=(0,p.useRef)(null),Z=Math.round(l/14),J=function(){return new Promise(function(re,ce){Aa()(W.current||document.body,{ignoreElements:function(ae){return ae.classList.value.indexOf("icon-edit")!==-1}}).then(function(ne){re(ne.toDataURL("image/png"))}).catch(function(){ce()})})};return(0,p.useLayoutEffect)(function(){b&&typeof T=="function"&&setTimeout(function(){J().then(function(H){T(H)})},1e3)}),r?(0,n.jsxs)("div",{className:"qk-qr-code",style:{width:l-v+"px","--fontSize":Z+"px","--margin":v+"px"},children:[(0,n.jsxs)("div",{className:"qk-qr-code-wrap",ref:W,children:[(0,n.jsx)(wa.ZP,{value:r,size:l-v,style:{padding:v+"px",background:"#fff",borderRadius:"8px"}}),(0,n.jsxs)("p",{className:Fe()("qk-qr-code__title",{"qk-qr-code__title-margin":d||D}),children:[Q.edit&&(0,n.jsx)("textarea",{ref:V,value:d||D,maxLength:U,onChange:function(re){var ce=re.target.value;F==null||F(ce)},onBlur:function(){typeof R=="function"&&R(d),G((0,Ut.Uy)(function(re){re.edit=!1}))}}),!Q.edit&&(0,n.jsx)("span",{children:d||D}),a&&(0,n.jsx)("i",{onClick:function(){G((0,Ut.Uy)(function(re){re.edit=!0})),setTimeout(function(){var re,ce,ne,ae=((re=V.current)===null||re===void 0?void 0:re.value.length)||0;(ce=V.current)===null||ce===void 0||ce.focus(),(ne=V.current)===null||ne===void 0||ne.setSelectionRange(ae,ae)})},className:"icon-edit"})]})]}),N&&(0,n.jsx)("div",{className:"btn-group",children:(0,n.jsx)(Te.ZP,{type:"primary",block:!0,className:"btn-download cursor-pointer",onClick:N,disabled:!1,icon:(0,n.jsx)(ya.Z,{}),children:"\u4E0B\u8F7D\u4E8C\u7EF4\u7801"})})]}):(0,n.jsx)("div",{className:"qk-qr-code",style:{width:l+"px"},children:(0,n.jsx)("img",{src:ja,alt:""})})},Ca=function(e){var t=document.createElement("div");return ht.render((0,n.jsx)(Kt,x()({screenshot:!0},e)),t),document.body.appendChild(t),{destroy:function(){ht.unmountComponentAtNode(t),document.body.removeChild(t)}}},Ma=Kt;Kt.screenshot=Ca;var mt=O(26869),Sa=function(e){var t=e.filter(function(r){return r.type==="summaryTable"});return t.length?t.map(function(r){return{name:r.name,equipment:r.equipment,type:r.type}}):t},Na=function o(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.forEach(function(r){r.type==="wattHourMeter"&&t.push({name:r.name,equipment:r.equipment,type:r.type}),r.children&&o(r.children,t)}),t},Sn=function(e){for(var t=e.data,r=e.groupNumber,i=r===void 0?4:r,l=t.length,c=l>i?Math.ceil(l/i):i,a=[],s=0;s<l;s+=c)a.push({name:"\u865A\u62DF\u7535\u8868",equipment:"wattHourMeter",type:"wattHourMeter",children:t.slice(s,s+c)});return a},La=function o(e){var t=e.data,r=e.type,i=e.result,l=i===void 0?[]:i,c=dn()(t),a;try{for(c.s();!(a=c.n()).done;){var s,v=a.value;if(v.type==="region"&&r===void 0){l=Sn({data:t});continue}if(v.type==="region"&&r==="summaryTable"){l=Sn({data:t});continue}if(v.type==="wattHourMeter"&&r==="summaryTable"){l=t;continue}if(v.type==="wattHourMeter"&&r===void 0){l=t;continue}(s=v.children)!==null&&s!==void 0&&s.length&&!l.length&&(l=o({data:v.children,type:v.type}))}}catch(f){c.e(f)}finally{c.f()}return l},Nn=function(e){var t=e.type,r=e.name,i=e.className,l=i===void 0?"":i,c=["summaryTable","wattHourMeter"].includes(t);return(0,n.jsxs)("div",{className:mt({"watt-hour-meter-comp":c},"flex",l),children:[(0,n.jsx)("div",{className:"equipment__icon flex justify-center items-center",children:(0,n.jsx)("i",{className:mt("icon","icon-"+t)})}),(0,n.jsx)("div",{className:"equipment__name flex-1 flex justify-center items-center",children:r})]})},ba=function(e){var t,r=e.data,i=r.name,l=(t=r==null?void 0:r.children)!==null&&t!==void 0?t:[];return(0,n.jsxs)("div",{className:"regional-equipment",children:[(0,n.jsx)("div",{className:"regional-equipment__name",children:(0,n.jsx)("span",{children:i})}),(0,n.jsx)("div",{className:"regional-equipment-eq-row flex flex-row  justify-center",children:l.map(function(c,a){var s;return(0,n.jsxs)("div",{className:"regional-equipment-asse",children:[(0,n.jsxs)("div",{className:"regional-equipment-eq",children:[(0,n.jsx)("div",{className:mt("eq__icon","icon-"+c.equipment)}),(0,n.jsx)("div",{className:"eq__name",children:c.name})]}),(0,n.jsxs)("div",{className:"regional-equipment-number",children:["*",(s=c==null?void 0:c.number)!==null&&s!==void 0?s:0]})]},"r-"+a)})})]})},Ia=function(e){var t=e.dataSource,r=e.options,i=r===void 0?{}:r,l=i.language,c=l===void 0?"cn":l,a=i.height,s=a===void 0?"100%":a,v=(0,p.useState)([]),f=fe()(v,2),d=f[0],m=f[1],D=(0,p.useState)([]),A=fe()(D,2),N=A[0],L=A[1],b=(0,p.useState)([]),S=fe()(b,2),F=S[0],P=S[1],T={cn:{wattHourMeter:"\u7535\u8868",region:"\u5149\u4F0F\u533A\u57DF"},en:{wattHourMeter:"Electric Meter",region:"Region of Solar"}};return(0,p.useEffect)(function(){m(Sa(t)),L(Na(t)),P(La({data:t}))},[JSON.stringify(t)]),(0,n.jsx)("div",{className:"qk-sketch-map",style:{maxHeight:s},children:(0,n.jsx)("div",{className:mt("pv-diagram",{"not-project-summary":!d.length,"has-project-summary":d.length,"not-sub-meter":!N.length,"not-regional-equipment":!F.length,"sub-meter-number-1":N.length===1}),children:(0,n.jsxs)("div",{className:"pv-diagram-warp flex flex-row",children:[(0,n.jsx)("div",{className:"watt-hour-meter flex justify-center",children:(0,n.jsxs)("div",{className:"watt-hour-meter-wrap flex flex-row",children:[(0,n.jsx)("div",{className:"watt-hour-meter-wrap__name",children:T[c].wattHourMeter}),(0,n.jsx)("div",{className:"project-pummary flex items-center",children:d.map(function(y,R){return y.type&&(0,n.jsx)(Nn,{type:y.type,name:y.name},"v-"+R)})}),(0,n.jsxs)("div",{className:"whm-sm-connection",children:[(0,n.jsx)("div",{className:"whm-sm-connection__line-top"}),(0,n.jsx)("div",{className:"whm-sm-connection__line-bottom"}),(0,n.jsx)("div",{className:"whm-sm-connection__line-center"})]}),(0,n.jsx)("div",{className:"sub-meter flex justify-center flex-col",children:N.map(function(y,R){return(0,n.jsxs)("div",{className:"sub-meter-wrap",children:[y.type&&(0,n.jsx)(Nn,{className:mt({"watt-hour-meter-comp__line":R!==0&&R!==N.length-1}),type:y.type,name:y.name}),R<N.length-1&&(0,n.jsx)("div",{className:"seize-seat"})]},"g-"+R)})})]})}),(0,n.jsx)("div",{className:"area flex-1",children:(0,n.jsxs)("div",{className:"area-wrap",children:[(0,n.jsx)("div",{className:"area-wrap__name",children:T[c].region}),F.map(function(y,R){var j;return(0,n.jsx)("div",{className:"area-equipment-row flex flex-row",children:(j=y.children)===null||j===void 0?void 0:j.map(function(U,W){return(0,n.jsx)(ba,{data:U},"z-"+W)})},"k-"+R)})]})})]})})})},Ea=Ia,ka=function(e){var t=new Date(Math.min.apply(Math,Re()(e.map(function(i){return new Date(i.start).getTime()})))),r=new Date(Math.max.apply(Math,Re()(e.map(function(i){return new Date(i.end).getTime()}))));return{minDate:new Date(t),maxDate:new Date(r)}},Jt=function(e,t){for(var r=[],i=new Date(e),l=new Date(t);i<=l;)r.push(i.toISOString().slice(0,10)),i.setDate(i.getDate()+1);return r};function Da(o){var e=o.map(function(i){var l=i.columns.reduce(function(c,a){return c+Number(a==null?void 0:a.value)},0);return x()(x()({},i),{},{total:l})}),t=e.sort(function(i,l){return l.total-i.total}),r=t.reduce(function(i,l){var c=l.total.toString();return i[c]||(i[c]=[]),i[c].push(l),i},{});return r}function Ln(o,e){var t=x()({},o);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r],l=t[r];Je()(i)!=="object"?t[r]=i:(Je()(l)!=="object"&&(t[r]=x()({},l)),t[r]=Ln(l,i))}return t}var Ta=function(e){var t,r,i,l,c,a,s,v,f,d=e.options,m=d===void 0?{}:d,D=e.data,A=(0,p.useRef)(null),N=(0,p.useRef)(null),L={margin:{left:0,top:20,right:50,bottom:50},yAxios:{width:50},strip:{height:24,margin:20},background:"transparent",xAxios:{nameRender:null}};m=Ln(L,m);var b=(t=(r=m)===null||r===void 0?void 0:r.height)!==null&&t!==void 0?t:700,S=(i=m.tickLineWidth)!==null&&i!==void 0?i:65,F=(l=m.yAxios)!==null&&l!==void 0?l:{},P=F.width,T=P===void 0?50:P,y=(c=m.xAxios)!==null&&c!==void 0?c:{},R=y.nameRender,j=(a=(s=m.strip)===null||s===void 0?void 0:s.margin)!==null&&a!==void 0?a:0,U=(v=(f=m.strip)===null||f===void 0?void 0:f.margin)!==null&&v!==void 0?v:0,W=m.background,E=0,z=0,Q=0,G=0;if(typeof m.margin=="number"){var V;E=(V=m.margin)!==null&&V!==void 0?V:0,z=m.margin,Q=m.margin,G=m.margin}else if(Je()(m.margin)==="object"){var Z,J,H,re,ce,ne,ae,ee;E=(Z=(J=m)===null||J===void 0||(J=J.margin)===null||J===void 0?void 0:J.left)!==null&&Z!==void 0?Z:0,z=(H=(re=m.margin)===null||re===void 0?void 0:re.top)!==null&&H!==void 0?H:0,Q=(ce=(ne=m)===null||ne===void 0||(ne=ne.margin)===null||ne===void 0?void 0:ne.right)!==null&&ce!==void 0?ce:0,G=(ae=(ee=m.margin)===null||ee===void 0?void 0:ee.bottom)!==null&&ae!==void 0?ae:0}var X=Da(D);b||(b=Object.keys(X).length*j+D.length*j+G+z+50);var _=function(w){return new ve.fabric.Line(w,{stroke:"#E6E6E6",selectable:!1,hoverCursor:"normal"})},se=function(w){return new ve.fabric.Line(w,{stroke:"#CCD6EB",strokeWidth:1,selectable:!1,hoverCursor:"normal"})},Se=function(w,u,g){return new ve.fabric.Text(w,{left:u,top:g,fontSize:12,fontFamily:"SourceHanSansCN",selectable:!1,hoverCursor:"normal",fill:"#666666",angle:-20})},k=function(w){for(var u=w.dates,g=w.height,h=w.oneDayXaxiosWidth,M=[],I=0;I<u.length;I++){var $=E+T+I*S+S,q=z,K=$,de=g-z-G,oe=String(u[I]);typeof R=="function"&&(oe=R(u[I],I));var ie=E-30+T+I*S,le=g-z-G+35,te=Se(oe,ie,le);M.push(_([$,q,K,de]),te),te.set({left:Math.floor(ie-te.width/2)+S})}return M},B=function(w){var u=w.oneDayXaxiosWidth,g=w.minDate,h=w.height,M=w.width,I=-20,$=[],q=h-z-G-j;return Object.keys(X).forEach(function(K,de,oe){var ie=X[K].length,le=j*ie;q-=le,de>0&&(q-=j);var te=new ve.fabric.Rect({left:E+T,top:q,width:M-E+Q-T,height:le,fill:"transparent",stroke:"transparent",selectable:!1,hoverCursor:"normal"}),ue=new ve.fabric.Textbox(K,{left:te.left,top:te.top,fontSize:14,fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1",fill:"#5B6C7E",selectable:!1,hoverCursor:"normal"}),pe=Math.ceil(te.top+(te.height-ue.height)/2),je=Math.ceil(te.left-ue.width-20);ue.set({top:pe,left:je}),$.push(te),$.push(ue);for(var ye=function(){var Me=X[K][Ae],Ie=q+Ae*U+Ae*1,Ee=Math.ceil((Jt(g,new Date(Me.start)).length-1)*u+E+T+S),qe=u*(Jt(new Date(Me.start),new Date(Me.end)).length-1)+I/2+2,he=new ve.fabric.Rect({left:Ee,top:Ie,width:qe,height:U,fill:"transparent",stroke:"transparent",selectable:!1,hoverCursor:"normal"}),et=he.left,We=[],Le="",tt=[],Ve=Le.length;Me.columns.forEach(function(xe,Ze){var rt=Math.floor(xe.value/Number(K)*he.width),be=new ve.fabric.Rect({left:et,top:he.top,width:rt,height:U,fill:xe.background,stroke:xe.background,selectable:!1,hoverCursor:"normal",skewX:I});et+=rt;var at=xe.value>0?"".concat(xe.title,"/").concat(xe.value," "):"";Le+=at,be.width&&We.push(be),tt.push({startIndex:Ve,endIndex:at.length+Ve,color:xe.color}),Ve+=at.length});var Ge=new ve.fabric.Text(Le,{left:he.left,top:he.top,textAlign:"center",fontSize:14,fontFamily:"Arial",fill:"#fff",selectable:!1,hoverCursor:"normal"});tt.forEach(function(xe){Ge.setSelectionStyles({fill:xe.color},xe.startIndex,xe.endIndex)});var Ue=Math.ceil(he.left+(he.width-Ge.width)/2),pt=Math.ceil(he.top+(he.height-Ge.height)/2),nt={left:Ue,top:pt,fill:"red"},ke=Ge.width+20,De=he.left-E-S,Xe=M-(he.left+he.width+E)-20;Xe>ke?nt.left=Math.ceil(he.left+he.width+20):De>ke?nt.left=Math.ceil(he.left-ke):nt.left=Math.ceil(he.left+he.width/2-ke/2),Ge.set(nt),$.push.apply($,[he].concat(We,[Ge]))},Ae=0;Ae<X[K].length;Ae++)ye()}),$},Y=function(w){var u=w.canvas,g=w.width,h=g===void 0?0:g,M=ka(D),I=M.minDate,$=M.maxDate,q=Jt(I,$),K=Math.floor((h-T-(E+Q))/S)-1;console.log({xAxiosTickLen:K});for(var de=Math.ceil(q.length/K),oe=[],ie=0;ie<q.length;ie++){var le=q[ie];ie%de===0&&oe.push(le)}var te=S/de;return k({dates:oe,oneDayXaxiosWidth:te,height:b}).forEach(function(ue){u.add(ue)}),u.add(se([T+E,b-z-G,h-Q,b-z-G])),u.add(se([T+E,z,T+E,b-z-G])),B({oneDayXaxiosWidth:te,minDate:I,height:b,width:h}).forEach(function(ue){u.add(ue)}),u};return(0,p.useLayoutEffect)(function(){var C,w,u=(C=(w=N.current)===null||w===void 0?void 0:w.offsetWidth)!==null&&C!==void 0?C:0,g={selection:!1,width:u,height:b,backgroundColor:W},h=new ve.fabric.Canvas(A.current,g);Y({canvas:h,width:u});var M=zt().debounce(function(){var I=document.getElementById("canvas-container"),$=I==null?void 0:I.clientWidth,q=I==null?void 0:I.clientHeight;h.setWidth($),h.setHeight(q),h.discardActiveObject(),h.requestRenderAll(),h.clear(),Y({canvas:h,width:$})},500);return window.addEventListener("resize",M),function(){window.removeEventListener("resize",M)}},[]),(0,n.jsx)("div",{className:"canvas-container",id:"canvas-container",style:{height:"100%"},ref:N,children:(0,n.jsx)("canvas",{ref:A,id:"canvas"})})},Ra=Ta;function Qa(o){var e=o.open;return(0,n.jsx)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{id:"ESG\u76D8\u67E5\u76F8\u5173",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,n.jsx)("g",{id:"\u5207\u56FE\u53CA\u5361\u7247\u89E3\u6790",transform:"translate(-658.000000, -797.000000)",children:(0,n.jsxs)("g",{id:"\u7F16\u7EC4-35\u5907\u4EFD-7",transform:"translate(658.000000, 797.000000)",children:[(0,n.jsx)("circle",{id:"\u692D\u5706\u5F62",fill:"currentColor",cx:"12",cy:"12",r:"12"}),(0,n.jsxs)("g",{id:"\u7F16\u7EC4-38",transform:"translate(5.000000, 5.000000)",fill:"#FFFFFF",children:[(0,n.jsx)("rect",{id:"\u77E9\u5F62",x:"0",y:"6",width:"14",height:"2",rx:"1"}),e&&(0,n.jsx)("rect",{id:"\u77E9\u5F62\u5907\u4EFD",transform:"translate(7.000000, 7.000000) rotate(-270.000000) translate(-7.000000, -7.000000) ",x:"-7.27595761e-12",y:"6",width:"14",height:"2",rx:"1"})]})]})})})})}var Oa=function(e){var t=e.data,r=e.filter,i=function(a,s){return s.every(function(v){var f=v.dataIndex,d=v.value;return f.some(function(m){var D=a[m]||"";return typeof D=="string"||Array.isArray(D)&&typeof d=="string"?D.includes(d):Array.isArray(D)&&Array.isArray(d)?D.some(function(A){return d.includes(A)}):D==d})})},l=function c(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a.map(function(v){var f=v.children?c(v.children,!1):[];if(s)return x()(x()({},v),{},{children:f.length?f:void 0});var d=i(v,r);return x()(x()({},v),{},{isFilter:!d,children:f.length?f:void 0})})};return l(t)},Pa=function o(e){var t=e.key,r=e.treeKey,i=r===void 0?"key":r,l=e.dataSource,c=e.updateRecord,a=c===void 0?{}:c;return l.map(function(s){var v;return s[i]==t?x()(x()({},s),a):s!=null&&(v=s.children)!==null&&v!==void 0&&v.length?x()(x()({},s),{},{children:o({key:t,treeKey:i,dataSource:s.children,updateRecord:a})}):s})},Tt=function o(e){var t=e.tree,r=t===void 0?[]:t,i=e.key,l=i===void 0?"key":i,c=e.reset,a=c===void 0?!1:c,s=e.record,v=s===void 0?{}:s;return!r||!Array.isArray(r)?[]:r.map(function(f){var d=f.children,m=d===void 0?[]:d,D=f.isOpen,A=D===void 0?!1:D,N=x()(x()({},f),{},{key:f[l],isOpen:a?!1:A,opened:!0},v);return Array.isArray(m)&&m.length>0&&(N.children=o({tree:m,key:l,reset:a,record:v})),N})},ge=function(o){return o[o.LOADING=0]="LOADING",o[o.OPEN=1]="OPEN",o[o.CLOSE=2]="CLOSE",o[o.HIDE=3]="HIDE",o}(ge||{}),Ba=function(e){var t=e.data,r=e.request,i=e.completedLoading,l=e.setTree,c=e.extraRender,a=e.cardStyle,s=a===void 0?{}:a,v=e.updateTree,f=e.onTreeChange,d=e.treeKey,m=d===void 0?"key":d,D=e.existsNextChildrenField,A=D===void 0?"isNextLevel":D,N=(0,p.useState)(ge.LOADING),L=fe()(N,2),b=L[0],S=L[1],F=(0,p.useRef)(null);(0,p.useLayoutEffect)(function(){setTimeout(function(){var y,R,j,U,W=(y=(R=F.current)===null||R===void 0?void 0:R.offsetWidth)!==null&&y!==void 0?y:0,E=(j=(U=F.current)===null||U===void 0?void 0:U.offsetHeight)!==null&&j!==void 0?j:0;i==null||i({width:W,height:E})})},[JSON.stringify(t)]),(0,p.useEffect)(function(){var y=t.isOpen?ge.OPEN:ge.CLOSE;if(typeof r=="function")Object.prototype.hasOwnProperty.call(t,A)&&!t[A]&&(y=ge.HIDE);else{var R;t[A]||(R=t.children)!==null&&R!==void 0&&R.length||(y=ge.HIDE)}S(y)},[t.isOpen,t[A]]);var P={setRecord:function(R,j){T({key:R,record:j})}},T=function(){var y=$e()(Ne()().mark(function R(j){var U,W,E,z,Q,G,V,Z,J,H,re;return Ne()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(z=j.key,Q=j.record,G=Q===void 0?{}:Q,V=j.opened,Z=V===void 0?!0:V,J=ge.HIDE,H=t.children,!(t!=null&&(U=t.children)!==null&&U!==void 0&&U.length)){ne.next=7;break}b===ge.OPEN?J=ge.CLOSE:J=ge.OPEN,ne.next=13;break;case 7:if(typeof r!="function"){ne.next=13;break}return J=ge.LOADING,S(J),ne.next=12,new Promise(function(ae){r(t).then(function(ee){ee!=null&&ee.length?J=ge.OPEN:J=ge.HIDE,ae(ee)}).catch(function(){J=ge.CLOSE,ae(null)})});case 12:H=ne.sent;case 13:v.current=Pa({treeKey:m,key:z,dataSource:v.current,updateRecord:x()({isOpen:Z?J===ge.OPEN:!1,opened:Z,children:H},G)}),l(v.current),((W=v.current)===null||W===void 0?void 0:W.length)===1&&(f==null||f(v.current)),re=J,Z||(re=ge.CLOSE),(E=H)!==null&&E!==void 0&&E.length||(re=ge.HIDE),S(re);case 20:case"end":return ne.stop()}},R)}));return function(j){return y.apply(this,arguments)}}();return(0,n.jsxs)("div",{ref:F,className:Fe()("qk-card","qk-tree-card-child-node",{"qk-card-open":b===ge.OPEN}),style:s,children:[c==null?void 0:c(t,P),(0,n.jsx)("div",{className:Fe()("btn-close-and-open text-[#54A349] hover:text-[#54C245]",{"btn-open":b==ge.CLOSE,"btn-close":b==ge.OPEN,"btn-loading":b==ge.LOADING,invisible:b===ge.HIDE}),onClick:function(){T({key:t[m],opened:!0})},children:b!==ge.HIDE&&b!==ge.LOADING&&(0,n.jsx)(Qa,{open:b==ge.CLOSE})})]})},za=function o(e){var t=e.request,r=e.className,i=e.treeKey,l=i===void 0?"key":i,c=e.params,a=e.cardStyle,s=a===void 0?{}:a,v=e.extraRender,f=e.onTreeChange,d=e.filter,m=e.tree,D=e.setTree,A=e.updateTree,N=e.existsNextChildrenField,L=e.parentNodeHeight,b=L===void 0?0:L,S=(0,ln.Z)([]),F=fe()(S,3),P=F[0],T=F[1],y=F[2],R=y(),j=fe()(R,1),U=j[0],W=function(J){return d!=null&&d.length?!(J!=null&&J.isFilter):!0},E=U>b,z=E?0:"calc((var(--current-node-height) - var(--first-child-node-height)) / 2 )",Q=E?b+"px":"100%",G=E?"calc(100% - var(--parent-node-height) / 2)":"calc(100% - var(--first-child-node-height) / 2)",V=E?"calc(var(--parent-node-height) / 2)":"calc(var(--first-child-node-height) / 2)";return(0,n.jsx)("div",{className:"qk-tree-card",style:{"--first-child-node-height":U+"px",marginTop:z},children:m==null?void 0:m.filter(W).map(function(Z,J){var H;return(0,n.jsxs)("div",{className:Fe()("qk-tree-card-column flex","qk-tree-card-column-"+m.filter(W).length),style:{"--current-node-height":P[J]+"px","--parent-node-height":Q,"--first-child-node-column-line-height":G,"--first-child-node-column-line-top":V},children:[(0,n.jsx)(Ba,{onTreeChange:f,updateTree:A,data:x()(x()({},Z),{},{params:c}),cardStyle:s,request:t,className:r,tree:m,setTree:D,extraRender:v,existsNextChildrenField:N,filter:d,completedLoading:function(ce){var ne=ce.height;T((0,Ut.Uy)(function(ae){ae[J]=ne}))}}),(0,n.jsx)(Ft.Z,{mountOnEnter:!0,unmountOnExit:!1,appear:!0,in:Z.isOpen&&(Z==null||(H=Z.children)===null||H===void 0?void 0:H.length),timeout:500,classNames:"qk-tree-card",children:(0,n.jsx)(o,{treeKey:l,request:t,cardStyle:s,filter:d,onTreeChange:f,updateTree:A,data:x()(x()({},Z),{},{params:c}),params:c,className:r,tree:Z.children,setTree:D,extraRender:v,existsNextChildrenField:N,parentNodeHeight:P[J]})})]},Z[l])})})},Fa=(0,p.forwardRef)(function(o,e){var t=o.className,r=t===void 0?"":t,i=o.lineColor,l=i===void 0?"#545C5C":i,c=o.treeData,a=c===void 0?[]:c,s=o.request,v=o.treeKey,f=v===void 0?"key":v,d=o.params,m=o.cardStyle,D=m===void 0?{}:m,A=o.children,N=o.emptyRender,L=o.onTreeChange,b=o.filter,S=o.existsNextChildrenField,F=o.rowGap,P=F===void 0?120:F,T=o.columnGap,y=T===void 0?30:T,R=o.btnCloseAndOpenSetting,j=R===void 0?{}:R,U=o.defaultExpandAll,W=o.align,E=W===void 0?"top":W,z=j.size,Q=z===void 0?24:z,G=j.right,V=G===void 0?0:G,Z=j.top,J=Z===void 0?0:Z,H=o!=null&&o.width?o.width+"px":"auto",re=o!=null&&o.height?o.height+"px":"auto",ce=o!=null&&o.maxWidth?o.maxWidth+"px":"auto",ne=o!=null&&o.maxHeight?o.maxHeight+"px":"auto",ae=(0,p.useRef)([]),ee=(0,p.useState)([]),X=fe()(ee,2),_=X[0],se=X[1];(0,p.useEffect)(function(){if(a.length){var k={};U&&(k.isOpen=!0);var B=Tt({tree:a,key:f,record:k});ae.current=B,se(B)}},[JSON.stringify(a)]);var Se=function(B){return b!=null&&b.length?!(B!=null&&B.isFilter):!0};return(0,pn.Z)(function(){if(b){var k,B=Oa({data:ae.current,filter:b}),Y=(B==null||(k=B[0])===null||k===void 0||(k=k.children)===null||k===void 0?void 0:k.filter(Se))||[];Y.length||xn.ZP.error("\u6CA1\u6709\u67E5\u5230\u60A8\u60F3\u8981\u7684\u6570\u636E"),se(B)}},[b]),(0,p.useEffect)(function(){!(a!=null&&a.length)&&(s==null||s({params:d,isRootTree:!0}).then(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=Tt({tree:k,key:f,reset:!0});ae.current=B,L==null||L(k),se(B)}))},[JSON.stringify(d)]),(0,p.useImperativeHandle)(e,function(){return{collapseAll:function(){if(a.length){var B=Tt({tree:a,key:f,record:{isOpen:!1}});ae.current=B,se(B)}},expandAll:function(){if(a.length){var B=Tt({tree:a,key:f,record:{isOpen:!0}});ae.current=B,se(B)}},resetTree:function(){ae.current=o.treeData,se(o.treeData)}}}),_.filter(Se).length===0?N||(0,n.jsx)("div",{className:"text-[#ccc]",children:"\u6682\u65E0\u6570\u636E"}):(0,n.jsx)("div",{style:{"--w":H,"--h":re,"--m-w":ce,"--m-h":ne,"--line-color":l,"--row-line-width":P+"px","--column-line-width":y+"px","--btn-close-and-open-size":Q+"px","--btn-close-and-open-right":V+"px","--btn-close-and-open-top":J+"px"},className:Fe()(r,"qk-tree-card-wrap",{"layout-top":E==="top","layout-center":E==="center"}),children:(0,n.jsx)(za,{treeKey:f,request:s,treeData:a,cardStyle:D,filter:b,onTreeChange:L,updateTree:ae,data:{params:d},className:r,tree:_,setTree:se,extraRender:A,existsNextChildrenField:S,defaultExpandAll:U},Object.values(d||"key").join(""))})}),Wa=p.memo(Fa),Ha=O(6873),Za=O(20222),Ya=O(68665),Ga=O(52416),Ua=O(25085),Ka=O(99713),Ja=O.n(Ka),$a=Object.defineProperty,bn=Object.getOwnPropertySymbols,qa=Object.prototype.hasOwnProperty,Va=Object.prototype.propertyIsEnumerable,In=(o,e,t)=>e in o?$a(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Xa=(o,e)=>{for(var t in e||(e={}))qa.call(e,t)&&In(o,t,e[t]);if(bn)for(var t of bn(e))Va.call(e,t)&&In(o,t,e[t]);return o};const Li=o=>React.createElement("svg",Xa({width:18,height:18,xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("title",null,"\u5220\u9664"),React.createElement("path",{d:"M17.438 3.375h-2.813v-2.25C14.625.506 14.119 0 13.5 0H4.594c-.619 0-1.125.506-1.125 1.125v2.25H.562A.564.564 0 0 0 0 3.938c0 .309.253.562.562.562h16.876c.309 0 .562-.253.562-.563a.564.564 0 0 0-.563-.562Zm-12.842 0-.002-.002V1.127l.002-.002h8.902l.002.002v2.246l-.002.002H4.596Zm10.591 2.25a.562.562 0 0 0-.562.563v10.124c0 .31-.253.563-.563.563H3.938a.564.564 0 0 1-.563-.563V6.188a.562.562 0 1 0-1.125 0v10.124c0 .93.757 1.688 1.688 1.688h10.124a1.69 1.69 0 0 0 1.688-1.688V6.188a.562.562 0 0 0-.563-.563Zm-7.874 8.438V6.188a.564.564 0 0 0-.563-.563.564.564 0 0 0-.562.563v7.875c0 .309.253.562.562.562.31 0 .563-.253.563-.563Zm4.5 0V6.188a.564.564 0 0 0-.563-.563.564.564 0 0 0-.563.563v7.875c0 .309.254.562.563.562.31 0 .563-.253.563-.563Z",className:"icon-delete_svg__iconfill",fill:"#9CA8BA",fillRule:"nonzero"}));var En="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE3LjQzOCAzLjM3NWgtMi44MTN2LTIuMjVDMTQuNjI1LjUwNiAxNC4xMTkgMCAxMy41IDBINC41OTRjLS42MTkgMC0xLjEyNS41MDYtMS4xMjUgMS4xMjV2Mi4yNUguNTYyQS41NjQuNTY0IDAgMCAwIDAgMy45MzhjMCAuMzA5LjI1My41NjIuNTYyLjU2MmgxNi44NzZjLjMwOSAwIC41NjItLjI1My41NjItLjU2M2EuNTY0LjU2NCAwIDAgMC0uNTYzLS41NjJabS0xMi44NDIgMC0uMDAyLS4wMDJWMS4xMjdsLjAwMi0uMDAyaDguOTAybC4wMDIuMDAydjIuMjQ2bC0uMDAyLjAwMkg0LjU5NlptMTAuNTkxIDIuMjVhLjU2Mi41NjIgMCAwIDAtLjU2Mi41NjN2MTAuMTI0YzAgLjMxLS4yNTMuNTYzLS41NjMuNTYzSDMuOTM4YS41NjQuNTY0IDAgMCAxLS41NjMtLjU2M1Y2LjE4OGEuNTYyLjU2MiAwIDEgMC0xLjEyNSAwdjEwLjEyNGMwIC45My43NTcgMS42ODggMS42ODggMS42ODhoMTAuMTI0YTEuNjkgMS42OSAwIDAgMCAxLjY4OC0xLjY4OFY2LjE4OGEuNTYyLjU2MiAwIDAgMC0uNTYzLS41NjNabS03Ljg3NCA4LjQzOFY2LjE4OGEuNTY0LjU2NCAwIDAgMC0uNTYzLS41NjMuNTY0LjU2NCAwIDAgMC0uNTYyLjU2M3Y3Ljg3NWMwIC4zMDkuMjUzLjU2Mi41NjIuNTYyLjMxIDAgLjU2My0uMjUzLjU2My0uNTYzWm00LjUgMFY2LjE4OGEuNTY0LjU2NCAwIDAgMC0uNTYzLS41NjMuNTY0LjU2NCAwIDAgMC0uNTYzLjU2M3Y3Ljg3NWMwIC4zMDkuMjU0LjU2Mi41NjMuNTYyLjMxIDAgLjU2My0uMjUzLjU2My0uNTYzWiIgY2xhc3M9Imljb25maWxsIiBmaWxsPSIjOUNBOEJBIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=",_a=Object.defineProperty,kn=Object.getOwnPropertySymbols,ei=Object.prototype.hasOwnProperty,ti=Object.prototype.propertyIsEnumerable,Dn=(o,e,t)=>e in o?_a(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,ni=(o,e)=>{for(var t in e||(e={}))ei.call(e,t)&&Dn(o,t,e[t]);if(kn)for(var t of kn(e))ti.call(e,t)&&Dn(o,t,e[t]);return o};const bi=o=>React.createElement("svg",ni({width:18,height:18,xmlns:"http://www.w3.org/2000/svg"},o),React.createElement("title",null,"\u4E0B\u8F7D"),React.createElement("path",{d:"M17.308 13.154a.692.692 0 0 0-.693.692v2.77H1.385v-2.77a.692.692 0 1 0-1.385 0v3.462c0 .382.31.692.692.692h16.616c.383 0 .692-.31.692-.692v-3.462a.692.692 0 0 0-.692-.692ZM2.847 9.404l5.605 5.61a.69.69 0 0 0 .498.203c.024.002.045.014.069.014a.685.685 0 0 0 .282-.063.683.683 0 0 0 .24-.154l5.61-5.606a.692.692 0 1 0-.978-.98l-4.462 4.46V.692a.692.692 0 1 0-1.385 0v12.23L3.828 8.428a.692.692 0 1 0-.981.976Z",className:"icon-download_svg__iconfill",fill:"#9CA8BA",fillRule:"nonzero"}));var ri="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE3LjMwOCAxMy4xNTRhLjY5Mi42OTIgMCAwIDAtLjY5My42OTJ2Mi43N0gxLjM4NXYtMi43N2EuNjkyLjY5MiAwIDEgMC0xLjM4NSAwdjMuNDYyYzAgLjM4Mi4zMS42OTIuNjkyLjY5MmgxNi42MTZjLjM4MyAwIC42OTItLjMxLjY5Mi0uNjkydi0zLjQ2MmEuNjkyLjY5MiAwIDAgMC0uNjkyLS42OTJaTTIuODQ3IDkuNDA0bDUuNjA1IDUuNjFhLjY5LjY5IDAgMCAwIC40OTguMjAzYy4wMjQuMDAyLjA0NS4wMTQuMDY5LjAxNGEuNjg1LjY4NSAwIDAgMCAuMjgyLS4wNjMuNjgzLjY4MyAwIDAgMCAuMjQtLjE1NGw1LjYxLTUuNjA2YS42OTIuNjkyIDAgMSAwLS45NzgtLjk4bC00LjQ2MiA0LjQ2Vi42OTJhLjY5Mi42OTIgMCAxIDAtMS4zODUgMHYxMi4yM0wzLjgyOCA4LjQyOGEuNjkyLjY5MiAwIDEgMC0uOTgxLjk3NloiIGNsYXNzPSJpY29uZmlsbCIgZmlsbD0iIzlDQThCQSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+",Tn=function(e){if(!e)return"other";var t=e.lastIndexOf("."),r=e.substr(t+1).toLowerCase(),i={image:["png","jpg","jpeg","gif","webp","bmp","svg","tiff"],pdf:["pdf"],excel:["xlsx","xls"],word:["docx","doc"],ppt:["ppt","pptx"]};for(var l in i)if(i[l].includes(r))return l;return"other"},ai=function(e,t,r,i,l,c){var a,s=(0,p.useRef)(null);(0,p.useLayoutEffect)(function(){var f;c(((f=s.current)===null||f===void 0?void 0:f.offsetHeight)||0)},[r.length]);var v=t.time?t.time:Ja()(new Date((t==null?void 0:t.lastModified)||new Date)).format("YYYY-MM-DD HH:mm:ss");return(0,n.jsxs)("div",{className:"upload-list-item","data-h":(a=s.current)===null||a===void 0?void 0:a.offsetHeight,ref:s,children:[(0,n.jsxs)("div",{className:"upload-list-item-wrap flex relative",children:[(0,n.jsx)("div",{className:"file-preview icon-".concat(Tn(t.name))}),(0,n.jsxs)("div",{className:"file-info flex-1 flex flex-col justify-center items-start overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex w-full overflow-hidden",children:[(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,n.jsx)("span",{className:"file-name",title:t.name,children:t.name})}),(0,n.jsx)("div",{className:"btn-group flex justify-center",children:(0,n.jsxs)(St.Z,{size:"large",children:[t.deleteRender!==null&&(0,n.jsx)(Ua.Z,{placement:"top",title:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onConfirm:i.remove,okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsx)("img",{className:"cursor-pointer",src:En})}),t.downloadRender!==null&&(0,n.jsx)("span",{className:"cursor-pointer",onClick:i.download,children:(0,n.jsx)("img",{src:ri})})]})})]}),(0,n.jsx)("div",{style:{height:"10px"}}),(0,n.jsxs)("div",{className:"flex  w-full",children:[t.size&&(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{children:t.size/1024<1024?(t.size/1024).toFixed(2)+"K":(t.size/1024/1024).toFixed(2)+"M"})}),(0,n.jsx)("div",{children:(0,n.jsx)("span",{children:v})})]})]}),t.status==="uploading"&&(0,n.jsx)("div",{className:"absolute upload-percent justify-center items-center flex w-full h-full left-0 top-0",style:{"--percent":(t.percent||0)+"%"},children:(0,n.jsx)("p",{className:"text-white",children:(t.percent||0)<100?"\u6587\u4EF6\u4E0A\u4F20\u4E2D\uFF0C\u5DF2\u4E0A\u4F20 ".concat(t.percent,"%"):"\u4E0A\u4F20\u5B8C\u6210 !"})})]}),typeof l=="function"?l(t):l]})},ii=ai,Rn={expand:{cn:"\u5C55\u5F00",en:"Expand"},collapse:{cn:"\u6536\u8D77",en:"Collapse"}},oi=["title","theme","uploadButtonRender","placeholder","uploadButtonText","retractionEnable","attachmentListItemFooterExtendRender","tooltip","defaultFileList","fileList","layout","required","uploadClassName","language"],li=function(e,t){var r=(0,p.useRef)(null),i=(0,p.useRef)(0),l=ii,c=e.title,a=e.theme,s=a===void 0?"fund":a,v=e.uploadButtonRender,f=e.placeholder,d=e.uploadButtonText,m=d===void 0?"\u6587\u4EF6\u4E0A\u4F20":d,D=e.retractionEnable,A=D===void 0?!0:D,N=e.attachmentListItemFooterExtendRender,L=N===void 0?null:N,b=e.tooltip,S=b===void 0?"":b,F=e.defaultFileList,P=e.fileList,T=e.layout,y=T===void 0?"vertical":T,R=e.required,j=e.uploadClassName,U=j===void 0?"":j,W=e.language,E=W===void 0?"cn":W,z=Gt()(e,oi),Q=(0,p.useState)(A?"stow":"open"),G=fe()(Q,2),V=G[0],Z=G[1],J=(0,p.useState)({singleHeight:0,multiHeight:0,actualRows:0,rows:3}),H=fe()(J,2),re=H[0],ce=H[1],ne=x()({defaultFileList:F,fileList:P,showUploadList:!0,itemRender:function(B,Y,C,w){return l(B,Y,C,w,L,function(u){i.current=u})}},z),ae=(0,p.useRef)(null),ee=function(){var B;(B=ae.current)===null||B===void 0||B.click(),Z("open")},X=function(){return F!=null&&F.length?(0,n.jsx)(n.Fragment,{}):P!=null&&P.length?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)("p",{className:"upload-placeholder",children:f})},_=c||v?104:40,se=(0,p.useCallback)(function(){var k,B,Y=(k=(B=r.current)===null||B===void 0?void 0:B.offsetWidth)!==null&&k!==void 0?k:1920,C=0;Y<992&&(C=1),Y>992&&Y<1600&&(C=2),Y>1600&&(C=3),((P==null?void 0:P.length)||0)<1&&(C=1);var w=Math.ceil(((P==null?void 0:P.length)||0)/C);ce({singleHeight:(i.current+24)*2+_,multiHeight:(i.current+24)*w+_,actualRows:w,rows:C})},[P==null?void 0:P.length]);(0,p.useLayoutEffect)(function(){se(),window.addEventListener("resize",se)},[P==null?void 0:P.length]),(0,p.useImperativeHandle)(t,function(){return{setRetraction:Z,onTriggerUpload:ee}});var Se={collection:"#F6FFFA",operation:"#F6FFFA",certified:"#F6F6FF",fund:"#F6F6FF"};return(0,n.jsxs)("div",{ref:r,className:Fe()("upload-panel",U,"layout-"+y,{"upload-panel--stow":V==="stow","upload-panel--open":V==="open","upload-panel--auto":re.actualRows<3,"not-upload-file":!(P!=null&&P.length)}),style:{height:V==="stow"?re.singleHeight+"px":re.multiHeight+"px","--theme-color":Se[s],"--rows":re.rows},children:[c&&(0,n.jsxs)("div",{className:"upload-panel-header flex",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("span",{className:Fe()("font-bold",{"upload-required":R}),children:c}),S&&(0,n.jsx)(Ya.Z,{placement:"topLeft",title:S,children:(0,n.jsx)("span",{className:"tool-tip",children:(0,n.jsx)(Ha.Z,{style:{color:"#5EC385"}})})})]}),v!==null&&(0,n.jsx)("div",{children:v?typeof v=="function"?v({onTriggerUpload:ee}):v:(0,n.jsx)(Te.ZP,{onClick:ee,icon:(0,n.jsx)(Za.Z,{}),children:m})})]}),(0,n.jsxs)("div",{className:"upload-panel-body upload-list",children:[(0,n.jsx)(Ga.Z,x()(x()({},ne),{},{children:(0,n.jsx)(Te.ZP,{style:{display:"none"},ref:ae})})),(0,n.jsx)(X,{})]}),A&&re.actualRows>2&&(0,n.jsx)("div",{className:"".concat(L!==null?"retraction retraction-extra-footer":"retraction"," "),children:(0,n.jsxs)(Te.ZP,{className:"btn-retraction",type:"link",size:"small",onClick:function(){Z(function(B){return B==="stow"?"open":"stow"})},children:[(0,n.jsx)("span",{children:V==="stow"?Rn.expand[E]:Rn.collapse[E]}),(0,n.jsx)(nn.Z,{})]})})]})},ci=(0,p.forwardRef)(li),si=function(e,t,r,i){return(0,n.jsx)("div",{className:"upload-list-item upload-simple-list-item",children:(0,n.jsxs)("div",{className:"upload-list-item-wrap flex relative",children:[(0,n.jsx)("div",{className:"file-preview icon-".concat(Tn(t.name))}),(0,n.jsxs)("div",{className:"file-info flex-1 flex flex-col justify-center items-start overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex w-full overflow-hidden",children:[(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,n.jsx)("span",{className:"file-name",title:t.name,children:t.name})}),(0,n.jsx)("div",{className:"btn-group flex justify-center items-center",onClick:i.remove,children:t.downloadRender!==null&&(0,n.jsx)("img",{src:En,title:"\u5220\u9664",alt:"\u5220\u9664"})})]}),(0,n.jsx)("div",{style:{height:"10px"}})]})]})})},Ii=function(e){return new Promise(function(t){return setTimeout(t,e)})},di=function(e){var t=0,r={},i=new IntersectionObserver(function(c){c.forEach(function(a){var s=a.target.getAttribute("uuid"),v=r[s],f=v.render,d=v.delay,m=v.SetVisible;a.isIntersecting&&setTimeout(function(){f(!0)},d),m(a.isIntersecting)})},e),l=function(a){var s=a.delay,v=s===void 0?0:s,f=a.children,d=a.placeholder;v=v||(e==null?void 0:e.delay)||0,d=d||(e==null?void 0:e.placeholder)||"\u52A0\u8F7D\u4E2D...",typeof d=="function"&&(d=d());var m=(0,p.useRef)(null),D=(0,p.useState)(!1),A=fe()(D,2),N=A[0],L=A[1],b=(0,p.useState)(!1),S=fe()(b,2),F=S[0],P=S[1];(0,p.useEffect)(function(){t++;var y=m.current;y.setAttribute("uuid",String(t)),y&&i.observe(y),r[t]={render:L,delay:v,SetVisible:P,visible:F}},[]);var T=f;return typeof f=="function"&&(T=f(F)),(0,n.jsx)("div",{ref:m,children:N?T:d})};return l},ui=di,vi=["children"],fi=function o(e){for(var t=e.data,r=t===void 0?[]:t,i=e.flatData,l=i===void 0?[]:i,c=e.childrenKey,a=c===void 0?"routes":c,s=e.filter,v=0;v<r.length;v++)if(!(typeof s=="function"&&!s(r[v]))){var f=r[v][a];f!=null&&f.length?(l.push(r[v]),o({data:f,flatData:l,filter:s})):l.push(r[v])}return l},hi=function(e){var t={},r=function i(l){l.forEach(function(c){var a;t[c.path]={path:c.path,name:c.name},c!=null&&(a=c.children)!==null&&a!==void 0&&a.length&&i(c.children)})};return r(e),t},mi=function(e,t){return Math.round(Math.random()*(t-e))+e},pi=function o(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.forEach(function(r){var i=r.children,l=Gt()(r,vi);t[r.path]=l,i!=null&&i.length&&o(i,t)}),t},gi=function o(e){var t,r=e.routes,i=e.childrenKye,l=i===void 0?"children":i,c=fe()(r,1),a=c[0],s=a===void 0?{}:a;return!(s!=null&&s.component)&&(t=s[l])!==null&&t!==void 0&&t.length&&!s.redirect?o({routes:s[l],childrenKye:l}):s},yi=function(){var e=window.navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")===-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/)||e.indexOf("Samsung")>-1,ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")===-1,weixin:e.indexOf("MicroMessenger")>-1,userAgent:e}},Qn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r={},i=window.location,l=i.origin,c=i.pathname,a=i.hash,s=i.href;if(a&&a.includes("?")){var v=a.split("?")[1];v&&v.split("&").forEach(function(D){var A=D.split("="),N=fe()(A,2),L=N[0],b=N[1];L&&(r[L]=b)})}t&&(e=x()(x()({},r),e));var f=Object.entries(e).map(function(D){var A=fe()(D,2),N=A[0],L=A[1];return"".concat(N,"=").concat(L)}).join("&"),d=a.split("?")[0]||a,m="".concat(l).concat(c).concat(d).concat(f?"?"+f:"");window.history.replaceState(null,"",m)},xi=function(e){var t=e.url,r=e.name,i=document.createElement("a");i.style.display="none",i.href=t,i.setAttribute("download",decodeURIComponent(r)),document.body.appendChild(i),i.click()}},9443:function(){},58113:function(){},80051:function(){}}]);
