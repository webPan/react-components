"use strict";(self.webpackChunkreact_components=self.webpackChunkreact_components||[]).push([[873],{86054:function(T,d,e){var v;e.r(d),e.d(d,{demos:function(){return B}});var P=e(9083),V=e.n(P),W=e(43953),o=e.n(W),Z=e(91184),E=e.n(Z),h=e(38497),Q=e(79542),w=e(56690),C=e(91167),B={"qkupload-demo-0":{component:h.memo(h.lazy(E()(o()().mark(function y(){var a,c,r,f,_,n,b,j,z,R,M,A,F,k;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.resolve().then(e.bind(e,56690));case 2:return a=s.sent,c=a.message,r=a.Typography,f=a.Upload,s.next=8,Promise.resolve().then(e.t.bind(e,38497,19));case 8:return _=s.sent,n=_.default,b=_.useState,s.next=13,Promise.resolve().then(e.bind(e,91167));case 13:return j=s.sent,z=j.attachmentSimpleListItemRender,R=j.QkUpload,M=function(){var O=E()(o()().mark(function g(){return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Promise.resolve());case 1:case"end":return l.stop()}},g)}));return function(){return O.apply(this,arguments)}}(),A=r.Title,F=r.Paragraph,k=function(){var g=b([{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}]),U=V()(g,2),l=U[0],K=U[1],I=function(t){var m=t.onSuccess,i=t.file,p=t.onError,J=new FormData,D={serviceId:"16709931833741-2022-12-4693",serviceKey:"bankTransferFile",file:i};for(var L in D)D.hasOwnProperty(L)&&J.append(L,D[L]);if((i==null?void 0:i.size)/1024/1024>10){c.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M"),p==null||p(new Error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M"));return}M().then(function(S){m==null||m({a:1,data:S})})};return n.createElement("div",{className:"p-5 border-solid border-black border m-auto bg-white"},n.createElement(R,{title:"\u8BBE\u5907\u7533\u62A5\u767B\u8BB0\u8868",placeholder:"\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6",tooltip:"What do you want others to call you?",fileList:l,attachmentListItemFooterExtendRender:function(t){return n.createElement("div",null,"abc")},customRequest:function(t){I(t)},multiple:!0,onChange:function(t){var m=t.file,i=t.fileList;K(i.filter(function(p){return p.status!=="error"}))}}),n.createElement(R,{title:"\u8FD9\u91CC\u66F4\u6362\u4E0A\u4F20\u6309\u94AE",placeholder:"\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6",fileList:[{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}],customRequest:function(t){I(t)},uploadButtonRender:function(t){var m=t.onTriggerUpload;return n.createElement("div",null,"\u91CD\u65B0\u4E0A\u4F20")}}),n.createElement(f,{itemRender:z,fileList:[{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}],customRequest:function(t){I(t)}},n.createElement("div",null,"\u91CD\u65B0\u4E0A\u4F20")))},s.abrupt("return",{default:k});case 20:case"end":return s.stop()}},y)})))),asset:{type:"BLOCK",id:"qkupload-demo-0",refAtomIds:["QkUpload"],dependencies:{"index.tsx":{type:"FILE",value:`import { message, Typography, Upload } from 'antd';
import { type UploadProps } from 'antd/es/upload';
import React, { useState } from 'react';
import { attachmentSimpleListItemRender, QkUpload } from 'react-components';
const uploadProgress = async () => {
  return Promise.resolve();
};

const { Title, Paragraph } = Typography;

const Example: React.FC = () => {
  const [defaultFileList, setDefaultFileList] = useState<
    Pick<UploadProps, 'fileList'>['fileList']
  >([
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
  ]);
  const customRequest = (options: Record<string, any>) => {
    const { onSuccess, file, onError } = options;
    const fromData = new FormData();
    const params: any = {
      serviceId: '16709931833741-2022-12-4693',
      serviceKey: 'bankTransferFile',
      file,
    };
    for (const key in params) {
      if (params.hasOwnProperty(key)) {
        fromData.append(key, params[key]);
      }
    }

    if (file?.size / 1024 / 1024 > 10) {
      message.error('\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M');
      onError?.(new Error('\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M'));
      return;
    }

    uploadProgress().then((data) => {
      onSuccess?.({ a: 1, data });
    });
  };
  return (
    <div className="p-5 border-solid border-black border m-auto bg-white">
      <QkUpload
        title={'\u8BBE\u5907\u7533\u62A5\u767B\u8BB0\u8868'}
        placeholder="\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6"
        tooltip="What do you want others to call you?"
        fileList={defaultFileList}
        attachmentListItemFooterExtendRender={(file) => {
          return <div>abc</div>;
        }}
        customRequest={(options) => {
          customRequest(options);
        }}
        multiple={true}
        onChange={({ file, fileList }) => {
          setDefaultFileList(
            fileList.filter((item) => item.status !== 'error'),
          );
        }}
      />
      <QkUpload
        title={'\u8FD9\u91CC\u66F4\u6362\u4E0A\u4F20\u6309\u94AE'}
        placeholder="\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6"
        fileList={[
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
        ]}
        customRequest={(options) => {
          customRequest(options);
        }}
        uploadButtonRender={({ onTriggerUpload }) => {
          return <div>\u91CD\u65B0\u4E0A\u4F20</div>;
        }}
      />
      <Upload
        itemRender={attachmentSimpleListItemRender}
        fileList={[
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
        ]}
        customRequest={(options) => {
          customRequest(options);
        }}
      >
        <div>\u91CD\u65B0\u4E0A\u4F20</div>
      </Upload>
    </div>
  );
};

export default Example;`},antd:{type:"NPM",value:"5.20.2"},react:{type:"NPM",value:"18.3.1"},"react-components":{type:"NPM",value:"0.0.1"}},entry:"index.tsx"},context:{antd:w,react:v||(v=e.t(h,2)),"react-components":C},renderOpts:{compile:function(){var y=E()(o()().mark(function c(){var r,f=arguments;return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(440).then(e.bind(e,86440));case 2:return n.abrupt("return",(r=n.sent).default.apply(r,f));case 3:case"end":return n.stop()}},c)}));function a(){return y.apply(this,arguments)}return a}()}}}},6258:function(T,d,e){e.r(d),e.d(d,{texts:function(){return P}});var v=e(79542);const P=[{value:"\u4E3B\u8981\u662F\u57FA\u4E8E antd Upload \u5B9A\u5236\u7684\u6587\u4EF6\u4E0A\u4F20",paraId:0,tocIndex:0},{value:"\u5F53\u6587\u4EF6\u6570\u91CF\u5927\u4E8E\u4E24\u884C\u65F6\u81EA\u52A8\u6587\u4EF6\u4FE1\u606F\u6298\u53E0",paraId:0,tocIndex:0}]}}]);
