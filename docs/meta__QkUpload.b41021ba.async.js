"use strict";(self.webpackChunkreact_components=self.webpackChunkreact_components||[]).push([[873],{86054:function(O,d,e){var v;e.r(d),e.d(d,{demos:function(){return C}});var h=e(9083),V=e.n(h),W=e(43953),o=e.n(W),Z=e(91184),E=e.n(Z),P=e(38497),S=e(79542),w=e(56690),x=e(50451),C={"qkupload-demo-0":{component:P.memo(P.lazy(E()(o()().mark(function y(){var s,c,r,f,_,n,L,R,z,U,T,B,F,M;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.resolve().then(e.bind(e,56690));case 2:return s=a.sent,c=s.message,r=s.Typography,f=s.Upload,a.next=8,Promise.resolve().then(e.t.bind(e,38497,19));case 8:return _=a.sent,n=_.default,L=_.useState,a.next=13,Promise.resolve().then(e.bind(e,50451));case 13:return R=a.sent,z=R.attachmentSimpleListItemRender,U=R.QkUpload,T=function(){var k=E()(o()().mark(function g(){return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Promise.resolve());case 1:case"end":return l.stop()}},g)}));return function(){return k.apply(this,arguments)}}(),B=r.Title,F=r.Paragraph,M=function(){var g=L([{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}]),I=V()(g,2),l=I[0],A=I[1],j=function(t){var p=t.onSuccess,u=t.file,m=t.onError,K=new FormData,b={serviceId:"16709931833741-2022-12-4693",serviceKey:"bankTransferFile",file:u};for(var D in b)b.hasOwnProperty(D)&&K.append(D,b[D]);if((u==null?void 0:u.size)/1024/1024>10){c.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M"),m==null||m(new Error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M"));return}T().then(function(J){p==null||p({a:1,data:J})})};return n.createElement("div",{className:"p-5 border-solid border-black border m-auto bg-white"},n.createElement(U,{title:"\u8BBE\u5907\u7533\u62A5\u767B\u8BB0\u8868",placeholder:"\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6",tooltip:"What do you want others to call you?",fileList:l,attachmentListItemFooterExtendRender:function(t){return n.createElement("div",null,"abc")},customRequest:function(t){j(t)},multiple:!0,onChange:function(t){var p=t.file,u=t.fileList;A(u.filter(function(m){return m.status!=="error"}))}}),n.createElement(U,{title:"\u8FD9\u91CC\u66F4\u6362\u4E0A\u4F20\u6309\u94AE",placeholder:"\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6",fileList:[{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}],customRequest:function(t){j(t)},uploadButtonRender:function(t){var p=t.onTriggerUpload;return n.createElement("div",null,"\u91CD\u65B0\u4E0A\u4F20")}}),n.createElement(f,{itemRender:z,fileList:[{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}],customRequest:function(t){j(t)}},n.createElement("div",null,"\u91CD\u65B0\u4E0A\u4F20")))},a.abrupt("return",{default:M});case 20:case"end":return a.stop()}},y)})))),asset:{type:"BLOCK",id:"qkupload-demo-0",refAtomIds:["QkUpload"],dependencies:{"index.tsx":{type:"FILE",value:`import { message, Typography, Upload } from 'antd';
import { type UploadProps } from 'antd/es/upload';
import React, { useState } from 'react';
import { attachmentSimpleListItemRender, QkUpload } from 'react-components';
const uploadProgress = async () => {
  return Promise.resolve();
};

const { Title, Paragraph } = Typography;

const Example: React.FC = () => {
  const [defaultFileList, setDefaultFileList] = useState<
    Pick<UploadProps, 'fileList'>['fileList']
  >([
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
    {
      uid: '1',
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',
      status: 'done',
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      size: 2000000,
    },
  ]);
  const customRequest = (options: Record<string, any>) => {
    const { onSuccess, file, onError } = options;
    const fromData = new FormData();
    const params: any = {
      serviceId: '16709931833741-2022-12-4693',
      serviceKey: 'bankTransferFile',
      file,
    };
    for (const key in params) {
      if (params.hasOwnProperty(key)) {
        fromData.append(key, params[key]);
      }
    }

    if (file?.size / 1024 / 1024 > 10) {
      message.error('\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M');
      onError?.(new Error('\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M'));
      return;
    }

    uploadProgress().then((data) => {
      onSuccess?.({ a: 1, data });
    });
  };
  return (
    <div className="p-5 border-solid border-black border m-auto bg-white">
      <QkUpload
        title={'\u8BBE\u5907\u7533\u62A5\u767B\u8BB0\u8868'}
        placeholder="\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6"
        tooltip="What do you want others to call you?"
        fileList={defaultFileList}
        attachmentListItemFooterExtendRender={(file) => {
          return <div>abc</div>;
        }}
        customRequest={(options) => {
          customRequest(options);
        }}
        multiple={true}
        onChange={({ file, fileList }) => {
          setDefaultFileList(
            fileList.filter((item) => item.status !== 'error'),
          );
        }}
      />
      <QkUpload
        title={'\u8FD9\u91CC\u66F4\u6362\u4E0A\u4F20\u6309\u94AE'}
        placeholder="\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6"
        fileList={[
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
        ]}
        customRequest={(options) => {
          customRequest(options);
        }}
        uploadButtonRender={({ onTriggerUpload }) => {
          return <div>\u91CD\u65B0\u4E0A\u4F20</div>;
        }}
      />
      <Upload
        itemRender={attachmentSimpleListItemRender}
        fileList={[
          {
            uid: '2',
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',
            status: 'done',
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
            size: 2000000,
          },
        ]}
        customRequest={(options) => {
          customRequest(options);
        }}
      >
        <div>\u91CD\u65B0\u4E0A\u4F20</div>
      </Upload>
    </div>
  );
};

export default Example;`},antd:{type:"NPM",value:"5.20.2"},react:{type:"NPM",value:"18.3.1"},"react-components":{type:"NPM",value:"0.0.1"}},entry:"index.tsx"},context:{antd:w,react:v||(v=e.t(P,2)),"react-components":x},renderOpts:{compile:function(){var y=E()(o()().mark(function c(){var r,f=arguments;return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(440).then(e.bind(e,86440));case 2:return n.abrupt("return",(r=n.sent).default.apply(r,f));case 3:case"end":return n.stop()}},c)}));function s(){return y.apply(this,arguments)}return s}()}}}},6258:function(O,d,e){e.r(d),e.d(d,{texts:function(){return h}});var v=e(79542);const h=[{value:"\u57FA\u4E8E antd Upload\u7EC4\u4EF6 \u5B9A\u5236\u7684\u6587\u4EF6\u4E0A\u4F20",paraId:0,tocIndex:0},{value:"\u652F\u6301\u81EA\u5B9A\u4E49\u6A21\u5757\u4E0A\u4F20\u6807\u9898",paraId:1,tocIndex:0},{value:"\u652F\u6301\u6587\u4EF6\u4E0A\u4F20\u6309\u94AE\u81EA\u5B9A\u4E49",paraId:1,tocIndex:0},{value:"\u652F\u6301\u6587\u4EF6\u4E0A\u4F20\u6587\u5B57\u81EA\u5B9A\u4E49",paraId:1,tocIndex:0},{value:"\u652F\u6301\u6587\u4EF6\u5360\u4F4D\u63D0\u793A",paraId:1,tocIndex:0},{value:"\u9644\u4EF6\u5217\u8868\u652F\u6301\u6536\u8D77\u5C55\u5F00",paraId:1,tocIndex:0},{value:"\u9644\u4EF6\u5217\u8868\u5E95\u90E8\u53EF\u589E\u52A0\u81EA\u5B9A\u4E49\u989D\u5916\u5185\u5BB9",paraId:1,tocIndex:0},{value:"\u5934\u90E8\u6309\u94AE\u53EF\u91CD\u65B0\u6E32\u67D3",paraId:1,tocIndex:0},{value:"\u81EA\u5B9A\u4E49\u6807\u9898\u65C1\u8FB9\u7684tip",paraId:1,tocIndex:0},{value:"\u652F\u6301\u4E3B\u9898\u5207\u6362\uFF0C\u5185\u7F6E4\u79CD 'collection' | 'operation' | 'certified' | 'fund'",paraId:1,tocIndex:0},{value:"\u652F\u6301\u4E0A\u4F20\u6821\u9A8C",paraId:1,tocIndex:0},{value:"\u652F\u6301\u591A\u8BED\u8A00",paraId:1,tocIndex:0},{value:`/** \u6587\u4EF6\u4E0A\u4F20\u7EC4\u4EF6 */
export type QkUploadType = {
  /** \u6807\u9898 */
  title?: string | React.ReactElement;
  /** \u6587\u4EF6\u4E0A\u4F20\u6309\u94AErender */
  uploadButtonRender?:
    | (({
          onTriggerUpload,
        }: {
    onTriggerUpload: () => void;
  }) => React.ReactNode)
    | null;
  /** \u4E0A\u4F20\u6309\u94AE\u6587\u5B57 */
  uploadButtonText?: string;
  /** \u6587\u4EF6\u5360\u4F4D\u63D0\u793A */
  placeholder?: string;
  /** \u9644\u4EF6\u5217\u8868\u662F\u5426\u542F\u7528\u6536\u8D77\u6536\u7F29\u6309\u94AE */
  retractionEnable?: boolean;
  /** \u9644\u4EF6\u5217\u8868\u5E95\u90E8\u589E\u52A0\u989D\u5916\u5185\u5BB9 */
  attachmentListItemFooterExtendRender?:
    | ((file: UploadFilePlus) => React.ReactNode)
    | null;
  /** \u5934\u90E8\u6309\u94AE\u91CD\u65B0\u6E32\u67D3 */
  headerButtonRender?: React.ReactNode;
  /** \u6807\u9898\u65C1\u8FB9\u7684tip */
  tooltip?: string;
  /** \u5BF9\u9F50\u65B9\u5F0F */
  layout?: 'horizontal' | 'vertical';
  /** \u4E3B\u9898 */
  theme?: 'collection' | 'operation' | 'certified' | 'fund';
  /** \u662F\u5426\u5FC5\u586B */
  required?: boolean;
  /** \u81EA\u5B9A\u4E49\u7C7B\u540D */
  uploadClassName?: string;
  language?: 'en' | 'cn';
};

/** \u6587\u4EF6\u9644\u4EF6\u5217\u8868 */
export type UploadFilePlus = UploadFile & {
  /** \u65F6\u95F4 */
  time?: string;
  [x: string]: any;
  /** \u662F\u5426\u6E32\u67D3\u4E0B\u8F7D\u6309\u94AE */
  downloadRender?: boolean | null;
  /** \u662F\u5426\u6E32\u67D3\u5220\u9664\u6309\u94AE */
  deleteRender?: boolean | null;
};

`,paraId:2,tocIndex:2}]}}]);
