"use strict";(self.webpackChunkreact_components=self.webpackChunkreact_components||[]).push([[873],{89779:function(O,d,e){var v;e.r(d),e.d(d,{demos:function(){return B}});var h=e(9083),V=e.n(h),W=e(43953),a=e.n(W),Z=e(91184),E=e.n(Z),P=e(38497),N=e(28599),x=e(79021),C=e(25749),B={"qkupload-demo-0":{component:P.memo(P.lazy(E()(a()().mark(function y(){var o,c,s,f,_,n,L,R,z,j,T,F,A,M;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(e.bind(e,79021));case 2:return o=t.sent,c=o.message,s=o.Typography,f=o.Upload,t.next=8,Promise.resolve().then(e.t.bind(e,38497,19));case 8:return _=t.sent,n=_.default,L=_.useState,t.next=13,Promise.resolve().then(e.bind(e,25749));case 13:return R=t.sent,z=R.attachmentSimpleListItemRender,j=R.QkUpload,T=function(){var k=E()(a()().mark(function g(){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Promise.resolve());case 1:case"end":return l.stop()}},g)}));return function(){return k.apply(this,arguments)}}(),F=s.Title,A=s.Paragraph,M=function(){var g=L([{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"1",name:"dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}]),U=V()(g,2),l=U[0],K=U[1],I=function(r){var p=r.onSuccess,u=r.file,m=r.onError,J=new FormData,b={serviceId:"16709931833741-2022-12-4693",serviceKey:"bankTransferFile",file:u};for(var D in b)b.hasOwnProperty(D)&&J.append(D,b[D]);if((u==null?void 0:u.size)/1024/1024>10){c.error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M"),m==null||m(new Error("\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M"));return}T().then(function(S){p==null||p({a:1,data:S})})};return n.createElement("div",{className:"p-5 border-solid border-black border m-auto bg-white"},n.createElement(j,{title:"\u8BBE\u5907\u7533\u62A5\u767B\u8BB0\u8868",placeholder:"\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6",tooltip:"What do you want others to call you?",fileList:l,attachmentListItemFooterExtendRender:function(r){return n.createElement("div",null,"abc")},customRequest:function(r){I(r)},multiple:!0,onChange:function(r){var p=r.file,u=r.fileList;K(u.filter(function(m){return m.status!=="error"}))}}),n.createElement(j,{title:"\u8FD9\u91CC\u66F4\u6362\u4E0A\u4F20\u6309\u94AE",placeholder:"\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6",fileList:[{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6},{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}],customRequest:function(r){I(r)},uploadButtonRender:function(r){var p=r.onTriggerUpload;return n.createElement("div",null,"\u91CD\u65B0\u4E0A\u4F20")}}),n.createElement(f,{itemRender:z,fileList:[{uid:"2",name:"\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",size:2e6}],customRequest:function(r){I(r)}},n.createElement("div",null,"\u91CD\u65B0\u4E0A\u4F20")))},t.abrupt("return",{default:M});case 20:case"end":return t.stop()}},y)})))),asset:{type:"BLOCK",id:"qkupload-demo-0",refAtomIds:["QkUpload"],dependencies:{"index.tsx":{type:"FILE",value:`import { message, Typography, Upload } from 'antd';\r
import { type UploadProps } from 'antd/es/upload';\r
import React, { useState } from 'react';\r
import { attachmentSimpleListItemRender, QkUpload } from 'react-components';\r
const uploadProgress = async () => {\r
  return Promise.resolve();\r
};\r
\r
const { Title, Paragraph } = Typography;\r
\r
const Example: React.FC = () => {\r
  const [defaultFileList, setDefaultFileList] = useState<\r
    Pick<UploadProps, 'fileList'>['fileList']\r
  >([\r
    {\r
      uid: '1',\r
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',\r
      status: 'done',\r
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r
      size: 2000000,\r
    },\r
    {\r
      uid: '1',\r
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',\r
      status: 'done',\r
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r
      size: 2000000,\r
    },\r
    {\r
      uid: '1',\r
      name: 'dfasdfasd\u6492\u65E6\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u751F\u963F\u65AF\u987F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9.png',\r
      status: 'done',\r
      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r
      size: 2000000,\r
    },\r
  ]);\r
  const customRequest = (options: Record<string, any>) => {\r
    const { onSuccess, file, onError } = options;\r
    const fromData = new FormData();\r
    const params: any = {\r
      serviceId: '16709931833741-2022-12-4693',\r
      serviceKey: 'bankTransferFile',\r
      file,\r
    };\r
    for (const key in params) {\r
      if (params.hasOwnProperty(key)) {\r
        fromData.append(key, params[key]);\r
      }\r
    }\r
\r
    if (file?.size / 1024 / 1024 > 10) {\r
      message.error('\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M');\r
      onError?.(new Error('\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710M'));\r
      return;\r
    }\r
\r
    uploadProgress().then((data) => {\r
      onSuccess?.({ a: 1, data });\r
    });\r
  };\r
  return (\r
    <div className="p-5 border-solid border-black border m-auto bg-white">\r
      <QkUpload\r
        title={'\u8BBE\u5907\u7533\u62A5\u767B\u8BB0\u8868'}\r
        placeholder="\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6"\r
        tooltip="What do you want others to call you?"\r
        fileList={defaultFileList}\r
        attachmentListItemFooterExtendRender={(file) => {\r
          return <div>abc</div>;\r
        }}\r
        customRequest={(options) => {\r
          customRequest(options);\r
        }}\r
        multiple={true}\r
        onChange={({ file, fileList }) => {\r
          setDefaultFileList(\r
            fileList.filter((item) => item.status !== 'error'),\r
          );\r
        }}\r
      />\r
      <QkUpload\r
        title={'\u8FD9\u91CC\u66F4\u6362\u4E0A\u4F20\u6309\u94AE'}\r
        placeholder="\u8FD8\u6CA1\u6709\u4E0A\u4F20\u5176\u4ED6\u7C7B\u578B\u6587\u4EF6"\r
        fileList={[\r
          {\r
            uid: '2',\r
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',\r
            status: 'done',\r
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r
            size: 2000000,\r
          },\r
          {\r
            uid: '2',\r
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',\r
            status: 'done',\r
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r
            size: 2000000,\r
          },\r
          {\r
            uid: '2',\r
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',\r
            status: 'done',\r
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r
            size: 2000000,\r
          },\r
        ]}\r
        customRequest={(options) => {\r
          customRequest(options);\r
        }}\r
        uploadButtonRender={({ onTriggerUpload }) => {\r
          return <div>\u91CD\u65B0\u4E0A\u4F20</div>;\r
        }}\r
      />\r
      <Upload\r
        itemRender={attachmentSimpleListItemRender}\r
        fileList={[\r
          {\r
            uid: '2',\r
            name: '\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u7684\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u554A\u4F46\u662F\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u53D1\u5C04\u70B9\u554A\u624B\u52A8\u9600\u624B\u52A8\u9600\u624B\u52A8\u9600.png',\r
            status: 'done',\r
            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r
            size: 2000000,\r
          },\r
        ]}\r
        customRequest={(options) => {\r
          customRequest(options);\r
        }}\r
      >\r
        <div>\u91CD\u65B0\u4E0A\u4F20</div>\r
      </Upload>\r
    </div>\r
  );\r
};\r
\r
export default Example;`},antd:{type:"NPM",value:"5.21.4"},react:{type:"NPM",value:"18.3.1"},"react-components":{type:"NPM",value:"0.0.1"}},entry:"index.tsx"},context:{antd:x,react:v||(v=e.t(P,2)),"react-components":C},renderOpts:{compile:function(){var y=E()(a()().mark(function c(){var s,f=arguments;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(350).then(e.bind(e,48350));case 2:return n.abrupt("return",(s=n.sent).default.apply(s,f));case 3:case"end":return n.stop()}},c)}));function o(){return y.apply(this,arguments)}return o}()}}}},66268:function(O,d,e){e.r(d),e.d(d,{texts:function(){return h}});var v=e(28599);const h=[{value:"\u57FA\u4E8E antd Upload\u7EC4\u4EF6 \u5B9A\u5236\u7684\u6587\u4EF6\u4E0A\u4F20",paraId:0,tocIndex:0},{value:"\u652F\u6301\u81EA\u5B9A\u4E49\u6A21\u5757\u4E0A\u4F20\u6807\u9898",paraId:1,tocIndex:0},{value:"\u652F\u6301\u6587\u4EF6\u4E0A\u4F20\u6309\u94AE\u81EA\u5B9A\u4E49",paraId:1,tocIndex:0},{value:"\u652F\u6301\u6587\u4EF6\u4E0A\u4F20\u6587\u5B57\u81EA\u5B9A\u4E49",paraId:1,tocIndex:0},{value:"\u652F\u6301\u6587\u4EF6\u5360\u4F4D\u63D0\u793A",paraId:1,tocIndex:0},{value:"\u9644\u4EF6\u5217\u8868\u652F\u6301\u6536\u8D77\u5C55\u5F00",paraId:1,tocIndex:0},{value:"\u9644\u4EF6\u5217\u8868\u5E95\u90E8\u53EF\u589E\u52A0\u81EA\u5B9A\u4E49\u989D\u5916\u5185\u5BB9",paraId:1,tocIndex:0},{value:"\u5934\u90E8\u6309\u94AE\u53EF\u91CD\u65B0\u6E32\u67D3",paraId:1,tocIndex:0},{value:"\u81EA\u5B9A\u4E49\u6807\u9898\u65C1\u8FB9\u7684tip",paraId:1,tocIndex:0},{value:"\u652F\u6301\u4E3B\u9898\u5207\u6362\uFF0C\u5185\u7F6E4\u79CD 'collection' | 'operation' | 'certified' | 'fund'",paraId:1,tocIndex:0},{value:"\u652F\u6301\u4E0A\u4F20\u6821\u9A8C",paraId:1,tocIndex:0},{value:"\u652F\u6301\u591A\u8BED\u8A00",paraId:1,tocIndex:0},{value:`/** \u6587\u4EF6\u4E0A\u4F20\u7EC4\u4EF6 */\r
export type QkUploadType = {\r
  /** \u6807\u9898 */\r
  title?: string | React.ReactElement;\r
  /** \u6587\u4EF6\u4E0A\u4F20\u6309\u94AErender */\r
  uploadButtonRender?:\r
    | (({\r
          onTriggerUpload,\r
        }: {\r
    onTriggerUpload: () => void;\r
  }) => React.ReactNode)\r
    | null;\r
  /** \u4E0A\u4F20\u6309\u94AE\u6587\u5B57 */\r
  uploadButtonText?: string;\r
  /** \u6587\u4EF6\u5360\u4F4D\u63D0\u793A */\r
  placeholder?: string;\r
  /** \u9644\u4EF6\u5217\u8868\u662F\u5426\u542F\u7528\u6536\u8D77\u6536\u7F29\u6309\u94AE */\r
  retractionEnable?: boolean;\r
  /** \u9644\u4EF6\u5217\u8868\u5E95\u90E8\u589E\u52A0\u989D\u5916\u5185\u5BB9 */\r
  attachmentListItemFooterExtendRender?:\r
    | ((file: UploadFilePlus) => React.ReactNode)\r
    | null;\r
  /** \u5934\u90E8\u6309\u94AE\u91CD\u65B0\u6E32\u67D3 */\r
  headerButtonRender?: React.ReactNode;\r
  /** \u6807\u9898\u65C1\u8FB9\u7684tip */\r
  tooltip?: string;\r
  /** \u5BF9\u9F50\u65B9\u5F0F */\r
  layout?: 'horizontal' | 'vertical';\r
  /** \u4E3B\u9898 */\r
  theme?: 'collection' | 'operation' | 'certified' | 'fund';\r
  /** \u662F\u5426\u5FC5\u586B */\r
  required?: boolean;\r
  /** \u81EA\u5B9A\u4E49\u7C7B\u540D */\r
  uploadClassName?: string;\r
  language?: 'en' | 'cn';\r
};\r
\r
/** \u6587\u4EF6\u9644\u4EF6\u5217\u8868 */\r
export type UploadFilePlus = UploadFile & {\r
  /** \u65F6\u95F4 */\r
  time?: string;\r
  [x: string]: any;\r
  /** \u662F\u5426\u6E32\u67D3\u4E0B\u8F7D\u6309\u94AE */\r
  downloadRender?: boolean | null;\r
  /** \u662F\u5426\u6E32\u67D3\u5220\u9664\u6309\u94AE */\r
  deleteRender?: boolean | null;\r
};\r

`,paraId:2,tocIndex:2}]}}]);
