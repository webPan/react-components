:root {
  --line-width: 2px;
}
.qk-sketch-map {
  text-align: center;
  overflow: auto;
}
.pv-diagram {
  border-radius: 8px;
  display: inline-block;
  .pv-diagram-warp {
    padding: 40px 30px;
    background: #fff;
    padding-top: 70px;
    border-radius: 8px;
  }

  .watt-hour-meter {
    padding: 65px 0px;
    margin-right: 45px;
    height: 100%;
    &-wrap {
      padding: 25px;
      border-radius: 8px;
      border: 1px solid rgba(28, 157, 186, 0.6);
    }
  }
  //连线
  .whm-sm-connection {
    width: 25px;
    position: relative;
    margin-left: 10px;
    &__line-top {
      position: absolute;
      top: 0;
      height: calc(50% - 47px);
      border-right: var(--line-width) dotted #3f65f4;
      left: 0;
      right: 0;
      margin: auto;
      width: 0;
      margin-top: 40px;
      &:before {
        content: '';
        position: absolute;
        width: 15px;
        height: 15px;
        border: var(--line-width) dotted #3f65f4;
        border-radius: 50%;
        top: -7px;
        border-left-color: transparent;
        border-bottom-color: transparent;
        border-right-color: transparent;
        transform: rotate(-25deg);
      }
      &:after {
        content: '';
        position: absolute;
        width: var(--line-width);
        height: var(--line-width);
        border-radius: 50%;
        background: #3f65f4;
        bottom: 0;
        margin-bottom: -4px;
        margin-left: -3px;
      }
    }
    &__line-bottom {
      position: absolute;
      bottom: 0;
      height: calc(50% - 47px);
      border-right: var(--line-width) dotted #3f65f4;
      left: 0;
      right: 0;
      margin: auto;
      margin-bottom: 40px;
      width: 0;
      &:before {
        content: '';
        position: absolute;
        width: 15px;
        height: 15px;
        border: var(--line-width) dotted #3f65f4;
        border-radius: 50%;
        bottom: -7px;
        border-left-color: transparent;
        border-top-color: transparent;
        border-right-color: transparent;
        transform: rotate(25deg);
      }
      &:after {
        content: '';
        position: absolute;
        width: var(--line-width);
        height: var(--line-width);
        border-radius: 50%;
        background: #3f65f4;
        top: 0;
        margin-top: -4px;
        margin-left: -3px;
      }
    }
    &__line-center {
      height: 0;
      position: absolute;
      top: 0;
      bottom: 0px;
      right: 0;
      width: 30%;
      left: -15px;
      margin: auto;
      border-top: var(--line-width) dotted #3f65f4;
      top: 3px;
      &:before {
        content: '';
        position: absolute;
        height: 10px;
        width: 10px;
        border: var(--line-width) solid #3f65f4;
        top: 0;
        bottom: 0;
        margin: auto;
        border-right-color: transparent;
        border-bottom-color: transparent;
        transform: rotate(-45deg);
        margin-top: -8px;
        margin-left: -8px;
        border-radius: 4px;
      }
    }
  }
  //电表
  .watt-hour-meter-wrap {
    background: #fcfffe;
    position: relative;
    &__name {
      position: absolute;
      left: 0;
      top: -40px;
      color: rgba(28, 157, 186, 1);
      font-size: 16px;
    }
    .sub-meter {
      &-wrap {
        .watt-hour-meter-comp {
          position: relative;
          &__line {
            &:before {
              position: absolute;
              content: '';
              width: 10px;
              height: 0;
              border-top: var(--line-width) dotted #3f65f4;
              left: 0;
              top: 0;
              bottom: 0;
              margin: auto;
              margin-left: -10px;
            }
          }
        }
      }
      .seize-seat {
        height: 149px;
      }
    }
  }
  //区域
  .area-wrap {
    background: #fcfcff;
    border-radius: 8px;
    border: 1px solid rgba(189, 197, 211, 0.71);
    padding: 37px 21px;
    display: inline-block;
    position: relative;
    &__name {
      position: absolute;
      left: 0;
      top: -40px;
      color: rgba(91, 108, 126, 1);
      font-size: 16px;
    }
    .area-equipment-row {
      margin-bottom: 40px;
      position: relative;
      &:last-child {
        margin-bottom: 0;
      }
      &:before {
        content: '';
        position: absolute;
        width: 94px;
        height: var(--line-width);
        background: #3f65f4;
        top: 0;
        bottom: 0;
        left: -94px;
        margin: auto;
      }
    }
    .regional-equipment {
      width: 341px;
      height: 174px;
      background-color: #ffffff;
      background-image: url('./images/bg-area.png');
      background-repeat: no-repeat;
      box-shadow: 0px 3px 5px 0px rgba(57, 97, 244, 0.04);
      border-radius: 4px;
      border: 1px solid #c0e2ff;
      position: relative;
      margin-right: 20px;
      &:last-child {
        margin-right: 0;
      }
      &-eq-row {
      }
      &__name {
        position: absolute;
        width: 171px;
        height: 34px;
        background: #d9f1ff;
        border-radius: 17px;
        left: 0;
        right: 0;
        top: 0;
        margin: auto;
        margin-top: -17px;
        text-align: center;
        line-height: 34px;
      }
      &-asse {
        margin-right: 50px;
        margin-top: 36px;
        &:last-child {
          margin-right: 0;
        }
      }
      &-eq {
        .eq__icon {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          margin-bottom: 15px;
          margin: auto;
          box-shadow: 0px 8px 12px 0px rgba(148, 160, 202, 0.19);
          &.icon-inverter {
            background-image: url('./images/icon-inverter.png');
            background-size: contain;
          }
          &.icon-photovoltaicModules {
            background-image: url('./images/icon-pv.png');
            background-size: contain;
          }
        }
        .eq__name {
          font-size: 14px;
          color: #28323c;
          text-align: center;
          margin-top: 10px;
        }
      }
      &-number {
        width: 68px;
        height: 33px;
        background: #ecedf4;
        color: #5b6c7e;
        font-size: 14px;
        text-align: center;
        line-height: 33px;
        margin-top: 15px;
      }
    }
  }
  .watt-hour-meter-comp {
    width: 162px;
    height: 65px;
    background: #ffffff;
    box-shadow: 0px 3px 5px 0px rgba(57, 97, 244, 0.04);
    border-radius: 4px;
    border: 1px solid #f0f4fc;
    padding: 0 18px;
    .equipment__icon {
      width: 36px;
      margin-right: 10px;
      .icon {
        display: block;
        height: 36px;
        width: 36px;
        border-radius: 50%;
        &-summaryTable,
        &-wattHourMeter {
          background-image: url('./images/icon-electricity-meter.png');
          background-size: contain;
        }
      }
    }
    .equipment__name {
      font-size: 14px;
      color: rgba(40, 50, 60, 1);
    }
  }
}

.pv-diagram {
  &.not-project-summary {
    .watt-hour-meter-wrap .sub-meter-wrap .watt-hour-meter-comp__line:before,
    .whm-sm-connection {
      display: none;
    }
  }
  &.not-sub-meter.has-project-summary {
    .whm-sm-connection__line-bottom,
    .whm-sm-connection__line-top {
      display: none;
    }
  }
  &.not-sub-meter.not-project-summary {
    .watt-hour-meter,
    .area-wrap .area-equipment-row:before {
      display: none;
    }
  }
  &.has-project-summary.sub-meter-number-1 {
    .whm-sm-connection__line-bottom,
    .whm-sm-connection__line-top {
      display: none;
    }
  }
}
